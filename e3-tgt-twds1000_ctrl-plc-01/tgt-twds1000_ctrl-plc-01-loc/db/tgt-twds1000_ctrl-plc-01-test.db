
record(stringin, "Tgt-TWDS1000:Ctrl-PLC-01:ModVersionR") {
	field(DISP,	"1")
	field(VAL,	"$(MODVERSION=N/A)")
	field(PINI,	"YES")
}

record(stringin, "Tgt-TWDS1000:Ctrl-PLC-01:PLCFCommitR") {
	field(DISP,	"1")
#f1289053d9df2e9dccebe3f8e128688bc60589b8
	field(VAL,	"f1289053d9df2e9dccebe3f8e128688bc60589b")
	field(PINI,	"YES")
	info("plcf_commit", "f1289053d9df2e9dccebe3f8e128688bc60589b8")
}

#########################################################
########## EPICS <-> PLC connection management ##########
#########################################################
record(bi, "Tgt-TWDS1000:Ctrl-PLC-01:ModbusConnectedR") {
	field(DESC,	"Shows if the MODBUS channel connected")
	field(ONAM,	"Connected")
	field(ZNAM,	"Disconnected")
	field(ZSV,      "MAJOR")
	field(VAL,	"1")
	field(PINI,	"YES")
	field(FLNK,	"Tgt-TWDS1000:Ctrl-PLC-01:CommsHashToPLCS")
}
record(bi, "Tgt-TWDS1000:Ctrl-PLC-01:S7ConnectedR") {
	field(DESC,	"Shows if the S7 channel is connected")
	field(ONAM,	"Connected")
	field(ZNAM,	"Disconnected")
	field(ZSV,      "MAJOR")
	field(VAL,	"1")
	field(PINI,	"YES")
}
record(calcout, "Tgt-TWDS1000:Ctrl-PLC-01:iCalcConn") {
	field(INPA,	"Tgt-TWDS1000:Ctrl-PLC-01:S7ConnectedR CP")
	field(INPB,	"Tgt-TWDS1000:Ctrl-PLC-01:ModbusConnectedR CP")
	field(CALC,	"A && B")
	field(OUT,	"Tgt-TWDS1000:Ctrl-PLC-01:ConnectedR PP")
}
record(bi, "Tgt-TWDS1000:Ctrl-PLC-01:ConnectedR") {
	field(DESC,	"Shows if the PLC is connected")
	field(ONAM,	"Connected")
	field(ZNAM,	"Disconnected")
	field(ZSV,      "MAJOR")
}
record(bi, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR") {
	field(DESC,	"Shows if the comms hash is correct")
	field(ONAM,	"Correct")
	field(ZNAM,	"Incorrect")
	field(ZSV,      "MAJOR")
}
record(bi, "Tgt-TWDS1000:Ctrl-PLC-01:AliveR") {
	alias("Tgt-TWDS1000:Ctrl-PLC-01:CommsOK")
	field(DESC,	"Shows if the PLC is sending heartbeats")
	field(ONAM,	"Alive")
	field(ZNAM,	"Not responding")
	field(ZSV,      "MAJOR")
}
record(calcout, "Tgt-TWDS1000:Ctrl-PLC-01:iCheckHash") {
	field(INPA,	"Tgt-TWDS1000:Ctrl-PLC-01:iCommsHashToPLC")
	field(INPB,	"Tgt-TWDS1000:Ctrl-PLC-01:CommsHashFromPLCR")
	field(INPC,	"Tgt-TWDS1000:Ctrl-PLC-01:CommsHashFromPLCR.STAT")
	field(CALC,	"A == B && C == 0")
	field(OOPT,	"On Change")
	field(OUT,	"Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR PP")
}
record(bi, "Tgt-TWDS1000:Ctrl-PLC-01:iOne") {
	field(DISP,	"1")
	field(PINI,	"YES")
	field(VAL,	"1")
}
record(bo, "Tgt-TWDS1000:Ctrl-PLC-01:iGotHeartbeat") {
	field(DOL,	"Tgt-TWDS1000:Ctrl-PLC-01:iOne")
	field(OMSL,	"closed_loop")
	field(OUT,	"Tgt-TWDS1000:Ctrl-PLC-01:iKickAlive PP")
}
record(bo, "Tgt-TWDS1000:Ctrl-PLC-01:iKickAlive") {
	field(HIGH,	"5")
	field(OUT,	"Tgt-TWDS1000:Ctrl-PLC-01:AliveR PP")
}

########################################################
########## EPICS -> PLC comms management data ##########
########################################################
record(ao, "Tgt-TWDS1000:Ctrl-PLC-01:iCommsHashToPLC") {
	field(DISP,	"1")
	field(PINI,	"YES")
	field(VAL,	"914832792")
}
record(ao, "Tgt-TWDS1000:Ctrl-PLC-01:CommsHashToPLCS") {
	field(DESC,	"Sends comms hash to PLC")
	field(OMSL,	"closed_loop")
	field(DOL,	"Tgt-TWDS1000:Ctrl-PLC-01:iCommsHashToPLC")
	field(DISV,	"0")
	field(SDIS,	"Tgt-TWDS1000:Ctrl-PLC-01:ConnectedR")
}
record(calc, "Tgt-TWDS1000:Ctrl-PLC-01:iHeartbeatToPLC") {
	field(SCAN,	"1 second")
	field(INPA,	"Tgt-TWDS1000:Ctrl-PLC-01:iHeartbeatToPLC.VAL")
	field(CALC,	"(A >= 32000)? 0 : A + 1")
	field(FLNK,	"Tgt-TWDS1000:Ctrl-PLC-01:HeartbeatToPLCS")
	field(DISV,	"0")
	field(SDIS,	"Tgt-TWDS1000:Ctrl-PLC-01:ConnectedR")
}
record(ao, "Tgt-TWDS1000:Ctrl-PLC-01:HeartbeatToPLCS") {
	field(DESC,	"Sends heartbeat to PLC")
	field(OMSL,	"closed_loop")
	field(DOL,	"Tgt-TWDS1000:Ctrl-PLC-01:iHeartbeatToPLC.VAL")
	field(OIF,	"Full")
	field(DRVL,	"0")
	field(DRVH,	"32000")
}

########################################################
########## PLC -> EPICS comms management data ##########
########################################################
record(ai, "Tgt-TWDS1000:Ctrl-PLC-01:CommsHashFromPLCR") {
	field(DESC,	"Comms hash from PLC")
	field(SCAN,	"1 second")
	field(PINI,	"YES")
	field(VAL,	"914832792")
	field(FLNK,	"Tgt-TWDS1000:Ctrl-PLC-01:iCheckHash")
}
record(ai, "Tgt-TWDS1000:Ctrl-PLC-01:HeartbeatFromPLCR") {
	field(DESC,	"Heartbeat from PLC")
	field(INP,	"Tgt-TWDS1000:Ctrl-PLC-01:iHeartbeatToPLC.VAL CP")
	field(FLNK,	"Tgt-TWDS1000:Ctrl-PLC-01:iGotHeartbeat")
}

########################################################
################# Test management data #################
########################################################
record(ao, "Tgt-TWDS1000:Ctrl-PLC-01:FixHashS") {
	field(DESC,	"Make HASH correct")
	field(OMSL,	"closed_loop")
	field(DOL,	"Tgt-TWDS1000:Ctrl-PLC-01:iCommsHashToPLC")
	field(OUT,	"Tgt-TWDS1000:Ctrl-PLC-01:CommsHashFromPLCR PP")
}

record(bo, "Tgt-TWDS1000:Ctrl-PLC-01:RuinHashS") {
	field(DESC,	"Make HASH incorrect")
	field(FLNK,	"Tgt-TWDS1000:Ctrl-PLC-01:iRuinHash")
}
record(calcout, "Tgt-TWDS1000:Ctrl-PLC-01:iRuinHash") {
	field(DESC,	"Make HASH incorrect")
	field(INPA,	"Tgt-TWDS1000:Ctrl-PLC-01:iCommsHashToPLC")
	field(CALC,	"A * -1")
	field(OUT,	"Tgt-TWDS1000:Ctrl-PLC-01:CommsHashFromPLCR PP")
}

##########
########## Tgt-TWDS1000:Mech-EE-050 ##########
##########
##########

#Author:  Johannes Kazantzidis
#Date:    03-12-2019
#Version: v1.0

############################
#STATUS BLOCK
############################
#<<<--- define_status_block()

##########
########## Tgt-TWDS1000:Mech-EE-050 PLC   -> EPICS status   ##########
##########

#Operation modes
#<<<--- add_digital("OpMode_FreeRun",          PV_DESC="Operation Mode FreeRun", PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Mech-EE-050:OpMode_FreeRun")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Operation Mode FreeRun")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-EE-050_iDB")
	info("plc_variable", "OpMode_FreeRun")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("OpMode_Forced",           PV_DESC="Operation Mode Forced",  PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Mech-EE-050:OpMode_Forced")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Operation Mode Forced")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-EE-050_iDB")
	info("plc_variable", "OpMode_Forced")
	info(autosaveFields_pass0, "VAL")
}


#Inhibit signals (set by the PLC code, can't be changed by the OPI)
#<<<--- add_digital("Inhibit_Manual",          PV_DESC="Inhibit Manual Mode",    PV_ONAM="InhibitManual",              PV_ZNAM="AllowManual")
record(bi, "Tgt-TWDS1000:Mech-EE-050:Inhibit_Manual")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Inhibit Manual Mode")
	field(ONAM, "InhibitManual")
	field(ZNAM, "AllowManual")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-EE-050_iDB")
	info("plc_variable", "Inhibit_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Force",           PV_DESC="Inhibit Force Mode",     PV_ONAM="InhibitForce",               PV_ZNAM="AllowForce")
record(bi, "Tgt-TWDS1000:Mech-EE-050:Inhibit_Force")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Inhibit Force Mode")
	field(ONAM, "InhibitForce")
	field(ZNAM, "AllowForce")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-EE-050_iDB")
	info("plc_variable", "Inhibit_Force")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Lock",            PV_DESC="Inhibit Locking",        PV_ONAM="InhibitLocking",             PV_ZNAM="AllowLocking")
record(bi, "Tgt-TWDS1000:Mech-EE-050:Inhibit_Lock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Inhibit Locking")
	field(ONAM, "InhibitLocking")
	field(ZNAM, "AllowLocking")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-EE-050_iDB")
	info("plc_variable", "Inhibit_Lock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("TransmitterColor",         "INT",                            PV_DESC="Transmitter color")
record(ai, "Tgt-TWDS1000:Mech-EE-050:TransmitterColor")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Transmitter color")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-EE-050_iDB")
	info("plc_variable", "TransmitterColor")
	info(autosaveFields_pass0, "VAL")
}


#for OPI visualization
#<<<--- add_digital("EnableFreeRunBtn",        PV_DESC="Enable Free Run Button", PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Mech-EE-050:EnableFreeRunBtn")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Enable Free Run Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-EE-050_iDB")
	info("plc_variable", "EnableFreeRunBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableForcedBtn",         PV_DESC="Enable Force Button",    PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Mech-EE-050:EnableForcedBtn")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Enable Force Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-EE-050_iDB")
	info("plc_variable", "EnableForcedBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableManualBtn",         PV_DESC="Enable Manual Button",   PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Mech-EE-050:EnableManualBtn")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Enable Manual Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-EE-050_iDB")
	info("plc_variable", "EnableManualBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("ScaleLOW",                 "REAL",                           PV_DESC="Scale LOW",                  PV_EGU="null")
record(ai, "Tgt-TWDS1000:Mech-EE-050:ScaleLOW")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Scale LOW")
	field(EGU,  "null")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-EE-050_iDB")
	info("plc_variable", "ScaleLOW")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("ScaleHIGH",                "REAL",                           PV_DESC="Scale HIGH",                 PV_EGU="null")
record(ai, "Tgt-TWDS1000:Mech-EE-050:ScaleHIGH")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Scale HIGH")
	field(EGU,  "null")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-EE-050_iDB")
	info("plc_variable", "ScaleHIGH")
	info(autosaveFields_pass0, "VAL")
}


#Transmitter value
#<<<--- add_analog("MeasValue",                "REAL",                           PV_DESC="Value in Engineering Unit",          PV_EGU="null")
record(ai, "Tgt-TWDS1000:Mech-EE-050:MeasValue")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Value in Engineering Unit")
	field(EGU,  "null")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-EE-050_iDB")
	info("plc_variable", "MeasValue")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("MeasCurrent",              "REAL",                           PV_DESC="Measured Current",     PV_EGU="mA")
record(ai, "Tgt-TWDS1000:Mech-EE-050:MeasCurrent")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Measured Current")
	field(EGU,  "mA")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-EE-050_iDB")
	info("plc_variable", "MeasCurrent")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_digital("DevLocked",               PV_DESC="Device Locked",          PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Mech-EE-050:DevLocked")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Device Locked")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-EE-050_iDB")
	info("plc_variable", "DevLocked")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("Faceplate_LockID",         "DINT",                           PV_DESC="Owner Lock ID")
record(ai, "Tgt-TWDS1000:Mech-EE-050:Faceplate_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Owner Lock ID")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-EE-050_iDB")
	info("plc_variable", "Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("BlockIcon_LockID",         "DINT",                           PV_DESC="Guest Lock ID")
record(ai, "Tgt-TWDS1000:Mech-EE-050:BlockIcon_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Guest Lock ID")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-EE-050_iDB")
	info("plc_variable", "BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("LatchAlarm",                            PV_DESC="Latching of the alarms")
record(bi, "Tgt-TWDS1000:Mech-EE-050:LatchAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Latching of the alarms")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-EE-050_iDB")
	info("plc_variable", "LatchAlarm")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("GroupAlarm",                            PV_DESC="Group Alarm for OPI")
record(bi, "Tgt-TWDS1000:Mech-EE-050:GroupAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Group Alarm for OPI")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-EE-050_iDB")
	info("plc_variable", "GroupAlarm")
	info(autosaveFields_pass0, "VAL")
}


#Alarm signals
#<<<--- add_major_alarm("Underrange",          "Value Underrange",         PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-EE-050:Underrange")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Value Underrange")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-EE-050_iDB")
	info("plc_variable", "Underrange")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Overrange",           "Value Overrange",          PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-EE-050:Overrange")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Value Overrange")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-EE-050_iDB")
	info("plc_variable", "Overrange")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("HIHI",                "Value HIHI",               PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-EE-050:HIHI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Value HIHI")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-EE-050_iDB")
	info("plc_variable", "HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_minor_alarm("HI",                  "Value HI",                 PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-EE-050:HI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Value HI")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-EE-050_iDB")
	info("plc_variable", "HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_minor_alarm("LO",                  "Value LO",                 PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-EE-050:LO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Value LO")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-EE-050_iDB")
	info("plc_variable", "LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("LOLO",                "Value LOLO",               PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-EE-050:LOLO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Value LOLO")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-EE-050_iDB")
	info("plc_variable", "LOLO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("IO_Error",            "IO_Error",                       PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-EE-050:IO_Error")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "IO_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-EE-050_iDB")
	info("plc_variable", "IO_Error")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Module_Error",        "Module_Error",                   PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-EE-050:Module_Error")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Module_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-EE-050_iDB")
	info("plc_variable", "Module_Error")
	info(autosaveFields_pass0, "VAL")
}


#Feedback
#<<<--- add_analog("FB_ForceValue",            "REAL",                           PV_DESC="Feedback Force Value", PV_EGU="null")
record(ai, "Tgt-TWDS1000:Mech-EE-050:FB_ForceValue")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Feedback Force Value")
	field(EGU,  "null")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-EE-050_iDB")
	info("plc_variable", "FB_ForceValue")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_HIHI",            "REAL",                           PV_DESC="Feedback Limit HIHI",        PV_EGU="null")
record(ai, "Tgt-TWDS1000:Mech-EE-050:FB_Limit_HIHI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Feedback Limit HIHI")
	field(EGU,  "null")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-EE-050_iDB")
	info("plc_variable", "FB_Limit_HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_HI",              "REAL",                           PV_DESC="Feedback Limit HI",          PV_EGU="null")
record(ai, "Tgt-TWDS1000:Mech-EE-050:FB_Limit_HI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Feedback Limit HI")
	field(EGU,  "null")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-EE-050_iDB")
	info("plc_variable", "FB_Limit_HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_LO",              "REAL",                           PV_DESC="Feedback Limit LO",          PV_EGU="null")
record(ai, "Tgt-TWDS1000:Mech-EE-050:FB_Limit_LO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Feedback Limit LO")
	field(EGU,  "null")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-EE-050_iDB")
	info("plc_variable", "FB_Limit_LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_LOLO",            "REAL",                           PV_DESC="Feedback Limit LOLO",        PV_EGU="null")
record(ai, "Tgt-TWDS1000:Mech-EE-050:FB_Limit_LOLO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Feedback Limit LOLO")
	field(EGU,  "null")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-EE-050_iDB")
	info("plc_variable", "FB_Limit_LOLO")
	info(autosaveFields_pass0, "VAL")
}



############################
#COMMAND BLOCK
############################
#<<<--- define_command_block()

##########
########## Tgt-TWDS1000:Mech-EE-050 EPICS -> PLC commands   ##########
##########

#OPI buttons
#<<<--- add_digital("Cmd_FreeRun",             PV_DESC="CMD: FreeRun Mode")
record(bo, "Tgt-TWDS1000:Mech-EE-050:Cmd_FreeRun")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: FreeRun Mode")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-EE-050_iDB")
	info("plc_variable", "Cmd_FreeRun")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_Force",               PV_DESC="CMD: Force Mode")
record(bo, "Tgt-TWDS1000:Mech-EE-050:Cmd_Force")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Force Mode")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-EE-050_iDB")
	info("plc_variable", "Cmd_Force")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_ForceVal",            PV_DESC="CMD: Force Value")
record(bo, "Tgt-TWDS1000:Mech-EE-050:Cmd_ForceVal")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Force Value")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-EE-050_iDB")
	info("plc_variable", "Cmd_ForceVal")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_AckAlarm",            PV_DESC="CMD: Acknowledge Alarm")
record(bo, "Tgt-TWDS1000:Mech-EE-050:Cmd_AckAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Acknowledge Alarm")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-EE-050_iDB")
	info("plc_variable", "Cmd_AckAlarm")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_ForceUnlock",         PV_DESC="CMD: Force Unlock Device")
record(bo, "Tgt-TWDS1000:Mech-EE-050:Cmd_ForceUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Force Unlock Device")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-EE-050_iDB")
	info("plc_variable", "Cmd_ForceUnlock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevLock",             PV_DESC="CMD: Lock Device")
record(bo, "Tgt-TWDS1000:Mech-EE-050:Cmd_DevLock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Lock Device")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-EE-050_iDB")
	info("plc_variable", "Cmd_DevLock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevUnlock",           PV_DESC="CMD: Unlock Device")
record(bo, "Tgt-TWDS1000:Mech-EE-050:Cmd_DevUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Unlock Device")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-EE-050_iDB")
	info("plc_variable", "Cmd_DevUnlock")
	info(autosaveFields_pass0, "VAL")
}


############################
#PARAMETER BLOCK
############################
#<<<--- define_parameter_block()

##########
########## Tgt-TWDS1000:Mech-EE-050 EPICS -> PLC parameters ##########
##########

#Limits
#<<<--- add_analog("P_Limit_HIHI",             "REAL",                           PV_DESC="Limit HIHI",                 PV_EGU="null")
record(ao, "Tgt-TWDS1000:Mech-EE-050:P_Limit_HIHI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Limit HIHI")
	field(EGU,  "null")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-EE-050_iDB")
	info("plc_variable", "P_Limit_HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_HI",               "REAL",                           PV_DESC="Limit HI",                   PV_EGU="null")
record(ao, "Tgt-TWDS1000:Mech-EE-050:P_Limit_HI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Limit HI")
	field(EGU,  "null")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-EE-050_iDB")
	info("plc_variable", "P_Limit_HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_LO",               "REAL",                           PV_DESC="Limit LO",                   PV_EGU="null")
record(ao, "Tgt-TWDS1000:Mech-EE-050:P_Limit_LO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Limit LO")
	field(EGU,  "null")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-EE-050_iDB")
	info("plc_variable", "P_Limit_LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_LOLO",             "REAL",                           PV_DESC="Limit LOLO",                 PV_EGU="null")
record(ao, "Tgt-TWDS1000:Mech-EE-050:P_Limit_LOLO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Limit LOLO")
	field(EGU,  "null")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-EE-050_iDB")
	info("plc_variable", "P_Limit_LOLO")
	info(autosaveFields_pass0, "VAL")
}


#Forcing
#<<<--- add_analog("P_ForceValue",             "REAL",                           PV_DESC="Force Value",          PV_EGU="null")
record(ao, "Tgt-TWDS1000:Mech-EE-050:P_ForceValue")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Force Value")
	field(EGU,  "null")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-EE-050_iDB")
	info("plc_variable", "P_ForceValue")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_analog("P_Faceplate_LockID",       "DINT",                           PV_DESC="Device ID after Lock")
record(ao, "Tgt-TWDS1000:Mech-EE-050:P_Faceplate_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Device ID after Lock")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-EE-050_iDB")
	info("plc_variable", "P_Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_BlockIcon_LockID",       "DINT",                           PV_DESC="Device ID after Blockicon Open")
record(ao, "Tgt-TWDS1000:Mech-EE-050:P_BlockIcon_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Device ID after Blockicon Open")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-EE-050_iDB")
	info("plc_variable", "P_BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}

record(fanout, "Tgt-TWDS1000:Mech-EE-050:UploadParametersS") {
	field(LNK1, "Tgt-TWDS1000:Mech-EE-050:P_Limit_HIHI")
	field(LNK2, "Tgt-TWDS1000:Mech-EE-050:P_Limit_HI")
	field(LNK3, "Tgt-TWDS1000:Mech-EE-050:P_Limit_LO")
	field(LNK4, "Tgt-TWDS1000:Mech-EE-050:P_Limit_LOLO")
	field(LNK5, "Tgt-TWDS1000:Mech-EE-050:P_ForceValue")
	field(LNK6, "Tgt-TWDS1000:Mech-EE-050:_UploadParamS1-FO")
}
record(fanout, "Tgt-TWDS1000:Mech-EE-050:_UploadParamS1-FO") {
	field(LNK1, "Tgt-TWDS1000:Mech-EE-050:P_Faceplate_LockID")
	field(LNK2, "Tgt-TWDS1000:Mech-EE-050:P_BlockIcon_LockID")
}



##########
########## Tgt-TWDS1000:Mech-TE-011 ##########
##########
##########

#Author:  Johannes Kazantzidis
#Date:    03-12-2019
#Version: v1.0

############################
#STATUS BLOCK
############################
#<<<--- define_status_block()

##########
########## Tgt-TWDS1000:Mech-TE-011 PLC   -> EPICS status   ##########
##########

#Operation modes
#<<<--- add_digital("OpMode_FreeRun",          PV_DESC="Operation Mode FreeRun", PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Mech-TE-011:OpMode_FreeRun")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Operation Mode FreeRun")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-011_iDB")
	info("plc_variable", "OpMode_FreeRun")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("OpMode_Forced",           PV_DESC="Operation Mode Forced",  PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Mech-TE-011:OpMode_Forced")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Operation Mode Forced")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-011_iDB")
	info("plc_variable", "OpMode_Forced")
	info(autosaveFields_pass0, "VAL")
}


#Inhibit signals (set by the PLC code, can't be changed by the OPI)
#<<<--- add_digital("Inhibit_Manual",          PV_DESC="Inhibit Manual Mode",    PV_ONAM="InhibitManual",              PV_ZNAM="AllowManual")
record(bi, "Tgt-TWDS1000:Mech-TE-011:Inhibit_Manual")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Inhibit Manual Mode")
	field(ONAM, "InhibitManual")
	field(ZNAM, "AllowManual")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-011_iDB")
	info("plc_variable", "Inhibit_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Force",           PV_DESC="Inhibit Force Mode",     PV_ONAM="InhibitForce",               PV_ZNAM="AllowForce")
record(bi, "Tgt-TWDS1000:Mech-TE-011:Inhibit_Force")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Inhibit Force Mode")
	field(ONAM, "InhibitForce")
	field(ZNAM, "AllowForce")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-011_iDB")
	info("plc_variable", "Inhibit_Force")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Lock",            PV_DESC="Inhibit Locking",        PV_ONAM="InhibitLocking",             PV_ZNAM="AllowLocking")
record(bi, "Tgt-TWDS1000:Mech-TE-011:Inhibit_Lock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Inhibit Locking")
	field(ONAM, "InhibitLocking")
	field(ZNAM, "AllowLocking")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-011_iDB")
	info("plc_variable", "Inhibit_Lock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("TransmitterColor",         "INT",                            PV_DESC="Transmitter color")
record(ai, "Tgt-TWDS1000:Mech-TE-011:TransmitterColor")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Transmitter color")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-011_iDB")
	info("plc_variable", "TransmitterColor")
	info(autosaveFields_pass0, "VAL")
}


#for OPI visualization
#<<<--- add_digital("EnableFreeRunBtn",        PV_DESC="Enable Free Run Button", PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Mech-TE-011:EnableFreeRunBtn")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Enable Free Run Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-011_iDB")
	info("plc_variable", "EnableFreeRunBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableForcedBtn",         PV_DESC="Enable Force Button",    PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Mech-TE-011:EnableForcedBtn")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Enable Force Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-011_iDB")
	info("plc_variable", "EnableForcedBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableManualBtn",         PV_DESC="Enable Manual Button",   PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Mech-TE-011:EnableManualBtn")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Enable Manual Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-011_iDB")
	info("plc_variable", "EnableManualBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("ScaleLOW",                 "REAL",                           PV_DESC="Scale LOW",                  PV_EGU="null")
record(ai, "Tgt-TWDS1000:Mech-TE-011:ScaleLOW")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Scale LOW")
	field(EGU,  "null")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-011_iDB")
	info("plc_variable", "ScaleLOW")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("ScaleHIGH",                "REAL",                           PV_DESC="Scale HIGH",                 PV_EGU="null")
record(ai, "Tgt-TWDS1000:Mech-TE-011:ScaleHIGH")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Scale HIGH")
	field(EGU,  "null")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-011_iDB")
	info("plc_variable", "ScaleHIGH")
	info(autosaveFields_pass0, "VAL")
}


#Transmitter value
#<<<--- add_analog("MeasValue",                "REAL",                           PV_DESC="Value in Engineering Unit",          PV_EGU="null")
record(ai, "Tgt-TWDS1000:Mech-TE-011:MeasValue")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Value in Engineering Unit")
	field(EGU,  "null")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-011_iDB")
	info("plc_variable", "MeasValue")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("MeasCurrent",              "REAL",                           PV_DESC="Measured Current",     PV_EGU="mA")
record(ai, "Tgt-TWDS1000:Mech-TE-011:MeasCurrent")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Measured Current")
	field(EGU,  "mA")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-011_iDB")
	info("plc_variable", "MeasCurrent")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_digital("DevLocked",               PV_DESC="Device Locked",          PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Mech-TE-011:DevLocked")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Device Locked")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-011_iDB")
	info("plc_variable", "DevLocked")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("Faceplate_LockID",         "DINT",                           PV_DESC="Owner Lock ID")
record(ai, "Tgt-TWDS1000:Mech-TE-011:Faceplate_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Owner Lock ID")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-011_iDB")
	info("plc_variable", "Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("BlockIcon_LockID",         "DINT",                           PV_DESC="Guest Lock ID")
record(ai, "Tgt-TWDS1000:Mech-TE-011:BlockIcon_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Guest Lock ID")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-011_iDB")
	info("plc_variable", "BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("LatchAlarm",                            PV_DESC="Latching of the alarms")
record(bi, "Tgt-TWDS1000:Mech-TE-011:LatchAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Latching of the alarms")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-011_iDB")
	info("plc_variable", "LatchAlarm")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("GroupAlarm",                            PV_DESC="Group Alarm for OPI")
record(bi, "Tgt-TWDS1000:Mech-TE-011:GroupAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Group Alarm for OPI")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-011_iDB")
	info("plc_variable", "GroupAlarm")
	info(autosaveFields_pass0, "VAL")
}


#Alarm signals
#<<<--- add_major_alarm("Underrange",          "Value Underrange",         PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-TE-011:Underrange")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Value Underrange")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-011_iDB")
	info("plc_variable", "Underrange")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Overrange",           "Value Overrange",          PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-TE-011:Overrange")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Value Overrange")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-011_iDB")
	info("plc_variable", "Overrange")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("HIHI",                "Value HIHI",               PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-TE-011:HIHI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Value HIHI")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-011_iDB")
	info("plc_variable", "HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_minor_alarm("HI",                  "Value HI",                 PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-TE-011:HI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Value HI")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-011_iDB")
	info("plc_variable", "HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_minor_alarm("LO",                  "Value LO",                 PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-TE-011:LO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Value LO")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-011_iDB")
	info("plc_variable", "LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("LOLO",                "Value LOLO",               PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-TE-011:LOLO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Value LOLO")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-011_iDB")
	info("plc_variable", "LOLO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("IO_Error",            "IO_Error",                       PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-TE-011:IO_Error")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "IO_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-011_iDB")
	info("plc_variable", "IO_Error")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Module_Error",        "Module_Error",                   PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-TE-011:Module_Error")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Module_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-011_iDB")
	info("plc_variable", "Module_Error")
	info(autosaveFields_pass0, "VAL")
}


#Feedback
#<<<--- add_analog("FB_ForceValue",            "REAL",                           PV_DESC="Feedback Force Value", PV_EGU="null")
record(ai, "Tgt-TWDS1000:Mech-TE-011:FB_ForceValue")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Feedback Force Value")
	field(EGU,  "null")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-011_iDB")
	info("plc_variable", "FB_ForceValue")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_HIHI",            "REAL",                           PV_DESC="Feedback Limit HIHI",        PV_EGU="null")
record(ai, "Tgt-TWDS1000:Mech-TE-011:FB_Limit_HIHI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Feedback Limit HIHI")
	field(EGU,  "null")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-011_iDB")
	info("plc_variable", "FB_Limit_HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_HI",              "REAL",                           PV_DESC="Feedback Limit HI",          PV_EGU="null")
record(ai, "Tgt-TWDS1000:Mech-TE-011:FB_Limit_HI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Feedback Limit HI")
	field(EGU,  "null")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-011_iDB")
	info("plc_variable", "FB_Limit_HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_LO",              "REAL",                           PV_DESC="Feedback Limit LO",          PV_EGU="null")
record(ai, "Tgt-TWDS1000:Mech-TE-011:FB_Limit_LO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Feedback Limit LO")
	field(EGU,  "null")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-011_iDB")
	info("plc_variable", "FB_Limit_LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_LOLO",            "REAL",                           PV_DESC="Feedback Limit LOLO",        PV_EGU="null")
record(ai, "Tgt-TWDS1000:Mech-TE-011:FB_Limit_LOLO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Feedback Limit LOLO")
	field(EGU,  "null")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-011_iDB")
	info("plc_variable", "FB_Limit_LOLO")
	info(autosaveFields_pass0, "VAL")
}



############################
#COMMAND BLOCK
############################
#<<<--- define_command_block()

##########
########## Tgt-TWDS1000:Mech-TE-011 EPICS -> PLC commands   ##########
##########

#OPI buttons
#<<<--- add_digital("Cmd_FreeRun",             PV_DESC="CMD: FreeRun Mode")
record(bo, "Tgt-TWDS1000:Mech-TE-011:Cmd_FreeRun")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: FreeRun Mode")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-011_iDB")
	info("plc_variable", "Cmd_FreeRun")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_Force",               PV_DESC="CMD: Force Mode")
record(bo, "Tgt-TWDS1000:Mech-TE-011:Cmd_Force")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Force Mode")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-011_iDB")
	info("plc_variable", "Cmd_Force")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_ForceVal",            PV_DESC="CMD: Force Value")
record(bo, "Tgt-TWDS1000:Mech-TE-011:Cmd_ForceVal")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Force Value")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-011_iDB")
	info("plc_variable", "Cmd_ForceVal")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_AckAlarm",            PV_DESC="CMD: Acknowledge Alarm")
record(bo, "Tgt-TWDS1000:Mech-TE-011:Cmd_AckAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Acknowledge Alarm")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-011_iDB")
	info("plc_variable", "Cmd_AckAlarm")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_ForceUnlock",         PV_DESC="CMD: Force Unlock Device")
record(bo, "Tgt-TWDS1000:Mech-TE-011:Cmd_ForceUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Force Unlock Device")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-011_iDB")
	info("plc_variable", "Cmd_ForceUnlock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevLock",             PV_DESC="CMD: Lock Device")
record(bo, "Tgt-TWDS1000:Mech-TE-011:Cmd_DevLock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Lock Device")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-011_iDB")
	info("plc_variable", "Cmd_DevLock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevUnlock",           PV_DESC="CMD: Unlock Device")
record(bo, "Tgt-TWDS1000:Mech-TE-011:Cmd_DevUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Unlock Device")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-011_iDB")
	info("plc_variable", "Cmd_DevUnlock")
	info(autosaveFields_pass0, "VAL")
}


############################
#PARAMETER BLOCK
############################
#<<<--- define_parameter_block()

##########
########## Tgt-TWDS1000:Mech-TE-011 EPICS -> PLC parameters ##########
##########

#Limits
#<<<--- add_analog("P_Limit_HIHI",             "REAL",                           PV_DESC="Limit HIHI",                 PV_EGU="null")
record(ao, "Tgt-TWDS1000:Mech-TE-011:P_Limit_HIHI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Limit HIHI")
	field(EGU,  "null")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-011_iDB")
	info("plc_variable", "P_Limit_HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_HI",               "REAL",                           PV_DESC="Limit HI",                   PV_EGU="null")
record(ao, "Tgt-TWDS1000:Mech-TE-011:P_Limit_HI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Limit HI")
	field(EGU,  "null")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-011_iDB")
	info("plc_variable", "P_Limit_HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_LO",               "REAL",                           PV_DESC="Limit LO",                   PV_EGU="null")
record(ao, "Tgt-TWDS1000:Mech-TE-011:P_Limit_LO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Limit LO")
	field(EGU,  "null")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-011_iDB")
	info("plc_variable", "P_Limit_LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_LOLO",             "REAL",                           PV_DESC="Limit LOLO",                 PV_EGU="null")
record(ao, "Tgt-TWDS1000:Mech-TE-011:P_Limit_LOLO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Limit LOLO")
	field(EGU,  "null")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-011_iDB")
	info("plc_variable", "P_Limit_LOLO")
	info(autosaveFields_pass0, "VAL")
}


#Forcing
#<<<--- add_analog("P_ForceValue",             "REAL",                           PV_DESC="Force Value",          PV_EGU="null")
record(ao, "Tgt-TWDS1000:Mech-TE-011:P_ForceValue")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Force Value")
	field(EGU,  "null")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-011_iDB")
	info("plc_variable", "P_ForceValue")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_analog("P_Faceplate_LockID",       "DINT",                           PV_DESC="Device ID after Lock")
record(ao, "Tgt-TWDS1000:Mech-TE-011:P_Faceplate_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Device ID after Lock")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-011_iDB")
	info("plc_variable", "P_Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_BlockIcon_LockID",       "DINT",                           PV_DESC="Device ID after Blockicon Open")
record(ao, "Tgt-TWDS1000:Mech-TE-011:P_BlockIcon_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Device ID after Blockicon Open")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-011_iDB")
	info("plc_variable", "P_BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}

record(fanout, "Tgt-TWDS1000:Mech-TE-011:UploadParametersS") {
	field(LNK1, "Tgt-TWDS1000:Mech-TE-011:P_Limit_HIHI")
	field(LNK2, "Tgt-TWDS1000:Mech-TE-011:P_Limit_HI")
	field(LNK3, "Tgt-TWDS1000:Mech-TE-011:P_Limit_LO")
	field(LNK4, "Tgt-TWDS1000:Mech-TE-011:P_Limit_LOLO")
	field(LNK5, "Tgt-TWDS1000:Mech-TE-011:P_ForceValue")
	field(LNK6, "Tgt-TWDS1000:Mech-TE-011:_UploadParamS1-FO")
}
record(fanout, "Tgt-TWDS1000:Mech-TE-011:_UploadParamS1-FO") {
	field(LNK1, "Tgt-TWDS1000:Mech-TE-011:P_Faceplate_LockID")
	field(LNK2, "Tgt-TWDS1000:Mech-TE-011:P_BlockIcon_LockID")
}



##########
########## Tgt-TWDS1000:Mech-TE-012 ##########
##########
##########

#Author:  Johannes Kazantzidis
#Date:    03-12-2019
#Version: v1.0

############################
#STATUS BLOCK
############################
#<<<--- define_status_block()

##########
########## Tgt-TWDS1000:Mech-TE-012 PLC   -> EPICS status   ##########
##########

#Operation modes
#<<<--- add_digital("OpMode_FreeRun",          PV_DESC="Operation Mode FreeRun", PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Mech-TE-012:OpMode_FreeRun")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Operation Mode FreeRun")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-012_iDB")
	info("plc_variable", "OpMode_FreeRun")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("OpMode_Forced",           PV_DESC="Operation Mode Forced",  PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Mech-TE-012:OpMode_Forced")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Operation Mode Forced")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-012_iDB")
	info("plc_variable", "OpMode_Forced")
	info(autosaveFields_pass0, "VAL")
}


#Inhibit signals (set by the PLC code, can't be changed by the OPI)
#<<<--- add_digital("Inhibit_Manual",          PV_DESC="Inhibit Manual Mode",    PV_ONAM="InhibitManual",              PV_ZNAM="AllowManual")
record(bi, "Tgt-TWDS1000:Mech-TE-012:Inhibit_Manual")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Inhibit Manual Mode")
	field(ONAM, "InhibitManual")
	field(ZNAM, "AllowManual")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-012_iDB")
	info("plc_variable", "Inhibit_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Force",           PV_DESC="Inhibit Force Mode",     PV_ONAM="InhibitForce",               PV_ZNAM="AllowForce")
record(bi, "Tgt-TWDS1000:Mech-TE-012:Inhibit_Force")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Inhibit Force Mode")
	field(ONAM, "InhibitForce")
	field(ZNAM, "AllowForce")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-012_iDB")
	info("plc_variable", "Inhibit_Force")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Lock",            PV_DESC="Inhibit Locking",        PV_ONAM="InhibitLocking",             PV_ZNAM="AllowLocking")
record(bi, "Tgt-TWDS1000:Mech-TE-012:Inhibit_Lock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Inhibit Locking")
	field(ONAM, "InhibitLocking")
	field(ZNAM, "AllowLocking")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-012_iDB")
	info("plc_variable", "Inhibit_Lock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("TransmitterColor",         "INT",                            PV_DESC="Transmitter color")
record(ai, "Tgt-TWDS1000:Mech-TE-012:TransmitterColor")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Transmitter color")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-012_iDB")
	info("plc_variable", "TransmitterColor")
	info(autosaveFields_pass0, "VAL")
}


#for OPI visualization
#<<<--- add_digital("EnableFreeRunBtn",        PV_DESC="Enable Free Run Button", PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Mech-TE-012:EnableFreeRunBtn")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Enable Free Run Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-012_iDB")
	info("plc_variable", "EnableFreeRunBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableForcedBtn",         PV_DESC="Enable Force Button",    PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Mech-TE-012:EnableForcedBtn")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Enable Force Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-012_iDB")
	info("plc_variable", "EnableForcedBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableManualBtn",         PV_DESC="Enable Manual Button",   PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Mech-TE-012:EnableManualBtn")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Enable Manual Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-012_iDB")
	info("plc_variable", "EnableManualBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("ScaleLOW",                 "REAL",                           PV_DESC="Scale LOW",                  PV_EGU="null")
record(ai, "Tgt-TWDS1000:Mech-TE-012:ScaleLOW")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Scale LOW")
	field(EGU,  "null")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-012_iDB")
	info("plc_variable", "ScaleLOW")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("ScaleHIGH",                "REAL",                           PV_DESC="Scale HIGH",                 PV_EGU="null")
record(ai, "Tgt-TWDS1000:Mech-TE-012:ScaleHIGH")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Scale HIGH")
	field(EGU,  "null")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-012_iDB")
	info("plc_variable", "ScaleHIGH")
	info(autosaveFields_pass0, "VAL")
}


#Transmitter value
#<<<--- add_analog("MeasValue",                "REAL",                           PV_DESC="Value in Engineering Unit",          PV_EGU="null")
record(ai, "Tgt-TWDS1000:Mech-TE-012:MeasValue")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Value in Engineering Unit")
	field(EGU,  "null")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-012_iDB")
	info("plc_variable", "MeasValue")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("MeasCurrent",              "REAL",                           PV_DESC="Measured Current",     PV_EGU="mA")
record(ai, "Tgt-TWDS1000:Mech-TE-012:MeasCurrent")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Measured Current")
	field(EGU,  "mA")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-012_iDB")
	info("plc_variable", "MeasCurrent")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_digital("DevLocked",               PV_DESC="Device Locked",          PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Mech-TE-012:DevLocked")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Device Locked")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-012_iDB")
	info("plc_variable", "DevLocked")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("Faceplate_LockID",         "DINT",                           PV_DESC="Owner Lock ID")
record(ai, "Tgt-TWDS1000:Mech-TE-012:Faceplate_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Owner Lock ID")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-012_iDB")
	info("plc_variable", "Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("BlockIcon_LockID",         "DINT",                           PV_DESC="Guest Lock ID")
record(ai, "Tgt-TWDS1000:Mech-TE-012:BlockIcon_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Guest Lock ID")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-012_iDB")
	info("plc_variable", "BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("LatchAlarm",                            PV_DESC="Latching of the alarms")
record(bi, "Tgt-TWDS1000:Mech-TE-012:LatchAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Latching of the alarms")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-012_iDB")
	info("plc_variable", "LatchAlarm")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("GroupAlarm",                            PV_DESC="Group Alarm for OPI")
record(bi, "Tgt-TWDS1000:Mech-TE-012:GroupAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Group Alarm for OPI")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-012_iDB")
	info("plc_variable", "GroupAlarm")
	info(autosaveFields_pass0, "VAL")
}


#Alarm signals
#<<<--- add_major_alarm("Underrange",          "Value Underrange",         PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-TE-012:Underrange")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Value Underrange")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-012_iDB")
	info("plc_variable", "Underrange")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Overrange",           "Value Overrange",          PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-TE-012:Overrange")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Value Overrange")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-012_iDB")
	info("plc_variable", "Overrange")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("HIHI",                "Value HIHI",               PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-TE-012:HIHI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Value HIHI")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-012_iDB")
	info("plc_variable", "HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_minor_alarm("HI",                  "Value HI",                 PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-TE-012:HI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Value HI")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-012_iDB")
	info("plc_variable", "HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_minor_alarm("LO",                  "Value LO",                 PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-TE-012:LO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Value LO")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-012_iDB")
	info("plc_variable", "LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("LOLO",                "Value LOLO",               PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-TE-012:LOLO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Value LOLO")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-012_iDB")
	info("plc_variable", "LOLO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("IO_Error",            "IO_Error",                       PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-TE-012:IO_Error")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "IO_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-012_iDB")
	info("plc_variable", "IO_Error")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Module_Error",        "Module_Error",                   PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-TE-012:Module_Error")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Module_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-012_iDB")
	info("plc_variable", "Module_Error")
	info(autosaveFields_pass0, "VAL")
}


#Feedback
#<<<--- add_analog("FB_ForceValue",            "REAL",                           PV_DESC="Feedback Force Value", PV_EGU="null")
record(ai, "Tgt-TWDS1000:Mech-TE-012:FB_ForceValue")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Feedback Force Value")
	field(EGU,  "null")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-012_iDB")
	info("plc_variable", "FB_ForceValue")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_HIHI",            "REAL",                           PV_DESC="Feedback Limit HIHI",        PV_EGU="null")
record(ai, "Tgt-TWDS1000:Mech-TE-012:FB_Limit_HIHI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Feedback Limit HIHI")
	field(EGU,  "null")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-012_iDB")
	info("plc_variable", "FB_Limit_HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_HI",              "REAL",                           PV_DESC="Feedback Limit HI",          PV_EGU="null")
record(ai, "Tgt-TWDS1000:Mech-TE-012:FB_Limit_HI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Feedback Limit HI")
	field(EGU,  "null")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-012_iDB")
	info("plc_variable", "FB_Limit_HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_LO",              "REAL",                           PV_DESC="Feedback Limit LO",          PV_EGU="null")
record(ai, "Tgt-TWDS1000:Mech-TE-012:FB_Limit_LO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Feedback Limit LO")
	field(EGU,  "null")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-012_iDB")
	info("plc_variable", "FB_Limit_LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_LOLO",            "REAL",                           PV_DESC="Feedback Limit LOLO",        PV_EGU="null")
record(ai, "Tgt-TWDS1000:Mech-TE-012:FB_Limit_LOLO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Feedback Limit LOLO")
	field(EGU,  "null")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-012_iDB")
	info("plc_variable", "FB_Limit_LOLO")
	info(autosaveFields_pass0, "VAL")
}



############################
#COMMAND BLOCK
############################
#<<<--- define_command_block()

##########
########## Tgt-TWDS1000:Mech-TE-012 EPICS -> PLC commands   ##########
##########

#OPI buttons
#<<<--- add_digital("Cmd_FreeRun",             PV_DESC="CMD: FreeRun Mode")
record(bo, "Tgt-TWDS1000:Mech-TE-012:Cmd_FreeRun")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: FreeRun Mode")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-012_iDB")
	info("plc_variable", "Cmd_FreeRun")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_Force",               PV_DESC="CMD: Force Mode")
record(bo, "Tgt-TWDS1000:Mech-TE-012:Cmd_Force")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Force Mode")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-012_iDB")
	info("plc_variable", "Cmd_Force")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_ForceVal",            PV_DESC="CMD: Force Value")
record(bo, "Tgt-TWDS1000:Mech-TE-012:Cmd_ForceVal")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Force Value")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-012_iDB")
	info("plc_variable", "Cmd_ForceVal")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_AckAlarm",            PV_DESC="CMD: Acknowledge Alarm")
record(bo, "Tgt-TWDS1000:Mech-TE-012:Cmd_AckAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Acknowledge Alarm")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-012_iDB")
	info("plc_variable", "Cmd_AckAlarm")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_ForceUnlock",         PV_DESC="CMD: Force Unlock Device")
record(bo, "Tgt-TWDS1000:Mech-TE-012:Cmd_ForceUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Force Unlock Device")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-012_iDB")
	info("plc_variable", "Cmd_ForceUnlock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevLock",             PV_DESC="CMD: Lock Device")
record(bo, "Tgt-TWDS1000:Mech-TE-012:Cmd_DevLock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Lock Device")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-012_iDB")
	info("plc_variable", "Cmd_DevLock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevUnlock",           PV_DESC="CMD: Unlock Device")
record(bo, "Tgt-TWDS1000:Mech-TE-012:Cmd_DevUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Unlock Device")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-012_iDB")
	info("plc_variable", "Cmd_DevUnlock")
	info(autosaveFields_pass0, "VAL")
}


############################
#PARAMETER BLOCK
############################
#<<<--- define_parameter_block()

##########
########## Tgt-TWDS1000:Mech-TE-012 EPICS -> PLC parameters ##########
##########

#Limits
#<<<--- add_analog("P_Limit_HIHI",             "REAL",                           PV_DESC="Limit HIHI",                 PV_EGU="null")
record(ao, "Tgt-TWDS1000:Mech-TE-012:P_Limit_HIHI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Limit HIHI")
	field(EGU,  "null")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-012_iDB")
	info("plc_variable", "P_Limit_HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_HI",               "REAL",                           PV_DESC="Limit HI",                   PV_EGU="null")
record(ao, "Tgt-TWDS1000:Mech-TE-012:P_Limit_HI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Limit HI")
	field(EGU,  "null")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-012_iDB")
	info("plc_variable", "P_Limit_HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_LO",               "REAL",                           PV_DESC="Limit LO",                   PV_EGU="null")
record(ao, "Tgt-TWDS1000:Mech-TE-012:P_Limit_LO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Limit LO")
	field(EGU,  "null")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-012_iDB")
	info("plc_variable", "P_Limit_LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_LOLO",             "REAL",                           PV_DESC="Limit LOLO",                 PV_EGU="null")
record(ao, "Tgt-TWDS1000:Mech-TE-012:P_Limit_LOLO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Limit LOLO")
	field(EGU,  "null")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-012_iDB")
	info("plc_variable", "P_Limit_LOLO")
	info(autosaveFields_pass0, "VAL")
}


#Forcing
#<<<--- add_analog("P_ForceValue",             "REAL",                           PV_DESC="Force Value",          PV_EGU="null")
record(ao, "Tgt-TWDS1000:Mech-TE-012:P_ForceValue")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Force Value")
	field(EGU,  "null")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-012_iDB")
	info("plc_variable", "P_ForceValue")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_analog("P_Faceplate_LockID",       "DINT",                           PV_DESC="Device ID after Lock")
record(ao, "Tgt-TWDS1000:Mech-TE-012:P_Faceplate_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Device ID after Lock")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-012_iDB")
	info("plc_variable", "P_Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_BlockIcon_LockID",       "DINT",                           PV_DESC="Device ID after Blockicon Open")
record(ao, "Tgt-TWDS1000:Mech-TE-012:P_BlockIcon_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Device ID after Blockicon Open")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-012_iDB")
	info("plc_variable", "P_BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}

record(fanout, "Tgt-TWDS1000:Mech-TE-012:UploadParametersS") {
	field(LNK1, "Tgt-TWDS1000:Mech-TE-012:P_Limit_HIHI")
	field(LNK2, "Tgt-TWDS1000:Mech-TE-012:P_Limit_HI")
	field(LNK3, "Tgt-TWDS1000:Mech-TE-012:P_Limit_LO")
	field(LNK4, "Tgt-TWDS1000:Mech-TE-012:P_Limit_LOLO")
	field(LNK5, "Tgt-TWDS1000:Mech-TE-012:P_ForceValue")
	field(LNK6, "Tgt-TWDS1000:Mech-TE-012:_UploadParamS1-FO")
}
record(fanout, "Tgt-TWDS1000:Mech-TE-012:_UploadParamS1-FO") {
	field(LNK1, "Tgt-TWDS1000:Mech-TE-012:P_Faceplate_LockID")
	field(LNK2, "Tgt-TWDS1000:Mech-TE-012:P_BlockIcon_LockID")
}



##########
########## Tgt-TWDS1000:Mech-TE-021 ##########
##########
##########

#Author:  Johannes Kazantzidis
#Date:    03-12-2019
#Version: v1.0

############################
#STATUS BLOCK
############################
#<<<--- define_status_block()

##########
########## Tgt-TWDS1000:Mech-TE-021 PLC   -> EPICS status   ##########
##########

#Operation modes
#<<<--- add_digital("OpMode_FreeRun",          PV_DESC="Operation Mode FreeRun", PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Mech-TE-021:OpMode_FreeRun")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Operation Mode FreeRun")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-021_iDB")
	info("plc_variable", "OpMode_FreeRun")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("OpMode_Forced",           PV_DESC="Operation Mode Forced",  PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Mech-TE-021:OpMode_Forced")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Operation Mode Forced")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-021_iDB")
	info("plc_variable", "OpMode_Forced")
	info(autosaveFields_pass0, "VAL")
}


#Inhibit signals (set by the PLC code, can't be changed by the OPI)
#<<<--- add_digital("Inhibit_Manual",          PV_DESC="Inhibit Manual Mode",    PV_ONAM="InhibitManual",              PV_ZNAM="AllowManual")
record(bi, "Tgt-TWDS1000:Mech-TE-021:Inhibit_Manual")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Inhibit Manual Mode")
	field(ONAM, "InhibitManual")
	field(ZNAM, "AllowManual")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-021_iDB")
	info("plc_variable", "Inhibit_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Force",           PV_DESC="Inhibit Force Mode",     PV_ONAM="InhibitForce",               PV_ZNAM="AllowForce")
record(bi, "Tgt-TWDS1000:Mech-TE-021:Inhibit_Force")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Inhibit Force Mode")
	field(ONAM, "InhibitForce")
	field(ZNAM, "AllowForce")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-021_iDB")
	info("plc_variable", "Inhibit_Force")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Lock",            PV_DESC="Inhibit Locking",        PV_ONAM="InhibitLocking",             PV_ZNAM="AllowLocking")
record(bi, "Tgt-TWDS1000:Mech-TE-021:Inhibit_Lock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Inhibit Locking")
	field(ONAM, "InhibitLocking")
	field(ZNAM, "AllowLocking")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-021_iDB")
	info("plc_variable", "Inhibit_Lock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("TransmitterColor",         "INT",                            PV_DESC="Transmitter color")
record(ai, "Tgt-TWDS1000:Mech-TE-021:TransmitterColor")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Transmitter color")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-021_iDB")
	info("plc_variable", "TransmitterColor")
	info(autosaveFields_pass0, "VAL")
}


#for OPI visualization
#<<<--- add_digital("EnableFreeRunBtn",        PV_DESC="Enable Free Run Button", PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Mech-TE-021:EnableFreeRunBtn")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Enable Free Run Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-021_iDB")
	info("plc_variable", "EnableFreeRunBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableForcedBtn",         PV_DESC="Enable Force Button",    PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Mech-TE-021:EnableForcedBtn")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Enable Force Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-021_iDB")
	info("plc_variable", "EnableForcedBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableManualBtn",         PV_DESC="Enable Manual Button",   PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Mech-TE-021:EnableManualBtn")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Enable Manual Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-021_iDB")
	info("plc_variable", "EnableManualBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("ScaleLOW",                 "REAL",                           PV_DESC="Scale LOW",                  PV_EGU="null")
record(ai, "Tgt-TWDS1000:Mech-TE-021:ScaleLOW")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Scale LOW")
	field(EGU,  "null")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-021_iDB")
	info("plc_variable", "ScaleLOW")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("ScaleHIGH",                "REAL",                           PV_DESC="Scale HIGH",                 PV_EGU="null")
record(ai, "Tgt-TWDS1000:Mech-TE-021:ScaleHIGH")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Scale HIGH")
	field(EGU,  "null")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-021_iDB")
	info("plc_variable", "ScaleHIGH")
	info(autosaveFields_pass0, "VAL")
}


#Transmitter value
#<<<--- add_analog("MeasValue",                "REAL",                           PV_DESC="Value in Engineering Unit",          PV_EGU="null")
record(ai, "Tgt-TWDS1000:Mech-TE-021:MeasValue")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Value in Engineering Unit")
	field(EGU,  "null")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-021_iDB")
	info("plc_variable", "MeasValue")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("MeasCurrent",              "REAL",                           PV_DESC="Measured Current",     PV_EGU="mA")
record(ai, "Tgt-TWDS1000:Mech-TE-021:MeasCurrent")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Measured Current")
	field(EGU,  "mA")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-021_iDB")
	info("plc_variable", "MeasCurrent")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_digital("DevLocked",               PV_DESC="Device Locked",          PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Mech-TE-021:DevLocked")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Device Locked")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-021_iDB")
	info("plc_variable", "DevLocked")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("Faceplate_LockID",         "DINT",                           PV_DESC="Owner Lock ID")
record(ai, "Tgt-TWDS1000:Mech-TE-021:Faceplate_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Owner Lock ID")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-021_iDB")
	info("plc_variable", "Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("BlockIcon_LockID",         "DINT",                           PV_DESC="Guest Lock ID")
record(ai, "Tgt-TWDS1000:Mech-TE-021:BlockIcon_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Guest Lock ID")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-021_iDB")
	info("plc_variable", "BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("LatchAlarm",                            PV_DESC="Latching of the alarms")
record(bi, "Tgt-TWDS1000:Mech-TE-021:LatchAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Latching of the alarms")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-021_iDB")
	info("plc_variable", "LatchAlarm")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("GroupAlarm",                            PV_DESC="Group Alarm for OPI")
record(bi, "Tgt-TWDS1000:Mech-TE-021:GroupAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Group Alarm for OPI")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-021_iDB")
	info("plc_variable", "GroupAlarm")
	info(autosaveFields_pass0, "VAL")
}


#Alarm signals
#<<<--- add_major_alarm("Underrange",          "Value Underrange",         PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-TE-021:Underrange")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Value Underrange")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-021_iDB")
	info("plc_variable", "Underrange")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Overrange",           "Value Overrange",          PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-TE-021:Overrange")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Value Overrange")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-021_iDB")
	info("plc_variable", "Overrange")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("HIHI",                "Value HIHI",               PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-TE-021:HIHI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Value HIHI")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-021_iDB")
	info("plc_variable", "HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_minor_alarm("HI",                  "Value HI",                 PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-TE-021:HI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Value HI")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-021_iDB")
	info("plc_variable", "HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_minor_alarm("LO",                  "Value LO",                 PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-TE-021:LO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Value LO")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-021_iDB")
	info("plc_variable", "LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("LOLO",                "Value LOLO",               PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-TE-021:LOLO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Value LOLO")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-021_iDB")
	info("plc_variable", "LOLO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("IO_Error",            "IO_Error",                       PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-TE-021:IO_Error")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "IO_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-021_iDB")
	info("plc_variable", "IO_Error")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Module_Error",        "Module_Error",                   PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-TE-021:Module_Error")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Module_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-021_iDB")
	info("plc_variable", "Module_Error")
	info(autosaveFields_pass0, "VAL")
}


#Feedback
#<<<--- add_analog("FB_ForceValue",            "REAL",                           PV_DESC="Feedback Force Value", PV_EGU="null")
record(ai, "Tgt-TWDS1000:Mech-TE-021:FB_ForceValue")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Feedback Force Value")
	field(EGU,  "null")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-021_iDB")
	info("plc_variable", "FB_ForceValue")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_HIHI",            "REAL",                           PV_DESC="Feedback Limit HIHI",        PV_EGU="null")
record(ai, "Tgt-TWDS1000:Mech-TE-021:FB_Limit_HIHI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Feedback Limit HIHI")
	field(EGU,  "null")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-021_iDB")
	info("plc_variable", "FB_Limit_HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_HI",              "REAL",                           PV_DESC="Feedback Limit HI",          PV_EGU="null")
record(ai, "Tgt-TWDS1000:Mech-TE-021:FB_Limit_HI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Feedback Limit HI")
	field(EGU,  "null")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-021_iDB")
	info("plc_variable", "FB_Limit_HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_LO",              "REAL",                           PV_DESC="Feedback Limit LO",          PV_EGU="null")
record(ai, "Tgt-TWDS1000:Mech-TE-021:FB_Limit_LO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Feedback Limit LO")
	field(EGU,  "null")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-021_iDB")
	info("plc_variable", "FB_Limit_LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_LOLO",            "REAL",                           PV_DESC="Feedback Limit LOLO",        PV_EGU="null")
record(ai, "Tgt-TWDS1000:Mech-TE-021:FB_Limit_LOLO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Feedback Limit LOLO")
	field(EGU,  "null")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-021_iDB")
	info("plc_variable", "FB_Limit_LOLO")
	info(autosaveFields_pass0, "VAL")
}



############################
#COMMAND BLOCK
############################
#<<<--- define_command_block()

##########
########## Tgt-TWDS1000:Mech-TE-021 EPICS -> PLC commands   ##########
##########

#OPI buttons
#<<<--- add_digital("Cmd_FreeRun",             PV_DESC="CMD: FreeRun Mode")
record(bo, "Tgt-TWDS1000:Mech-TE-021:Cmd_FreeRun")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: FreeRun Mode")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-021_iDB")
	info("plc_variable", "Cmd_FreeRun")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_Force",               PV_DESC="CMD: Force Mode")
record(bo, "Tgt-TWDS1000:Mech-TE-021:Cmd_Force")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Force Mode")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-021_iDB")
	info("plc_variable", "Cmd_Force")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_ForceVal",            PV_DESC="CMD: Force Value")
record(bo, "Tgt-TWDS1000:Mech-TE-021:Cmd_ForceVal")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Force Value")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-021_iDB")
	info("plc_variable", "Cmd_ForceVal")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_AckAlarm",            PV_DESC="CMD: Acknowledge Alarm")
record(bo, "Tgt-TWDS1000:Mech-TE-021:Cmd_AckAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Acknowledge Alarm")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-021_iDB")
	info("plc_variable", "Cmd_AckAlarm")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_ForceUnlock",         PV_DESC="CMD: Force Unlock Device")
record(bo, "Tgt-TWDS1000:Mech-TE-021:Cmd_ForceUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Force Unlock Device")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-021_iDB")
	info("plc_variable", "Cmd_ForceUnlock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevLock",             PV_DESC="CMD: Lock Device")
record(bo, "Tgt-TWDS1000:Mech-TE-021:Cmd_DevLock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Lock Device")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-021_iDB")
	info("plc_variable", "Cmd_DevLock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevUnlock",           PV_DESC="CMD: Unlock Device")
record(bo, "Tgt-TWDS1000:Mech-TE-021:Cmd_DevUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Unlock Device")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-021_iDB")
	info("plc_variable", "Cmd_DevUnlock")
	info(autosaveFields_pass0, "VAL")
}


############################
#PARAMETER BLOCK
############################
#<<<--- define_parameter_block()

##########
########## Tgt-TWDS1000:Mech-TE-021 EPICS -> PLC parameters ##########
##########

#Limits
#<<<--- add_analog("P_Limit_HIHI",             "REAL",                           PV_DESC="Limit HIHI",                 PV_EGU="null")
record(ao, "Tgt-TWDS1000:Mech-TE-021:P_Limit_HIHI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Limit HIHI")
	field(EGU,  "null")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-021_iDB")
	info("plc_variable", "P_Limit_HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_HI",               "REAL",                           PV_DESC="Limit HI",                   PV_EGU="null")
record(ao, "Tgt-TWDS1000:Mech-TE-021:P_Limit_HI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Limit HI")
	field(EGU,  "null")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-021_iDB")
	info("plc_variable", "P_Limit_HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_LO",               "REAL",                           PV_DESC="Limit LO",                   PV_EGU="null")
record(ao, "Tgt-TWDS1000:Mech-TE-021:P_Limit_LO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Limit LO")
	field(EGU,  "null")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-021_iDB")
	info("plc_variable", "P_Limit_LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_LOLO",             "REAL",                           PV_DESC="Limit LOLO",                 PV_EGU="null")
record(ao, "Tgt-TWDS1000:Mech-TE-021:P_Limit_LOLO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Limit LOLO")
	field(EGU,  "null")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-021_iDB")
	info("plc_variable", "P_Limit_LOLO")
	info(autosaveFields_pass0, "VAL")
}


#Forcing
#<<<--- add_analog("P_ForceValue",             "REAL",                           PV_DESC="Force Value",          PV_EGU="null")
record(ao, "Tgt-TWDS1000:Mech-TE-021:P_ForceValue")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Force Value")
	field(EGU,  "null")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-021_iDB")
	info("plc_variable", "P_ForceValue")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_analog("P_Faceplate_LockID",       "DINT",                           PV_DESC="Device ID after Lock")
record(ao, "Tgt-TWDS1000:Mech-TE-021:P_Faceplate_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Device ID after Lock")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-021_iDB")
	info("plc_variable", "P_Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_BlockIcon_LockID",       "DINT",                           PV_DESC="Device ID after Blockicon Open")
record(ao, "Tgt-TWDS1000:Mech-TE-021:P_BlockIcon_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Device ID after Blockicon Open")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-021_iDB")
	info("plc_variable", "P_BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}

record(fanout, "Tgt-TWDS1000:Mech-TE-021:UploadParametersS") {
	field(LNK1, "Tgt-TWDS1000:Mech-TE-021:P_Limit_HIHI")
	field(LNK2, "Tgt-TWDS1000:Mech-TE-021:P_Limit_HI")
	field(LNK3, "Tgt-TWDS1000:Mech-TE-021:P_Limit_LO")
	field(LNK4, "Tgt-TWDS1000:Mech-TE-021:P_Limit_LOLO")
	field(LNK5, "Tgt-TWDS1000:Mech-TE-021:P_ForceValue")
	field(LNK6, "Tgt-TWDS1000:Mech-TE-021:_UploadParamS1-FO")
}
record(fanout, "Tgt-TWDS1000:Mech-TE-021:_UploadParamS1-FO") {
	field(LNK1, "Tgt-TWDS1000:Mech-TE-021:P_Faceplate_LockID")
	field(LNK2, "Tgt-TWDS1000:Mech-TE-021:P_BlockIcon_LockID")
}



##########
########## Tgt-TWDS1000:Mech-TE-022 ##########
##########
##########

#Author:  Johannes Kazantzidis
#Date:    03-12-2019
#Version: v1.0

############################
#STATUS BLOCK
############################
#<<<--- define_status_block()

##########
########## Tgt-TWDS1000:Mech-TE-022 PLC   -> EPICS status   ##########
##########

#Operation modes
#<<<--- add_digital("OpMode_FreeRun",          PV_DESC="Operation Mode FreeRun", PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Mech-TE-022:OpMode_FreeRun")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Operation Mode FreeRun")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-022_iDB")
	info("plc_variable", "OpMode_FreeRun")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("OpMode_Forced",           PV_DESC="Operation Mode Forced",  PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Mech-TE-022:OpMode_Forced")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Operation Mode Forced")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-022_iDB")
	info("plc_variable", "OpMode_Forced")
	info(autosaveFields_pass0, "VAL")
}


#Inhibit signals (set by the PLC code, can't be changed by the OPI)
#<<<--- add_digital("Inhibit_Manual",          PV_DESC="Inhibit Manual Mode",    PV_ONAM="InhibitManual",              PV_ZNAM="AllowManual")
record(bi, "Tgt-TWDS1000:Mech-TE-022:Inhibit_Manual")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Inhibit Manual Mode")
	field(ONAM, "InhibitManual")
	field(ZNAM, "AllowManual")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-022_iDB")
	info("plc_variable", "Inhibit_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Force",           PV_DESC="Inhibit Force Mode",     PV_ONAM="InhibitForce",               PV_ZNAM="AllowForce")
record(bi, "Tgt-TWDS1000:Mech-TE-022:Inhibit_Force")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Inhibit Force Mode")
	field(ONAM, "InhibitForce")
	field(ZNAM, "AllowForce")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-022_iDB")
	info("plc_variable", "Inhibit_Force")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Lock",            PV_DESC="Inhibit Locking",        PV_ONAM="InhibitLocking",             PV_ZNAM="AllowLocking")
record(bi, "Tgt-TWDS1000:Mech-TE-022:Inhibit_Lock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Inhibit Locking")
	field(ONAM, "InhibitLocking")
	field(ZNAM, "AllowLocking")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-022_iDB")
	info("plc_variable", "Inhibit_Lock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("TransmitterColor",         "INT",                            PV_DESC="Transmitter color")
record(ai, "Tgt-TWDS1000:Mech-TE-022:TransmitterColor")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Transmitter color")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-022_iDB")
	info("plc_variable", "TransmitterColor")
	info(autosaveFields_pass0, "VAL")
}


#for OPI visualization
#<<<--- add_digital("EnableFreeRunBtn",        PV_DESC="Enable Free Run Button", PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Mech-TE-022:EnableFreeRunBtn")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Enable Free Run Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-022_iDB")
	info("plc_variable", "EnableFreeRunBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableForcedBtn",         PV_DESC="Enable Force Button",    PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Mech-TE-022:EnableForcedBtn")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Enable Force Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-022_iDB")
	info("plc_variable", "EnableForcedBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableManualBtn",         PV_DESC="Enable Manual Button",   PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Mech-TE-022:EnableManualBtn")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Enable Manual Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-022_iDB")
	info("plc_variable", "EnableManualBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("ScaleLOW",                 "REAL",                           PV_DESC="Scale LOW",                  PV_EGU="null")
record(ai, "Tgt-TWDS1000:Mech-TE-022:ScaleLOW")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Scale LOW")
	field(EGU,  "null")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-022_iDB")
	info("plc_variable", "ScaleLOW")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("ScaleHIGH",                "REAL",                           PV_DESC="Scale HIGH",                 PV_EGU="null")
record(ai, "Tgt-TWDS1000:Mech-TE-022:ScaleHIGH")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Scale HIGH")
	field(EGU,  "null")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-022_iDB")
	info("plc_variable", "ScaleHIGH")
	info(autosaveFields_pass0, "VAL")
}


#Transmitter value
#<<<--- add_analog("MeasValue",                "REAL",                           PV_DESC="Value in Engineering Unit",          PV_EGU="null")
record(ai, "Tgt-TWDS1000:Mech-TE-022:MeasValue")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Value in Engineering Unit")
	field(EGU,  "null")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-022_iDB")
	info("plc_variable", "MeasValue")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("MeasCurrent",              "REAL",                           PV_DESC="Measured Current",     PV_EGU="mA")
record(ai, "Tgt-TWDS1000:Mech-TE-022:MeasCurrent")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Measured Current")
	field(EGU,  "mA")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-022_iDB")
	info("plc_variable", "MeasCurrent")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_digital("DevLocked",               PV_DESC="Device Locked",          PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Mech-TE-022:DevLocked")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Device Locked")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-022_iDB")
	info("plc_variable", "DevLocked")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("Faceplate_LockID",         "DINT",                           PV_DESC="Owner Lock ID")
record(ai, "Tgt-TWDS1000:Mech-TE-022:Faceplate_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Owner Lock ID")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-022_iDB")
	info("plc_variable", "Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("BlockIcon_LockID",         "DINT",                           PV_DESC="Guest Lock ID")
record(ai, "Tgt-TWDS1000:Mech-TE-022:BlockIcon_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Guest Lock ID")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-022_iDB")
	info("plc_variable", "BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("LatchAlarm",                            PV_DESC="Latching of the alarms")
record(bi, "Tgt-TWDS1000:Mech-TE-022:LatchAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Latching of the alarms")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-022_iDB")
	info("plc_variable", "LatchAlarm")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("GroupAlarm",                            PV_DESC="Group Alarm for OPI")
record(bi, "Tgt-TWDS1000:Mech-TE-022:GroupAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Group Alarm for OPI")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-022_iDB")
	info("plc_variable", "GroupAlarm")
	info(autosaveFields_pass0, "VAL")
}


#Alarm signals
#<<<--- add_major_alarm("Underrange",          "Value Underrange",         PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-TE-022:Underrange")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Value Underrange")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-022_iDB")
	info("plc_variable", "Underrange")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Overrange",           "Value Overrange",          PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-TE-022:Overrange")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Value Overrange")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-022_iDB")
	info("plc_variable", "Overrange")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("HIHI",                "Value HIHI",               PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-TE-022:HIHI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Value HIHI")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-022_iDB")
	info("plc_variable", "HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_minor_alarm("HI",                  "Value HI",                 PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-TE-022:HI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Value HI")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-022_iDB")
	info("plc_variable", "HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_minor_alarm("LO",                  "Value LO",                 PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-TE-022:LO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Value LO")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-022_iDB")
	info("plc_variable", "LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("LOLO",                "Value LOLO",               PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-TE-022:LOLO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Value LOLO")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-022_iDB")
	info("plc_variable", "LOLO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("IO_Error",            "IO_Error",                       PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-TE-022:IO_Error")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "IO_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-022_iDB")
	info("plc_variable", "IO_Error")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Module_Error",        "Module_Error",                   PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-TE-022:Module_Error")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Module_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-022_iDB")
	info("plc_variable", "Module_Error")
	info(autosaveFields_pass0, "VAL")
}


#Feedback
#<<<--- add_analog("FB_ForceValue",            "REAL",                           PV_DESC="Feedback Force Value", PV_EGU="null")
record(ai, "Tgt-TWDS1000:Mech-TE-022:FB_ForceValue")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Feedback Force Value")
	field(EGU,  "null")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-022_iDB")
	info("plc_variable", "FB_ForceValue")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_HIHI",            "REAL",                           PV_DESC="Feedback Limit HIHI",        PV_EGU="null")
record(ai, "Tgt-TWDS1000:Mech-TE-022:FB_Limit_HIHI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Feedback Limit HIHI")
	field(EGU,  "null")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-022_iDB")
	info("plc_variable", "FB_Limit_HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_HI",              "REAL",                           PV_DESC="Feedback Limit HI",          PV_EGU="null")
record(ai, "Tgt-TWDS1000:Mech-TE-022:FB_Limit_HI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Feedback Limit HI")
	field(EGU,  "null")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-022_iDB")
	info("plc_variable", "FB_Limit_HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_LO",              "REAL",                           PV_DESC="Feedback Limit LO",          PV_EGU="null")
record(ai, "Tgt-TWDS1000:Mech-TE-022:FB_Limit_LO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Feedback Limit LO")
	field(EGU,  "null")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-022_iDB")
	info("plc_variable", "FB_Limit_LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_LOLO",            "REAL",                           PV_DESC="Feedback Limit LOLO",        PV_EGU="null")
record(ai, "Tgt-TWDS1000:Mech-TE-022:FB_Limit_LOLO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Feedback Limit LOLO")
	field(EGU,  "null")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-022_iDB")
	info("plc_variable", "FB_Limit_LOLO")
	info(autosaveFields_pass0, "VAL")
}



############################
#COMMAND BLOCK
############################
#<<<--- define_command_block()

##########
########## Tgt-TWDS1000:Mech-TE-022 EPICS -> PLC commands   ##########
##########

#OPI buttons
#<<<--- add_digital("Cmd_FreeRun",             PV_DESC="CMD: FreeRun Mode")
record(bo, "Tgt-TWDS1000:Mech-TE-022:Cmd_FreeRun")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: FreeRun Mode")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-022_iDB")
	info("plc_variable", "Cmd_FreeRun")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_Force",               PV_DESC="CMD: Force Mode")
record(bo, "Tgt-TWDS1000:Mech-TE-022:Cmd_Force")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Force Mode")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-022_iDB")
	info("plc_variable", "Cmd_Force")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_ForceVal",            PV_DESC="CMD: Force Value")
record(bo, "Tgt-TWDS1000:Mech-TE-022:Cmd_ForceVal")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Force Value")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-022_iDB")
	info("plc_variable", "Cmd_ForceVal")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_AckAlarm",            PV_DESC="CMD: Acknowledge Alarm")
record(bo, "Tgt-TWDS1000:Mech-TE-022:Cmd_AckAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Acknowledge Alarm")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-022_iDB")
	info("plc_variable", "Cmd_AckAlarm")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_ForceUnlock",         PV_DESC="CMD: Force Unlock Device")
record(bo, "Tgt-TWDS1000:Mech-TE-022:Cmd_ForceUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Force Unlock Device")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-022_iDB")
	info("plc_variable", "Cmd_ForceUnlock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevLock",             PV_DESC="CMD: Lock Device")
record(bo, "Tgt-TWDS1000:Mech-TE-022:Cmd_DevLock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Lock Device")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-022_iDB")
	info("plc_variable", "Cmd_DevLock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevUnlock",           PV_DESC="CMD: Unlock Device")
record(bo, "Tgt-TWDS1000:Mech-TE-022:Cmd_DevUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Unlock Device")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-022_iDB")
	info("plc_variable", "Cmd_DevUnlock")
	info(autosaveFields_pass0, "VAL")
}


############################
#PARAMETER BLOCK
############################
#<<<--- define_parameter_block()

##########
########## Tgt-TWDS1000:Mech-TE-022 EPICS -> PLC parameters ##########
##########

#Limits
#<<<--- add_analog("P_Limit_HIHI",             "REAL",                           PV_DESC="Limit HIHI",                 PV_EGU="null")
record(ao, "Tgt-TWDS1000:Mech-TE-022:P_Limit_HIHI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Limit HIHI")
	field(EGU,  "null")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-022_iDB")
	info("plc_variable", "P_Limit_HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_HI",               "REAL",                           PV_DESC="Limit HI",                   PV_EGU="null")
record(ao, "Tgt-TWDS1000:Mech-TE-022:P_Limit_HI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Limit HI")
	field(EGU,  "null")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-022_iDB")
	info("plc_variable", "P_Limit_HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_LO",               "REAL",                           PV_DESC="Limit LO",                   PV_EGU="null")
record(ao, "Tgt-TWDS1000:Mech-TE-022:P_Limit_LO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Limit LO")
	field(EGU,  "null")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-022_iDB")
	info("plc_variable", "P_Limit_LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_LOLO",             "REAL",                           PV_DESC="Limit LOLO",                 PV_EGU="null")
record(ao, "Tgt-TWDS1000:Mech-TE-022:P_Limit_LOLO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Limit LOLO")
	field(EGU,  "null")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-022_iDB")
	info("plc_variable", "P_Limit_LOLO")
	info(autosaveFields_pass0, "VAL")
}


#Forcing
#<<<--- add_analog("P_ForceValue",             "REAL",                           PV_DESC="Force Value",          PV_EGU="null")
record(ao, "Tgt-TWDS1000:Mech-TE-022:P_ForceValue")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Force Value")
	field(EGU,  "null")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-022_iDB")
	info("plc_variable", "P_ForceValue")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_analog("P_Faceplate_LockID",       "DINT",                           PV_DESC="Device ID after Lock")
record(ao, "Tgt-TWDS1000:Mech-TE-022:P_Faceplate_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Device ID after Lock")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-022_iDB")
	info("plc_variable", "P_Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_BlockIcon_LockID",       "DINT",                           PV_DESC="Device ID after Blockicon Open")
record(ao, "Tgt-TWDS1000:Mech-TE-022:P_BlockIcon_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Device ID after Blockicon Open")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-022_iDB")
	info("plc_variable", "P_BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}

record(fanout, "Tgt-TWDS1000:Mech-TE-022:UploadParametersS") {
	field(LNK1, "Tgt-TWDS1000:Mech-TE-022:P_Limit_HIHI")
	field(LNK2, "Tgt-TWDS1000:Mech-TE-022:P_Limit_HI")
	field(LNK3, "Tgt-TWDS1000:Mech-TE-022:P_Limit_LO")
	field(LNK4, "Tgt-TWDS1000:Mech-TE-022:P_Limit_LOLO")
	field(LNK5, "Tgt-TWDS1000:Mech-TE-022:P_ForceValue")
	field(LNK6, "Tgt-TWDS1000:Mech-TE-022:_UploadParamS1-FO")
}
record(fanout, "Tgt-TWDS1000:Mech-TE-022:_UploadParamS1-FO") {
	field(LNK1, "Tgt-TWDS1000:Mech-TE-022:P_Faceplate_LockID")
	field(LNK2, "Tgt-TWDS1000:Mech-TE-022:P_BlockIcon_LockID")
}



##########
########## Tgt-TWDS1000:Mech-TE-023 ##########
##########
##########

#Author:  Johannes Kazantzidis
#Date:    03-12-2019
#Version: v1.0

############################
#STATUS BLOCK
############################
#<<<--- define_status_block()

##########
########## Tgt-TWDS1000:Mech-TE-023 PLC   -> EPICS status   ##########
##########

#Operation modes
#<<<--- add_digital("OpMode_FreeRun",          PV_DESC="Operation Mode FreeRun", PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Mech-TE-023:OpMode_FreeRun")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Operation Mode FreeRun")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-023_iDB")
	info("plc_variable", "OpMode_FreeRun")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("OpMode_Forced",           PV_DESC="Operation Mode Forced",  PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Mech-TE-023:OpMode_Forced")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Operation Mode Forced")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-023_iDB")
	info("plc_variable", "OpMode_Forced")
	info(autosaveFields_pass0, "VAL")
}


#Inhibit signals (set by the PLC code, can't be changed by the OPI)
#<<<--- add_digital("Inhibit_Manual",          PV_DESC="Inhibit Manual Mode",    PV_ONAM="InhibitManual",              PV_ZNAM="AllowManual")
record(bi, "Tgt-TWDS1000:Mech-TE-023:Inhibit_Manual")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Inhibit Manual Mode")
	field(ONAM, "InhibitManual")
	field(ZNAM, "AllowManual")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-023_iDB")
	info("plc_variable", "Inhibit_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Force",           PV_DESC="Inhibit Force Mode",     PV_ONAM="InhibitForce",               PV_ZNAM="AllowForce")
record(bi, "Tgt-TWDS1000:Mech-TE-023:Inhibit_Force")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Inhibit Force Mode")
	field(ONAM, "InhibitForce")
	field(ZNAM, "AllowForce")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-023_iDB")
	info("plc_variable", "Inhibit_Force")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Lock",            PV_DESC="Inhibit Locking",        PV_ONAM="InhibitLocking",             PV_ZNAM="AllowLocking")
record(bi, "Tgt-TWDS1000:Mech-TE-023:Inhibit_Lock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Inhibit Locking")
	field(ONAM, "InhibitLocking")
	field(ZNAM, "AllowLocking")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-023_iDB")
	info("plc_variable", "Inhibit_Lock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("TransmitterColor",         "INT",                            PV_DESC="Transmitter color")
record(ai, "Tgt-TWDS1000:Mech-TE-023:TransmitterColor")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Transmitter color")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-023_iDB")
	info("plc_variable", "TransmitterColor")
	info(autosaveFields_pass0, "VAL")
}


#for OPI visualization
#<<<--- add_digital("EnableFreeRunBtn",        PV_DESC="Enable Free Run Button", PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Mech-TE-023:EnableFreeRunBtn")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Enable Free Run Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-023_iDB")
	info("plc_variable", "EnableFreeRunBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableForcedBtn",         PV_DESC="Enable Force Button",    PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Mech-TE-023:EnableForcedBtn")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Enable Force Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-023_iDB")
	info("plc_variable", "EnableForcedBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableManualBtn",         PV_DESC="Enable Manual Button",   PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Mech-TE-023:EnableManualBtn")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Enable Manual Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-023_iDB")
	info("plc_variable", "EnableManualBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("ScaleLOW",                 "REAL",                           PV_DESC="Scale LOW",                  PV_EGU="null")
record(ai, "Tgt-TWDS1000:Mech-TE-023:ScaleLOW")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Scale LOW")
	field(EGU,  "null")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-023_iDB")
	info("plc_variable", "ScaleLOW")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("ScaleHIGH",                "REAL",                           PV_DESC="Scale HIGH",                 PV_EGU="null")
record(ai, "Tgt-TWDS1000:Mech-TE-023:ScaleHIGH")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Scale HIGH")
	field(EGU,  "null")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-023_iDB")
	info("plc_variable", "ScaleHIGH")
	info(autosaveFields_pass0, "VAL")
}


#Transmitter value
#<<<--- add_analog("MeasValue",                "REAL",                           PV_DESC="Value in Engineering Unit",          PV_EGU="null")
record(ai, "Tgt-TWDS1000:Mech-TE-023:MeasValue")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Value in Engineering Unit")
	field(EGU,  "null")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-023_iDB")
	info("plc_variable", "MeasValue")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("MeasCurrent",              "REAL",                           PV_DESC="Measured Current",     PV_EGU="mA")
record(ai, "Tgt-TWDS1000:Mech-TE-023:MeasCurrent")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Measured Current")
	field(EGU,  "mA")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-023_iDB")
	info("plc_variable", "MeasCurrent")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_digital("DevLocked",               PV_DESC="Device Locked",          PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Mech-TE-023:DevLocked")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Device Locked")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-023_iDB")
	info("plc_variable", "DevLocked")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("Faceplate_LockID",         "DINT",                           PV_DESC="Owner Lock ID")
record(ai, "Tgt-TWDS1000:Mech-TE-023:Faceplate_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Owner Lock ID")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-023_iDB")
	info("plc_variable", "Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("BlockIcon_LockID",         "DINT",                           PV_DESC="Guest Lock ID")
record(ai, "Tgt-TWDS1000:Mech-TE-023:BlockIcon_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Guest Lock ID")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-023_iDB")
	info("plc_variable", "BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("LatchAlarm",                            PV_DESC="Latching of the alarms")
record(bi, "Tgt-TWDS1000:Mech-TE-023:LatchAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Latching of the alarms")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-023_iDB")
	info("plc_variable", "LatchAlarm")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("GroupAlarm",                            PV_DESC="Group Alarm for OPI")
record(bi, "Tgt-TWDS1000:Mech-TE-023:GroupAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Group Alarm for OPI")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-023_iDB")
	info("plc_variable", "GroupAlarm")
	info(autosaveFields_pass0, "VAL")
}


#Alarm signals
#<<<--- add_major_alarm("Underrange",          "Value Underrange",         PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-TE-023:Underrange")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Value Underrange")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-023_iDB")
	info("plc_variable", "Underrange")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Overrange",           "Value Overrange",          PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-TE-023:Overrange")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Value Overrange")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-023_iDB")
	info("plc_variable", "Overrange")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("HIHI",                "Value HIHI",               PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-TE-023:HIHI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Value HIHI")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-023_iDB")
	info("plc_variable", "HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_minor_alarm("HI",                  "Value HI",                 PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-TE-023:HI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Value HI")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-023_iDB")
	info("plc_variable", "HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_minor_alarm("LO",                  "Value LO",                 PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-TE-023:LO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Value LO")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-023_iDB")
	info("plc_variable", "LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("LOLO",                "Value LOLO",               PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-TE-023:LOLO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Value LOLO")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-023_iDB")
	info("plc_variable", "LOLO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("IO_Error",            "IO_Error",                       PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-TE-023:IO_Error")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "IO_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-023_iDB")
	info("plc_variable", "IO_Error")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Module_Error",        "Module_Error",                   PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-TE-023:Module_Error")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Module_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-023_iDB")
	info("plc_variable", "Module_Error")
	info(autosaveFields_pass0, "VAL")
}


#Feedback
#<<<--- add_analog("FB_ForceValue",            "REAL",                           PV_DESC="Feedback Force Value", PV_EGU="null")
record(ai, "Tgt-TWDS1000:Mech-TE-023:FB_ForceValue")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Feedback Force Value")
	field(EGU,  "null")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-023_iDB")
	info("plc_variable", "FB_ForceValue")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_HIHI",            "REAL",                           PV_DESC="Feedback Limit HIHI",        PV_EGU="null")
record(ai, "Tgt-TWDS1000:Mech-TE-023:FB_Limit_HIHI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Feedback Limit HIHI")
	field(EGU,  "null")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-023_iDB")
	info("plc_variable", "FB_Limit_HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_HI",              "REAL",                           PV_DESC="Feedback Limit HI",          PV_EGU="null")
record(ai, "Tgt-TWDS1000:Mech-TE-023:FB_Limit_HI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Feedback Limit HI")
	field(EGU,  "null")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-023_iDB")
	info("plc_variable", "FB_Limit_HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_LO",              "REAL",                           PV_DESC="Feedback Limit LO",          PV_EGU="null")
record(ai, "Tgt-TWDS1000:Mech-TE-023:FB_Limit_LO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Feedback Limit LO")
	field(EGU,  "null")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-023_iDB")
	info("plc_variable", "FB_Limit_LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_LOLO",            "REAL",                           PV_DESC="Feedback Limit LOLO",        PV_EGU="null")
record(ai, "Tgt-TWDS1000:Mech-TE-023:FB_Limit_LOLO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Feedback Limit LOLO")
	field(EGU,  "null")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-023_iDB")
	info("plc_variable", "FB_Limit_LOLO")
	info(autosaveFields_pass0, "VAL")
}



############################
#COMMAND BLOCK
############################
#<<<--- define_command_block()

##########
########## Tgt-TWDS1000:Mech-TE-023 EPICS -> PLC commands   ##########
##########

#OPI buttons
#<<<--- add_digital("Cmd_FreeRun",             PV_DESC="CMD: FreeRun Mode")
record(bo, "Tgt-TWDS1000:Mech-TE-023:Cmd_FreeRun")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: FreeRun Mode")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-023_iDB")
	info("plc_variable", "Cmd_FreeRun")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_Force",               PV_DESC="CMD: Force Mode")
record(bo, "Tgt-TWDS1000:Mech-TE-023:Cmd_Force")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Force Mode")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-023_iDB")
	info("plc_variable", "Cmd_Force")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_ForceVal",            PV_DESC="CMD: Force Value")
record(bo, "Tgt-TWDS1000:Mech-TE-023:Cmd_ForceVal")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Force Value")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-023_iDB")
	info("plc_variable", "Cmd_ForceVal")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_AckAlarm",            PV_DESC="CMD: Acknowledge Alarm")
record(bo, "Tgt-TWDS1000:Mech-TE-023:Cmd_AckAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Acknowledge Alarm")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-023_iDB")
	info("plc_variable", "Cmd_AckAlarm")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_ForceUnlock",         PV_DESC="CMD: Force Unlock Device")
record(bo, "Tgt-TWDS1000:Mech-TE-023:Cmd_ForceUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Force Unlock Device")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-023_iDB")
	info("plc_variable", "Cmd_ForceUnlock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevLock",             PV_DESC="CMD: Lock Device")
record(bo, "Tgt-TWDS1000:Mech-TE-023:Cmd_DevLock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Lock Device")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-023_iDB")
	info("plc_variable", "Cmd_DevLock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevUnlock",           PV_DESC="CMD: Unlock Device")
record(bo, "Tgt-TWDS1000:Mech-TE-023:Cmd_DevUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Unlock Device")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-023_iDB")
	info("plc_variable", "Cmd_DevUnlock")
	info(autosaveFields_pass0, "VAL")
}


############################
#PARAMETER BLOCK
############################
#<<<--- define_parameter_block()

##########
########## Tgt-TWDS1000:Mech-TE-023 EPICS -> PLC parameters ##########
##########

#Limits
#<<<--- add_analog("P_Limit_HIHI",             "REAL",                           PV_DESC="Limit HIHI",                 PV_EGU="null")
record(ao, "Tgt-TWDS1000:Mech-TE-023:P_Limit_HIHI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Limit HIHI")
	field(EGU,  "null")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-023_iDB")
	info("plc_variable", "P_Limit_HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_HI",               "REAL",                           PV_DESC="Limit HI",                   PV_EGU="null")
record(ao, "Tgt-TWDS1000:Mech-TE-023:P_Limit_HI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Limit HI")
	field(EGU,  "null")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-023_iDB")
	info("plc_variable", "P_Limit_HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_LO",               "REAL",                           PV_DESC="Limit LO",                   PV_EGU="null")
record(ao, "Tgt-TWDS1000:Mech-TE-023:P_Limit_LO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Limit LO")
	field(EGU,  "null")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-023_iDB")
	info("plc_variable", "P_Limit_LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_LOLO",             "REAL",                           PV_DESC="Limit LOLO",                 PV_EGU="null")
record(ao, "Tgt-TWDS1000:Mech-TE-023:P_Limit_LOLO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Limit LOLO")
	field(EGU,  "null")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-023_iDB")
	info("plc_variable", "P_Limit_LOLO")
	info(autosaveFields_pass0, "VAL")
}


#Forcing
#<<<--- add_analog("P_ForceValue",             "REAL",                           PV_DESC="Force Value",          PV_EGU="null")
record(ao, "Tgt-TWDS1000:Mech-TE-023:P_ForceValue")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Force Value")
	field(EGU,  "null")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-023_iDB")
	info("plc_variable", "P_ForceValue")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_analog("P_Faceplate_LockID",       "DINT",                           PV_DESC="Device ID after Lock")
record(ao, "Tgt-TWDS1000:Mech-TE-023:P_Faceplate_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Device ID after Lock")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-023_iDB")
	info("plc_variable", "P_Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_BlockIcon_LockID",       "DINT",                           PV_DESC="Device ID after Blockicon Open")
record(ao, "Tgt-TWDS1000:Mech-TE-023:P_BlockIcon_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Device ID after Blockicon Open")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-023_iDB")
	info("plc_variable", "P_BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}

record(fanout, "Tgt-TWDS1000:Mech-TE-023:UploadParametersS") {
	field(LNK1, "Tgt-TWDS1000:Mech-TE-023:P_Limit_HIHI")
	field(LNK2, "Tgt-TWDS1000:Mech-TE-023:P_Limit_HI")
	field(LNK3, "Tgt-TWDS1000:Mech-TE-023:P_Limit_LO")
	field(LNK4, "Tgt-TWDS1000:Mech-TE-023:P_Limit_LOLO")
	field(LNK5, "Tgt-TWDS1000:Mech-TE-023:P_ForceValue")
	field(LNK6, "Tgt-TWDS1000:Mech-TE-023:_UploadParamS1-FO")
}
record(fanout, "Tgt-TWDS1000:Mech-TE-023:_UploadParamS1-FO") {
	field(LNK1, "Tgt-TWDS1000:Mech-TE-023:P_Faceplate_LockID")
	field(LNK2, "Tgt-TWDS1000:Mech-TE-023:P_BlockIcon_LockID")
}



##########
########## Tgt-TWDS1000:Mech-TE-024 ##########
##########
##########

#Author:  Johannes Kazantzidis
#Date:    03-12-2019
#Version: v1.0

############################
#STATUS BLOCK
############################
#<<<--- define_status_block()

##########
########## Tgt-TWDS1000:Mech-TE-024 PLC   -> EPICS status   ##########
##########

#Operation modes
#<<<--- add_digital("OpMode_FreeRun",          PV_DESC="Operation Mode FreeRun", PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Mech-TE-024:OpMode_FreeRun")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Operation Mode FreeRun")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-024_iDB")
	info("plc_variable", "OpMode_FreeRun")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("OpMode_Forced",           PV_DESC="Operation Mode Forced",  PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Mech-TE-024:OpMode_Forced")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Operation Mode Forced")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-024_iDB")
	info("plc_variable", "OpMode_Forced")
	info(autosaveFields_pass0, "VAL")
}


#Inhibit signals (set by the PLC code, can't be changed by the OPI)
#<<<--- add_digital("Inhibit_Manual",          PV_DESC="Inhibit Manual Mode",    PV_ONAM="InhibitManual",              PV_ZNAM="AllowManual")
record(bi, "Tgt-TWDS1000:Mech-TE-024:Inhibit_Manual")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Inhibit Manual Mode")
	field(ONAM, "InhibitManual")
	field(ZNAM, "AllowManual")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-024_iDB")
	info("plc_variable", "Inhibit_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Force",           PV_DESC="Inhibit Force Mode",     PV_ONAM="InhibitForce",               PV_ZNAM="AllowForce")
record(bi, "Tgt-TWDS1000:Mech-TE-024:Inhibit_Force")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Inhibit Force Mode")
	field(ONAM, "InhibitForce")
	field(ZNAM, "AllowForce")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-024_iDB")
	info("plc_variable", "Inhibit_Force")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Lock",            PV_DESC="Inhibit Locking",        PV_ONAM="InhibitLocking",             PV_ZNAM="AllowLocking")
record(bi, "Tgt-TWDS1000:Mech-TE-024:Inhibit_Lock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Inhibit Locking")
	field(ONAM, "InhibitLocking")
	field(ZNAM, "AllowLocking")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-024_iDB")
	info("plc_variable", "Inhibit_Lock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("TransmitterColor",         "INT",                            PV_DESC="Transmitter color")
record(ai, "Tgt-TWDS1000:Mech-TE-024:TransmitterColor")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Transmitter color")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-024_iDB")
	info("plc_variable", "TransmitterColor")
	info(autosaveFields_pass0, "VAL")
}


#for OPI visualization
#<<<--- add_digital("EnableFreeRunBtn",        PV_DESC="Enable Free Run Button", PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Mech-TE-024:EnableFreeRunBtn")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Enable Free Run Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-024_iDB")
	info("plc_variable", "EnableFreeRunBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableForcedBtn",         PV_DESC="Enable Force Button",    PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Mech-TE-024:EnableForcedBtn")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Enable Force Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-024_iDB")
	info("plc_variable", "EnableForcedBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableManualBtn",         PV_DESC="Enable Manual Button",   PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Mech-TE-024:EnableManualBtn")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Enable Manual Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-024_iDB")
	info("plc_variable", "EnableManualBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("ScaleLOW",                 "REAL",                           PV_DESC="Scale LOW",                  PV_EGU="null")
record(ai, "Tgt-TWDS1000:Mech-TE-024:ScaleLOW")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Scale LOW")
	field(EGU,  "null")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-024_iDB")
	info("plc_variable", "ScaleLOW")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("ScaleHIGH",                "REAL",                           PV_DESC="Scale HIGH",                 PV_EGU="null")
record(ai, "Tgt-TWDS1000:Mech-TE-024:ScaleHIGH")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Scale HIGH")
	field(EGU,  "null")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-024_iDB")
	info("plc_variable", "ScaleHIGH")
	info(autosaveFields_pass0, "VAL")
}


#Transmitter value
#<<<--- add_analog("MeasValue",                "REAL",                           PV_DESC="Value in Engineering Unit",          PV_EGU="null")
record(ai, "Tgt-TWDS1000:Mech-TE-024:MeasValue")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Value in Engineering Unit")
	field(EGU,  "null")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-024_iDB")
	info("plc_variable", "MeasValue")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("MeasCurrent",              "REAL",                           PV_DESC="Measured Current",     PV_EGU="mA")
record(ai, "Tgt-TWDS1000:Mech-TE-024:MeasCurrent")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Measured Current")
	field(EGU,  "mA")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-024_iDB")
	info("plc_variable", "MeasCurrent")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_digital("DevLocked",               PV_DESC="Device Locked",          PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Mech-TE-024:DevLocked")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Device Locked")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-024_iDB")
	info("plc_variable", "DevLocked")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("Faceplate_LockID",         "DINT",                           PV_DESC="Owner Lock ID")
record(ai, "Tgt-TWDS1000:Mech-TE-024:Faceplate_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Owner Lock ID")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-024_iDB")
	info("plc_variable", "Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("BlockIcon_LockID",         "DINT",                           PV_DESC="Guest Lock ID")
record(ai, "Tgt-TWDS1000:Mech-TE-024:BlockIcon_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Guest Lock ID")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-024_iDB")
	info("plc_variable", "BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("LatchAlarm",                            PV_DESC="Latching of the alarms")
record(bi, "Tgt-TWDS1000:Mech-TE-024:LatchAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Latching of the alarms")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-024_iDB")
	info("plc_variable", "LatchAlarm")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("GroupAlarm",                            PV_DESC="Group Alarm for OPI")
record(bi, "Tgt-TWDS1000:Mech-TE-024:GroupAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Group Alarm for OPI")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-024_iDB")
	info("plc_variable", "GroupAlarm")
	info(autosaveFields_pass0, "VAL")
}


#Alarm signals
#<<<--- add_major_alarm("Underrange",          "Value Underrange",         PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-TE-024:Underrange")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Value Underrange")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-024_iDB")
	info("plc_variable", "Underrange")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Overrange",           "Value Overrange",          PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-TE-024:Overrange")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Value Overrange")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-024_iDB")
	info("plc_variable", "Overrange")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("HIHI",                "Value HIHI",               PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-TE-024:HIHI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Value HIHI")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-024_iDB")
	info("plc_variable", "HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_minor_alarm("HI",                  "Value HI",                 PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-TE-024:HI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Value HI")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-024_iDB")
	info("plc_variable", "HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_minor_alarm("LO",                  "Value LO",                 PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-TE-024:LO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Value LO")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-024_iDB")
	info("plc_variable", "LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("LOLO",                "Value LOLO",               PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-TE-024:LOLO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Value LOLO")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-024_iDB")
	info("plc_variable", "LOLO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("IO_Error",            "IO_Error",                       PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-TE-024:IO_Error")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "IO_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-024_iDB")
	info("plc_variable", "IO_Error")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Module_Error",        "Module_Error",                   PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-TE-024:Module_Error")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Module_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-024_iDB")
	info("plc_variable", "Module_Error")
	info(autosaveFields_pass0, "VAL")
}


#Feedback
#<<<--- add_analog("FB_ForceValue",            "REAL",                           PV_DESC="Feedback Force Value", PV_EGU="null")
record(ai, "Tgt-TWDS1000:Mech-TE-024:FB_ForceValue")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Feedback Force Value")
	field(EGU,  "null")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-024_iDB")
	info("plc_variable", "FB_ForceValue")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_HIHI",            "REAL",                           PV_DESC="Feedback Limit HIHI",        PV_EGU="null")
record(ai, "Tgt-TWDS1000:Mech-TE-024:FB_Limit_HIHI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Feedback Limit HIHI")
	field(EGU,  "null")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-024_iDB")
	info("plc_variable", "FB_Limit_HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_HI",              "REAL",                           PV_DESC="Feedback Limit HI",          PV_EGU="null")
record(ai, "Tgt-TWDS1000:Mech-TE-024:FB_Limit_HI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Feedback Limit HI")
	field(EGU,  "null")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-024_iDB")
	info("plc_variable", "FB_Limit_HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_LO",              "REAL",                           PV_DESC="Feedback Limit LO",          PV_EGU="null")
record(ai, "Tgt-TWDS1000:Mech-TE-024:FB_Limit_LO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Feedback Limit LO")
	field(EGU,  "null")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-024_iDB")
	info("plc_variable", "FB_Limit_LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_LOLO",            "REAL",                           PV_DESC="Feedback Limit LOLO",        PV_EGU="null")
record(ai, "Tgt-TWDS1000:Mech-TE-024:FB_Limit_LOLO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Feedback Limit LOLO")
	field(EGU,  "null")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-024_iDB")
	info("plc_variable", "FB_Limit_LOLO")
	info(autosaveFields_pass0, "VAL")
}



############################
#COMMAND BLOCK
############################
#<<<--- define_command_block()

##########
########## Tgt-TWDS1000:Mech-TE-024 EPICS -> PLC commands   ##########
##########

#OPI buttons
#<<<--- add_digital("Cmd_FreeRun",             PV_DESC="CMD: FreeRun Mode")
record(bo, "Tgt-TWDS1000:Mech-TE-024:Cmd_FreeRun")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: FreeRun Mode")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-024_iDB")
	info("plc_variable", "Cmd_FreeRun")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_Force",               PV_DESC="CMD: Force Mode")
record(bo, "Tgt-TWDS1000:Mech-TE-024:Cmd_Force")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Force Mode")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-024_iDB")
	info("plc_variable", "Cmd_Force")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_ForceVal",            PV_DESC="CMD: Force Value")
record(bo, "Tgt-TWDS1000:Mech-TE-024:Cmd_ForceVal")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Force Value")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-024_iDB")
	info("plc_variable", "Cmd_ForceVal")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_AckAlarm",            PV_DESC="CMD: Acknowledge Alarm")
record(bo, "Tgt-TWDS1000:Mech-TE-024:Cmd_AckAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Acknowledge Alarm")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-024_iDB")
	info("plc_variable", "Cmd_AckAlarm")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_ForceUnlock",         PV_DESC="CMD: Force Unlock Device")
record(bo, "Tgt-TWDS1000:Mech-TE-024:Cmd_ForceUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Force Unlock Device")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-024_iDB")
	info("plc_variable", "Cmd_ForceUnlock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevLock",             PV_DESC="CMD: Lock Device")
record(bo, "Tgt-TWDS1000:Mech-TE-024:Cmd_DevLock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Lock Device")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-024_iDB")
	info("plc_variable", "Cmd_DevLock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevUnlock",           PV_DESC="CMD: Unlock Device")
record(bo, "Tgt-TWDS1000:Mech-TE-024:Cmd_DevUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Unlock Device")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-024_iDB")
	info("plc_variable", "Cmd_DevUnlock")
	info(autosaveFields_pass0, "VAL")
}


############################
#PARAMETER BLOCK
############################
#<<<--- define_parameter_block()

##########
########## Tgt-TWDS1000:Mech-TE-024 EPICS -> PLC parameters ##########
##########

#Limits
#<<<--- add_analog("P_Limit_HIHI",             "REAL",                           PV_DESC="Limit HIHI",                 PV_EGU="null")
record(ao, "Tgt-TWDS1000:Mech-TE-024:P_Limit_HIHI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Limit HIHI")
	field(EGU,  "null")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-024_iDB")
	info("plc_variable", "P_Limit_HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_HI",               "REAL",                           PV_DESC="Limit HI",                   PV_EGU="null")
record(ao, "Tgt-TWDS1000:Mech-TE-024:P_Limit_HI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Limit HI")
	field(EGU,  "null")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-024_iDB")
	info("plc_variable", "P_Limit_HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_LO",               "REAL",                           PV_DESC="Limit LO",                   PV_EGU="null")
record(ao, "Tgt-TWDS1000:Mech-TE-024:P_Limit_LO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Limit LO")
	field(EGU,  "null")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-024_iDB")
	info("plc_variable", "P_Limit_LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_LOLO",             "REAL",                           PV_DESC="Limit LOLO",                 PV_EGU="null")
record(ao, "Tgt-TWDS1000:Mech-TE-024:P_Limit_LOLO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Limit LOLO")
	field(EGU,  "null")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-024_iDB")
	info("plc_variable", "P_Limit_LOLO")
	info(autosaveFields_pass0, "VAL")
}


#Forcing
#<<<--- add_analog("P_ForceValue",             "REAL",                           PV_DESC="Force Value",          PV_EGU="null")
record(ao, "Tgt-TWDS1000:Mech-TE-024:P_ForceValue")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Force Value")
	field(EGU,  "null")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-024_iDB")
	info("plc_variable", "P_ForceValue")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_analog("P_Faceplate_LockID",       "DINT",                           PV_DESC="Device ID after Lock")
record(ao, "Tgt-TWDS1000:Mech-TE-024:P_Faceplate_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Device ID after Lock")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-024_iDB")
	info("plc_variable", "P_Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_BlockIcon_LockID",       "DINT",                           PV_DESC="Device ID after Blockicon Open")
record(ao, "Tgt-TWDS1000:Mech-TE-024:P_BlockIcon_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Device ID after Blockicon Open")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-024_iDB")
	info("plc_variable", "P_BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}

record(fanout, "Tgt-TWDS1000:Mech-TE-024:UploadParametersS") {
	field(LNK1, "Tgt-TWDS1000:Mech-TE-024:P_Limit_HIHI")
	field(LNK2, "Tgt-TWDS1000:Mech-TE-024:P_Limit_HI")
	field(LNK3, "Tgt-TWDS1000:Mech-TE-024:P_Limit_LO")
	field(LNK4, "Tgt-TWDS1000:Mech-TE-024:P_Limit_LOLO")
	field(LNK5, "Tgt-TWDS1000:Mech-TE-024:P_ForceValue")
	field(LNK6, "Tgt-TWDS1000:Mech-TE-024:_UploadParamS1-FO")
}
record(fanout, "Tgt-TWDS1000:Mech-TE-024:_UploadParamS1-FO") {
	field(LNK1, "Tgt-TWDS1000:Mech-TE-024:P_Faceplate_LockID")
	field(LNK2, "Tgt-TWDS1000:Mech-TE-024:P_BlockIcon_LockID")
}



##########
########## Tgt-TWDS1000:Mech-TE-025 ##########
##########
##########

#Author:  Johannes Kazantzidis
#Date:    03-12-2019
#Version: v1.0

############################
#STATUS BLOCK
############################
#<<<--- define_status_block()

##########
########## Tgt-TWDS1000:Mech-TE-025 PLC   -> EPICS status   ##########
##########

#Operation modes
#<<<--- add_digital("OpMode_FreeRun",          PV_DESC="Operation Mode FreeRun", PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Mech-TE-025:OpMode_FreeRun")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Operation Mode FreeRun")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-025_iDB")
	info("plc_variable", "OpMode_FreeRun")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("OpMode_Forced",           PV_DESC="Operation Mode Forced",  PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Mech-TE-025:OpMode_Forced")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Operation Mode Forced")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-025_iDB")
	info("plc_variable", "OpMode_Forced")
	info(autosaveFields_pass0, "VAL")
}


#Inhibit signals (set by the PLC code, can't be changed by the OPI)
#<<<--- add_digital("Inhibit_Manual",          PV_DESC="Inhibit Manual Mode",    PV_ONAM="InhibitManual",              PV_ZNAM="AllowManual")
record(bi, "Tgt-TWDS1000:Mech-TE-025:Inhibit_Manual")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Inhibit Manual Mode")
	field(ONAM, "InhibitManual")
	field(ZNAM, "AllowManual")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-025_iDB")
	info("plc_variable", "Inhibit_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Force",           PV_DESC="Inhibit Force Mode",     PV_ONAM="InhibitForce",               PV_ZNAM="AllowForce")
record(bi, "Tgt-TWDS1000:Mech-TE-025:Inhibit_Force")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Inhibit Force Mode")
	field(ONAM, "InhibitForce")
	field(ZNAM, "AllowForce")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-025_iDB")
	info("plc_variable", "Inhibit_Force")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Lock",            PV_DESC="Inhibit Locking",        PV_ONAM="InhibitLocking",             PV_ZNAM="AllowLocking")
record(bi, "Tgt-TWDS1000:Mech-TE-025:Inhibit_Lock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Inhibit Locking")
	field(ONAM, "InhibitLocking")
	field(ZNAM, "AllowLocking")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-025_iDB")
	info("plc_variable", "Inhibit_Lock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("TransmitterColor",         "INT",                            PV_DESC="Transmitter color")
record(ai, "Tgt-TWDS1000:Mech-TE-025:TransmitterColor")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Transmitter color")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-025_iDB")
	info("plc_variable", "TransmitterColor")
	info(autosaveFields_pass0, "VAL")
}


#for OPI visualization
#<<<--- add_digital("EnableFreeRunBtn",        PV_DESC="Enable Free Run Button", PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Mech-TE-025:EnableFreeRunBtn")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Enable Free Run Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-025_iDB")
	info("plc_variable", "EnableFreeRunBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableForcedBtn",         PV_DESC="Enable Force Button",    PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Mech-TE-025:EnableForcedBtn")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Enable Force Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-025_iDB")
	info("plc_variable", "EnableForcedBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableManualBtn",         PV_DESC="Enable Manual Button",   PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Mech-TE-025:EnableManualBtn")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Enable Manual Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-025_iDB")
	info("plc_variable", "EnableManualBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("ScaleLOW",                 "REAL",                           PV_DESC="Scale LOW",                  PV_EGU="null")
record(ai, "Tgt-TWDS1000:Mech-TE-025:ScaleLOW")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Scale LOW")
	field(EGU,  "null")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-025_iDB")
	info("plc_variable", "ScaleLOW")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("ScaleHIGH",                "REAL",                           PV_DESC="Scale HIGH",                 PV_EGU="null")
record(ai, "Tgt-TWDS1000:Mech-TE-025:ScaleHIGH")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Scale HIGH")
	field(EGU,  "null")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-025_iDB")
	info("plc_variable", "ScaleHIGH")
	info(autosaveFields_pass0, "VAL")
}


#Transmitter value
#<<<--- add_analog("MeasValue",                "REAL",                           PV_DESC="Value in Engineering Unit",          PV_EGU="null")
record(ai, "Tgt-TWDS1000:Mech-TE-025:MeasValue")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Value in Engineering Unit")
	field(EGU,  "null")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-025_iDB")
	info("plc_variable", "MeasValue")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("MeasCurrent",              "REAL",                           PV_DESC="Measured Current",     PV_EGU="mA")
record(ai, "Tgt-TWDS1000:Mech-TE-025:MeasCurrent")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Measured Current")
	field(EGU,  "mA")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-025_iDB")
	info("plc_variable", "MeasCurrent")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_digital("DevLocked",               PV_DESC="Device Locked",          PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Mech-TE-025:DevLocked")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Device Locked")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-025_iDB")
	info("plc_variable", "DevLocked")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("Faceplate_LockID",         "DINT",                           PV_DESC="Owner Lock ID")
record(ai, "Tgt-TWDS1000:Mech-TE-025:Faceplate_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Owner Lock ID")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-025_iDB")
	info("plc_variable", "Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("BlockIcon_LockID",         "DINT",                           PV_DESC="Guest Lock ID")
record(ai, "Tgt-TWDS1000:Mech-TE-025:BlockIcon_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Guest Lock ID")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-025_iDB")
	info("plc_variable", "BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("LatchAlarm",                            PV_DESC="Latching of the alarms")
record(bi, "Tgt-TWDS1000:Mech-TE-025:LatchAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Latching of the alarms")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-025_iDB")
	info("plc_variable", "LatchAlarm")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("GroupAlarm",                            PV_DESC="Group Alarm for OPI")
record(bi, "Tgt-TWDS1000:Mech-TE-025:GroupAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Group Alarm for OPI")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-025_iDB")
	info("plc_variable", "GroupAlarm")
	info(autosaveFields_pass0, "VAL")
}


#Alarm signals
#<<<--- add_major_alarm("Underrange",          "Value Underrange",         PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-TE-025:Underrange")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Value Underrange")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-025_iDB")
	info("plc_variable", "Underrange")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Overrange",           "Value Overrange",          PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-TE-025:Overrange")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Value Overrange")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-025_iDB")
	info("plc_variable", "Overrange")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("HIHI",                "Value HIHI",               PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-TE-025:HIHI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Value HIHI")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-025_iDB")
	info("plc_variable", "HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_minor_alarm("HI",                  "Value HI",                 PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-TE-025:HI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Value HI")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-025_iDB")
	info("plc_variable", "HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_minor_alarm("LO",                  "Value LO",                 PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-TE-025:LO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Value LO")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-025_iDB")
	info("plc_variable", "LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("LOLO",                "Value LOLO",               PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-TE-025:LOLO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Value LOLO")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-025_iDB")
	info("plc_variable", "LOLO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("IO_Error",            "IO_Error",                       PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-TE-025:IO_Error")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "IO_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-025_iDB")
	info("plc_variable", "IO_Error")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Module_Error",        "Module_Error",                   PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-TE-025:Module_Error")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Module_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-025_iDB")
	info("plc_variable", "Module_Error")
	info(autosaveFields_pass0, "VAL")
}


#Feedback
#<<<--- add_analog("FB_ForceValue",            "REAL",                           PV_DESC="Feedback Force Value", PV_EGU="null")
record(ai, "Tgt-TWDS1000:Mech-TE-025:FB_ForceValue")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Feedback Force Value")
	field(EGU,  "null")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-025_iDB")
	info("plc_variable", "FB_ForceValue")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_HIHI",            "REAL",                           PV_DESC="Feedback Limit HIHI",        PV_EGU="null")
record(ai, "Tgt-TWDS1000:Mech-TE-025:FB_Limit_HIHI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Feedback Limit HIHI")
	field(EGU,  "null")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-025_iDB")
	info("plc_variable", "FB_Limit_HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_HI",              "REAL",                           PV_DESC="Feedback Limit HI",          PV_EGU="null")
record(ai, "Tgt-TWDS1000:Mech-TE-025:FB_Limit_HI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Feedback Limit HI")
	field(EGU,  "null")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-025_iDB")
	info("plc_variable", "FB_Limit_HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_LO",              "REAL",                           PV_DESC="Feedback Limit LO",          PV_EGU="null")
record(ai, "Tgt-TWDS1000:Mech-TE-025:FB_Limit_LO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Feedback Limit LO")
	field(EGU,  "null")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-025_iDB")
	info("plc_variable", "FB_Limit_LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_LOLO",            "REAL",                           PV_DESC="Feedback Limit LOLO",        PV_EGU="null")
record(ai, "Tgt-TWDS1000:Mech-TE-025:FB_Limit_LOLO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Feedback Limit LOLO")
	field(EGU,  "null")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-025_iDB")
	info("plc_variable", "FB_Limit_LOLO")
	info(autosaveFields_pass0, "VAL")
}



############################
#COMMAND BLOCK
############################
#<<<--- define_command_block()

##########
########## Tgt-TWDS1000:Mech-TE-025 EPICS -> PLC commands   ##########
##########

#OPI buttons
#<<<--- add_digital("Cmd_FreeRun",             PV_DESC="CMD: FreeRun Mode")
record(bo, "Tgt-TWDS1000:Mech-TE-025:Cmd_FreeRun")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: FreeRun Mode")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-025_iDB")
	info("plc_variable", "Cmd_FreeRun")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_Force",               PV_DESC="CMD: Force Mode")
record(bo, "Tgt-TWDS1000:Mech-TE-025:Cmd_Force")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Force Mode")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-025_iDB")
	info("plc_variable", "Cmd_Force")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_ForceVal",            PV_DESC="CMD: Force Value")
record(bo, "Tgt-TWDS1000:Mech-TE-025:Cmd_ForceVal")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Force Value")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-025_iDB")
	info("plc_variable", "Cmd_ForceVal")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_AckAlarm",            PV_DESC="CMD: Acknowledge Alarm")
record(bo, "Tgt-TWDS1000:Mech-TE-025:Cmd_AckAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Acknowledge Alarm")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-025_iDB")
	info("plc_variable", "Cmd_AckAlarm")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_ForceUnlock",         PV_DESC="CMD: Force Unlock Device")
record(bo, "Tgt-TWDS1000:Mech-TE-025:Cmd_ForceUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Force Unlock Device")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-025_iDB")
	info("plc_variable", "Cmd_ForceUnlock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevLock",             PV_DESC="CMD: Lock Device")
record(bo, "Tgt-TWDS1000:Mech-TE-025:Cmd_DevLock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Lock Device")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-025_iDB")
	info("plc_variable", "Cmd_DevLock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevUnlock",           PV_DESC="CMD: Unlock Device")
record(bo, "Tgt-TWDS1000:Mech-TE-025:Cmd_DevUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Unlock Device")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-025_iDB")
	info("plc_variable", "Cmd_DevUnlock")
	info(autosaveFields_pass0, "VAL")
}


############################
#PARAMETER BLOCK
############################
#<<<--- define_parameter_block()

##########
########## Tgt-TWDS1000:Mech-TE-025 EPICS -> PLC parameters ##########
##########

#Limits
#<<<--- add_analog("P_Limit_HIHI",             "REAL",                           PV_DESC="Limit HIHI",                 PV_EGU="null")
record(ao, "Tgt-TWDS1000:Mech-TE-025:P_Limit_HIHI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Limit HIHI")
	field(EGU,  "null")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-025_iDB")
	info("plc_variable", "P_Limit_HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_HI",               "REAL",                           PV_DESC="Limit HI",                   PV_EGU="null")
record(ao, "Tgt-TWDS1000:Mech-TE-025:P_Limit_HI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Limit HI")
	field(EGU,  "null")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-025_iDB")
	info("plc_variable", "P_Limit_HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_LO",               "REAL",                           PV_DESC="Limit LO",                   PV_EGU="null")
record(ao, "Tgt-TWDS1000:Mech-TE-025:P_Limit_LO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Limit LO")
	field(EGU,  "null")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-025_iDB")
	info("plc_variable", "P_Limit_LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_LOLO",             "REAL",                           PV_DESC="Limit LOLO",                 PV_EGU="null")
record(ao, "Tgt-TWDS1000:Mech-TE-025:P_Limit_LOLO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Limit LOLO")
	field(EGU,  "null")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-025_iDB")
	info("plc_variable", "P_Limit_LOLO")
	info(autosaveFields_pass0, "VAL")
}


#Forcing
#<<<--- add_analog("P_ForceValue",             "REAL",                           PV_DESC="Force Value",          PV_EGU="null")
record(ao, "Tgt-TWDS1000:Mech-TE-025:P_ForceValue")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Force Value")
	field(EGU,  "null")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-025_iDB")
	info("plc_variable", "P_ForceValue")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_analog("P_Faceplate_LockID",       "DINT",                           PV_DESC="Device ID after Lock")
record(ao, "Tgt-TWDS1000:Mech-TE-025:P_Faceplate_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Device ID after Lock")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-025_iDB")
	info("plc_variable", "P_Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_BlockIcon_LockID",       "DINT",                           PV_DESC="Device ID after Blockicon Open")
record(ao, "Tgt-TWDS1000:Mech-TE-025:P_BlockIcon_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Device ID after Blockicon Open")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-TE-025_iDB")
	info("plc_variable", "P_BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}

record(fanout, "Tgt-TWDS1000:Mech-TE-025:UploadParametersS") {
	field(LNK1, "Tgt-TWDS1000:Mech-TE-025:P_Limit_HIHI")
	field(LNK2, "Tgt-TWDS1000:Mech-TE-025:P_Limit_HI")
	field(LNK3, "Tgt-TWDS1000:Mech-TE-025:P_Limit_LO")
	field(LNK4, "Tgt-TWDS1000:Mech-TE-025:P_Limit_LOLO")
	field(LNK5, "Tgt-TWDS1000:Mech-TE-025:P_ForceValue")
	field(LNK6, "Tgt-TWDS1000:Mech-TE-025:_UploadParamS1-FO")
}
record(fanout, "Tgt-TWDS1000:Mech-TE-025:_UploadParamS1-FO") {
	field(LNK1, "Tgt-TWDS1000:Mech-TE-025:P_Faceplate_LockID")
	field(LNK2, "Tgt-TWDS1000:Mech-TE-025:P_BlockIcon_LockID")
}



##########
########## Tgt-TWDS1000:Proc-P-013 ##########
##########
##########

###################################### ICS HWI ###############################################
#############################  ICS Instrument Library     ####################################
##  PLC Sample Code in VersionDog: ICS_LIBRARY_MASTER_PLC                                   ##
##  CCDB device types: ICS_xxxxx                                                            ##
##  EPICS HMI (Block Icons/Faceplates)@ GitLab. Projekt: Cryo / CryogenicsLibrary / CryoLib ##
##                                                                                          ##
##                           DP - Remote Discrete Pump (ON/OFF Pump)                        ##
##                                                                                          ##
##                                                                                          ##
############################         Version: 1.3             ################################
#Author:  Miklos Boros
#Date:    27-05-2019
#Version: v1.3
#Changes:
#1. Variable name unification
############################         Version: 1.2             ################################
#Author:  Miklos Boros
#Date:    28-02-2019
#Version: v1.2
#Changes:
#1. Major review,
#2. Indent,  unit standardization
############################ Version: 1.0,1.1             ####################################
#Author:  Miklos Boros, Marino Vojneski
#Date:    12-06-2018
#Version: v1.0



############################
#STATUS BLOCK
############################
#<<<--- define_status_block()

##########
########## Tgt-TWDS1000:Proc-P-013 PLC   -> EPICS status   ##########
##########

#Operation modes
#<<<--- add_digital("OpMode_Auto",             PV_DESC="Operation Mode Auto",   PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-P-013:OpMode_Auto")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Operation Mode Auto")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-P-013_iDB")
	info("plc_variable", "OpMode_Auto")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("OpMode_Manual",           PV_DESC="Operation Mode Manual", PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-P-013:OpMode_Manual")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Operation Mode Manual")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-P-013_iDB")
	info("plc_variable", "OpMode_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("OpMode_Forced",           PV_DESC="Operation Mode Forced", PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-P-013:OpMode_Forced")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Operation Mode Forced")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-P-013_iDB")
	info("plc_variable", "OpMode_Forced")
	info(autosaveFields_pass0, "VAL")
}


#Valve physical states
#<<<--- add_digital("Running",                 PV_DESC="Pump Running",          PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-P-013:Running")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Pump Running")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-P-013_iDB")
	info("plc_variable", "Running")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Stopped",                 PV_DESC="Pump Stopped",          PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-P-013:Stopped")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Pump Stopped")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-P-013_iDB")
	info("plc_variable", "Stopped")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("PumpColor", "INT",         PV_DESC="BlockIcon pump color")
record(ai, "Tgt-TWDS1000:Proc-P-013:PumpColor")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "BlockIcon pump color")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-P-013_iDB")
	info("plc_variable", "PumpColor")
	info(autosaveFields_pass0, "VAL")
}


#Inhibit signals (set by the PLC code, can't be changed by the OPI)
#<<<--- add_digital("Inhibit_Manual",          PV_DESC="Inhibit Manual Mode",   PV_ONAM="InhibitManual",  PV_ZNAM="AllowManual")
record(bi, "Tgt-TWDS1000:Proc-P-013:Inhibit_Manual")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Inhibit Manual Mode")
	field(ONAM, "InhibitManual")
	field(ZNAM, "AllowManual")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-P-013_iDB")
	info("plc_variable", "Inhibit_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Force",           PV_DESC="Inhibit Force Mode",    PV_ONAM="InhibitForce",   PV_ZNAM="AllowForce")
record(bi, "Tgt-TWDS1000:Proc-P-013:Inhibit_Force")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Inhibit Force Mode")
	field(ONAM, "InhibitForce")
	field(ZNAM, "AllowForce")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-P-013_iDB")
	info("plc_variable", "Inhibit_Force")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Lock",            PV_DESC="Inhibit Locking",       PV_ONAM="InhibitLocking", PV_ZNAM="AllowLocking")
record(bi, "Tgt-TWDS1000:Proc-P-013:Inhibit_Lock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Inhibit Locking")
	field(ONAM, "InhibitLocking")
	field(ZNAM, "AllowLocking")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-P-013_iDB")
	info("plc_variable", "Inhibit_Lock")
	info(autosaveFields_pass0, "VAL")
}


#Interlock signals
#<<<--- add_digital("GroupInterlock",          PV_DESC="Group Interlock",       PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-P-013:GroupInterlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Group Interlock")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-P-013_iDB")
	info("plc_variable", "GroupInterlock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("StartInterlock",          PV_DESC="Start Interlock",       PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-P-013:StartInterlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Start Interlock")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-P-013_iDB")
	info("plc_variable", "StartInterlock")
	info(autosaveFields_pass0, "VAL")
}


#for OPI visualization
#<<<--- add_digital("EnableAutoBtn",           PV_DESC="Enable Auto Button",    PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-P-013:EnableAutoBtn")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Enable Auto Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-P-013_iDB")
	info("plc_variable", "EnableAutoBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableManualBtn",         PV_DESC="Enable Manual Button",  PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-P-013:EnableManualBtn")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Enable Manual Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-P-013_iDB")
	info("plc_variable", "EnableManualBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableForcedBtn",         PV_DESC="Enable Force Button",   PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-P-013:EnableForcedBtn")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Enable Force Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-P-013_iDB")
	info("plc_variable", "EnableForcedBtn")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_digital("DevLocked",               PV_DESC="Device Locked",         PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-P-013:DevLocked")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Device Locked")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-P-013_iDB")
	info("plc_variable", "DevLocked")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("Faceplate_LockID",         "DINT",                          PV_DESC="Owner Lock ID")
record(ai, "Tgt-TWDS1000:Proc-P-013:Faceplate_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Owner Lock ID")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-P-013_iDB")
	info("plc_variable", "Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("BlockIcon_LockID",         "DINT",                          PV_DESC="Guest Lock ID")
record(ai, "Tgt-TWDS1000:Proc-P-013:BlockIcon_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Guest Lock ID")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-P-013_iDB")
	info("plc_variable", "BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}


#Alarm signals
#<<<--- add_major_alarm("LatchAlarm",          "Latching of alarms",            PV_ZNAM="True")
record(bi, "Tgt-TWDS1000:Proc-P-013:LatchAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Latching of alarms")
	field(OSV,  "MAJOR")
	field(ZNAM, "True")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-P-013_iDB")
	info("plc_variable", "LatchAlarm")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("GroupAlarm",          "Group Alarm",                   PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Proc-P-013:GroupAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Group Alarm")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-P-013_iDB")
	info("plc_variable", "GroupAlarm")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Starting_TimeOut",    "Starting Time Out",             PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Proc-P-013:Starting_TimeOut")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Starting Time Out")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-P-013_iDB")
	info("plc_variable", "Starting_TimeOut")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Stopping_TimeOut",    "Stopping Time Out",             PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Proc-P-013:Stopping_TimeOut")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Stopping Time Out")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-P-013_iDB")
	info("plc_variable", "Stopping_TimeOut")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("IO_Error",            "HW IO Error",                   PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Proc-P-013:IO_Error")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "HW IO Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-P-013_iDB")
	info("plc_variable", "IO_Error")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Input_Module_Error",  "HW Input Module Error",         PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Proc-P-013:Input_Module_Error")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "HW Input Module Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-P-013_iDB")
	info("plc_variable", "Input_Module_Error")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Output_Module_Error", "HW Output Module Error",        PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Proc-P-013:Output_Module_Error")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "HW Output Module Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-P-013_iDB")
	info("plc_variable", "Output_Module_Error")
	info(autosaveFields_pass0, "VAL")
}


#OPI timeouts
#<<<--- add_time("StartingTime",               PV_DESC="Starting Time")
record(ai, "Tgt-TWDS1000:Proc-P-013:StartingTime")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Starting Time")
	field(EGU,  "ms")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-P-013_iDB")
	info("plc_variable", "StartingTime")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_time("StoppingTime",               PV_DESC="Stopping Time")
record(ai, "Tgt-TWDS1000:Proc-P-013:StoppingTime")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Stopping Time")
	field(EGU,  "ms")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-P-013_iDB")
	info("plc_variable", "StoppingTime")
	info(autosaveFields_pass0, "VAL")
}


############################
#COMMAND BLOCK
############################
#<<<--- define_command_block()

##########
########## Tgt-TWDS1000:Proc-P-013 EPICS -> PLC commands   ##########
##########

#OPI buttons
#<<<--- add_digital("Cmd_Auto",                PV_DESC="CMD: Auto Mode")
record(bo, "Tgt-TWDS1000:Proc-P-013:Cmd_Auto")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Auto Mode")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-P-013_iDB")
	info("plc_variable", "Cmd_Auto")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_Manual",              PV_DESC="CMD: Manual Mode")
record(bo, "Tgt-TWDS1000:Proc-P-013:Cmd_Manual")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Manual Mode")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-P-013_iDB")
	info("plc_variable", "Cmd_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_Force",               PV_DESC="CMD: Force Mode")
record(bo, "Tgt-TWDS1000:Proc-P-013:Cmd_Force")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Force Mode")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-P-013_iDB")
	info("plc_variable", "Cmd_Force")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_ManuStart",           PV_DESC="CMD: Manual Start")
record(bo, "Tgt-TWDS1000:Proc-P-013:Cmd_ManuStart")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Manual Start")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-P-013_iDB")
	info("plc_variable", "Cmd_ManuStart")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_ManuStop",            PV_DESC="CMD: Manual Stop")
record(bo, "Tgt-TWDS1000:Proc-P-013:Cmd_ManuStop")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Manual Stop")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-P-013_iDB")
	info("plc_variable", "Cmd_ManuStop")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_ForceStart",          PV_DESC="CMD: Force Start")
record(bo, "Tgt-TWDS1000:Proc-P-013:Cmd_ForceStart")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Force Start")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-P-013_iDB")
	info("plc_variable", "Cmd_ForceStart")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_ForceStop",           PV_DESC="CMD: Force Stop")
record(bo, "Tgt-TWDS1000:Proc-P-013:Cmd_ForceStop")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Force Stop")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-P-013_iDB")
	info("plc_variable", "Cmd_ForceStop")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_AckAlarm",            PV_DESC="CMD: Acknowledge Alarm")
record(bo, "Tgt-TWDS1000:Proc-P-013:Cmd_AckAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Acknowledge Alarm")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-P-013_iDB")
	info("plc_variable", "Cmd_AckAlarm")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_ForceUnlock",         PV_DESC="CMD: Force Unlock Device")
record(bo, "Tgt-TWDS1000:Proc-P-013:Cmd_ForceUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Force Unlock Device")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-P-013_iDB")
	info("plc_variable", "Cmd_ForceUnlock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevLock",             PV_DESC="CMD: Lock Device")
record(bo, "Tgt-TWDS1000:Proc-P-013:Cmd_DevLock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Lock Device")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-P-013_iDB")
	info("plc_variable", "Cmd_DevLock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevUnlock",           PV_DESC="CMD: Unlock Device")
record(bo, "Tgt-TWDS1000:Proc-P-013:Cmd_DevUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Unlock Device")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-P-013_iDB")
	info("plc_variable", "Cmd_DevUnlock")
	info(autosaveFields_pass0, "VAL")
}


############################
#PARAMETER BLOCK
############################
#<<<--- define_parameter_block()

##########
########## Tgt-TWDS1000:Proc-P-013 EPICS -> PLC parameters ##########
##########

#Locking mechanism
#<<<--- add_analog("P_Faceplate_LockID",       "DINT",                          PV_DESC="Device ID after Lock")
record(ao, "Tgt-TWDS1000:Proc-P-013:P_Faceplate_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Device ID after Lock")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-P-013_iDB")
	info("plc_variable", "P_Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_BlockIcon_LockID",       "DINT",                          PV_DESC="Device ID after BlockIcon Open")
record(ao, "Tgt-TWDS1000:Proc-P-013:P_BlockIcon_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Device ID after BlockIcon Open")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-P-013_iDB")
	info("plc_variable", "P_BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}

record(fanout, "Tgt-TWDS1000:Proc-P-013:UploadParametersS") {
	field(LNK1, "Tgt-TWDS1000:Proc-P-013:P_Faceplate_LockID")
	field(LNK2, "Tgt-TWDS1000:Proc-P-013:P_BlockIcon_LockID")
}



##########
########## Tgt-TWDS1000:Proc-P-014 ##########
##########
##########

###################################### ICS HWI ###############################################
#############################  ICS Instrument Library     ####################################
##  PLC Sample Code in VersionDog: ICS_LIBRARY_MASTER_PLC                                   ##
##  CCDB device types: ICS_xxxxx                                                            ##
##  EPICS HMI (Block Icons/Faceplates)@ GitLab. Projekt: Cryo / CryogenicsLibrary / CryoLib ##
##                                                                                          ##
##                           DP - Remote Discrete Pump (ON/OFF Pump)                        ##
##                                                                                          ##
##                                                                                          ##
############################         Version: 1.3             ################################
#Author:  Miklos Boros
#Date:    27-05-2019
#Version: v1.3
#Changes:
#1. Variable name unification
############################         Version: 1.2             ################################
#Author:  Miklos Boros
#Date:    28-02-2019
#Version: v1.2
#Changes:
#1. Major review,
#2. Indent,  unit standardization
############################ Version: 1.0,1.1             ####################################
#Author:  Miklos Boros, Marino Vojneski
#Date:    12-06-2018
#Version: v1.0



############################
#STATUS BLOCK
############################
#<<<--- define_status_block()

##########
########## Tgt-TWDS1000:Proc-P-014 PLC   -> EPICS status   ##########
##########

#Operation modes
#<<<--- add_digital("OpMode_Auto",             PV_DESC="Operation Mode Auto",   PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-P-014:OpMode_Auto")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Operation Mode Auto")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-P-014_iDB")
	info("plc_variable", "OpMode_Auto")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("OpMode_Manual",           PV_DESC="Operation Mode Manual", PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-P-014:OpMode_Manual")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Operation Mode Manual")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-P-014_iDB")
	info("plc_variable", "OpMode_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("OpMode_Forced",           PV_DESC="Operation Mode Forced", PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-P-014:OpMode_Forced")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Operation Mode Forced")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-P-014_iDB")
	info("plc_variable", "OpMode_Forced")
	info(autosaveFields_pass0, "VAL")
}


#Valve physical states
#<<<--- add_digital("Running",                 PV_DESC="Pump Running",          PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-P-014:Running")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Pump Running")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-P-014_iDB")
	info("plc_variable", "Running")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Stopped",                 PV_DESC="Pump Stopped",          PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-P-014:Stopped")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Pump Stopped")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-P-014_iDB")
	info("plc_variable", "Stopped")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("PumpColor", "INT",         PV_DESC="BlockIcon pump color")
record(ai, "Tgt-TWDS1000:Proc-P-014:PumpColor")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "BlockIcon pump color")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-P-014_iDB")
	info("plc_variable", "PumpColor")
	info(autosaveFields_pass0, "VAL")
}


#Inhibit signals (set by the PLC code, can't be changed by the OPI)
#<<<--- add_digital("Inhibit_Manual",          PV_DESC="Inhibit Manual Mode",   PV_ONAM="InhibitManual",  PV_ZNAM="AllowManual")
record(bi, "Tgt-TWDS1000:Proc-P-014:Inhibit_Manual")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Inhibit Manual Mode")
	field(ONAM, "InhibitManual")
	field(ZNAM, "AllowManual")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-P-014_iDB")
	info("plc_variable", "Inhibit_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Force",           PV_DESC="Inhibit Force Mode",    PV_ONAM="InhibitForce",   PV_ZNAM="AllowForce")
record(bi, "Tgt-TWDS1000:Proc-P-014:Inhibit_Force")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Inhibit Force Mode")
	field(ONAM, "InhibitForce")
	field(ZNAM, "AllowForce")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-P-014_iDB")
	info("plc_variable", "Inhibit_Force")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Lock",            PV_DESC="Inhibit Locking",       PV_ONAM="InhibitLocking", PV_ZNAM="AllowLocking")
record(bi, "Tgt-TWDS1000:Proc-P-014:Inhibit_Lock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Inhibit Locking")
	field(ONAM, "InhibitLocking")
	field(ZNAM, "AllowLocking")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-P-014_iDB")
	info("plc_variable", "Inhibit_Lock")
	info(autosaveFields_pass0, "VAL")
}


#Interlock signals
#<<<--- add_digital("GroupInterlock",          PV_DESC="Group Interlock",       PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-P-014:GroupInterlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Group Interlock")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-P-014_iDB")
	info("plc_variable", "GroupInterlock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("StartInterlock",          PV_DESC="Start Interlock",       PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-P-014:StartInterlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Start Interlock")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-P-014_iDB")
	info("plc_variable", "StartInterlock")
	info(autosaveFields_pass0, "VAL")
}


#for OPI visualization
#<<<--- add_digital("EnableAutoBtn",           PV_DESC="Enable Auto Button",    PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-P-014:EnableAutoBtn")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Enable Auto Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-P-014_iDB")
	info("plc_variable", "EnableAutoBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableManualBtn",         PV_DESC="Enable Manual Button",  PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-P-014:EnableManualBtn")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Enable Manual Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-P-014_iDB")
	info("plc_variable", "EnableManualBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableForcedBtn",         PV_DESC="Enable Force Button",   PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-P-014:EnableForcedBtn")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Enable Force Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-P-014_iDB")
	info("plc_variable", "EnableForcedBtn")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_digital("DevLocked",               PV_DESC="Device Locked",         PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-P-014:DevLocked")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Device Locked")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-P-014_iDB")
	info("plc_variable", "DevLocked")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("Faceplate_LockID",         "DINT",                          PV_DESC="Owner Lock ID")
record(ai, "Tgt-TWDS1000:Proc-P-014:Faceplate_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Owner Lock ID")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-P-014_iDB")
	info("plc_variable", "Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("BlockIcon_LockID",         "DINT",                          PV_DESC="Guest Lock ID")
record(ai, "Tgt-TWDS1000:Proc-P-014:BlockIcon_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Guest Lock ID")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-P-014_iDB")
	info("plc_variable", "BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}


#Alarm signals
#<<<--- add_major_alarm("LatchAlarm",          "Latching of alarms",            PV_ZNAM="True")
record(bi, "Tgt-TWDS1000:Proc-P-014:LatchAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Latching of alarms")
	field(OSV,  "MAJOR")
	field(ZNAM, "True")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-P-014_iDB")
	info("plc_variable", "LatchAlarm")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("GroupAlarm",          "Group Alarm",                   PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Proc-P-014:GroupAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Group Alarm")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-P-014_iDB")
	info("plc_variable", "GroupAlarm")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Starting_TimeOut",    "Starting Time Out",             PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Proc-P-014:Starting_TimeOut")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Starting Time Out")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-P-014_iDB")
	info("plc_variable", "Starting_TimeOut")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Stopping_TimeOut",    "Stopping Time Out",             PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Proc-P-014:Stopping_TimeOut")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Stopping Time Out")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-P-014_iDB")
	info("plc_variable", "Stopping_TimeOut")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("IO_Error",            "HW IO Error",                   PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Proc-P-014:IO_Error")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "HW IO Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-P-014_iDB")
	info("plc_variable", "IO_Error")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Input_Module_Error",  "HW Input Module Error",         PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Proc-P-014:Input_Module_Error")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "HW Input Module Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-P-014_iDB")
	info("plc_variable", "Input_Module_Error")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Output_Module_Error", "HW Output Module Error",        PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Proc-P-014:Output_Module_Error")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "HW Output Module Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-P-014_iDB")
	info("plc_variable", "Output_Module_Error")
	info(autosaveFields_pass0, "VAL")
}


#OPI timeouts
#<<<--- add_time("StartingTime",               PV_DESC="Starting Time")
record(ai, "Tgt-TWDS1000:Proc-P-014:StartingTime")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Starting Time")
	field(EGU,  "ms")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-P-014_iDB")
	info("plc_variable", "StartingTime")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_time("StoppingTime",               PV_DESC="Stopping Time")
record(ai, "Tgt-TWDS1000:Proc-P-014:StoppingTime")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Stopping Time")
	field(EGU,  "ms")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-P-014_iDB")
	info("plc_variable", "StoppingTime")
	info(autosaveFields_pass0, "VAL")
}


############################
#COMMAND BLOCK
############################
#<<<--- define_command_block()

##########
########## Tgt-TWDS1000:Proc-P-014 EPICS -> PLC commands   ##########
##########

#OPI buttons
#<<<--- add_digital("Cmd_Auto",                PV_DESC="CMD: Auto Mode")
record(bo, "Tgt-TWDS1000:Proc-P-014:Cmd_Auto")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Auto Mode")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-P-014_iDB")
	info("plc_variable", "Cmd_Auto")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_Manual",              PV_DESC="CMD: Manual Mode")
record(bo, "Tgt-TWDS1000:Proc-P-014:Cmd_Manual")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Manual Mode")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-P-014_iDB")
	info("plc_variable", "Cmd_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_Force",               PV_DESC="CMD: Force Mode")
record(bo, "Tgt-TWDS1000:Proc-P-014:Cmd_Force")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Force Mode")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-P-014_iDB")
	info("plc_variable", "Cmd_Force")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_ManuStart",           PV_DESC="CMD: Manual Start")
record(bo, "Tgt-TWDS1000:Proc-P-014:Cmd_ManuStart")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Manual Start")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-P-014_iDB")
	info("plc_variable", "Cmd_ManuStart")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_ManuStop",            PV_DESC="CMD: Manual Stop")
record(bo, "Tgt-TWDS1000:Proc-P-014:Cmd_ManuStop")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Manual Stop")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-P-014_iDB")
	info("plc_variable", "Cmd_ManuStop")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_ForceStart",          PV_DESC="CMD: Force Start")
record(bo, "Tgt-TWDS1000:Proc-P-014:Cmd_ForceStart")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Force Start")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-P-014_iDB")
	info("plc_variable", "Cmd_ForceStart")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_ForceStop",           PV_DESC="CMD: Force Stop")
record(bo, "Tgt-TWDS1000:Proc-P-014:Cmd_ForceStop")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Force Stop")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-P-014_iDB")
	info("plc_variable", "Cmd_ForceStop")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_AckAlarm",            PV_DESC="CMD: Acknowledge Alarm")
record(bo, "Tgt-TWDS1000:Proc-P-014:Cmd_AckAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Acknowledge Alarm")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-P-014_iDB")
	info("plc_variable", "Cmd_AckAlarm")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_ForceUnlock",         PV_DESC="CMD: Force Unlock Device")
record(bo, "Tgt-TWDS1000:Proc-P-014:Cmd_ForceUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Force Unlock Device")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-P-014_iDB")
	info("plc_variable", "Cmd_ForceUnlock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevLock",             PV_DESC="CMD: Lock Device")
record(bo, "Tgt-TWDS1000:Proc-P-014:Cmd_DevLock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Lock Device")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-P-014_iDB")
	info("plc_variable", "Cmd_DevLock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevUnlock",           PV_DESC="CMD: Unlock Device")
record(bo, "Tgt-TWDS1000:Proc-P-014:Cmd_DevUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Unlock Device")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-P-014_iDB")
	info("plc_variable", "Cmd_DevUnlock")
	info(autosaveFields_pass0, "VAL")
}


############################
#PARAMETER BLOCK
############################
#<<<--- define_parameter_block()

##########
########## Tgt-TWDS1000:Proc-P-014 EPICS -> PLC parameters ##########
##########

#Locking mechanism
#<<<--- add_analog("P_Faceplate_LockID",       "DINT",                          PV_DESC="Device ID after Lock")
record(ao, "Tgt-TWDS1000:Proc-P-014:P_Faceplate_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Device ID after Lock")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-P-014_iDB")
	info("plc_variable", "P_Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_BlockIcon_LockID",       "DINT",                          PV_DESC="Device ID after BlockIcon Open")
record(ao, "Tgt-TWDS1000:Proc-P-014:P_BlockIcon_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Device ID after BlockIcon Open")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-P-014_iDB")
	info("plc_variable", "P_BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}

record(fanout, "Tgt-TWDS1000:Proc-P-014:UploadParametersS") {
	field(LNK1, "Tgt-TWDS1000:Proc-P-014:P_Faceplate_LockID")
	field(LNK2, "Tgt-TWDS1000:Proc-P-014:P_BlockIcon_LockID")
}



##########
########## Tgt-TWDS1000:Proc-GB-114c ##########
##########
##########

###################################### ICS HWI ###############################################
#############################  ICS Instrument Library     ####################################
##  PLC Sample Code in VersionDog: ICS_LIBRARY_MASTER_PLC                                   ##
##  CCDB device types: ICS_DO                                                               ##
##  EPICS HMI (Block Icons/Faceplates)@ GitLab. Projekt: Cryo / CryogenicsLibrary / CryoLib ##
##                                                                                          ##
##                             DIO - Single Digital Input/Output                            ##
##                                                                                          ##
##                                                                                          ##
############################ Version: 1.0             ########################################
#Author:  Saeed, Miklos Boros
#Date:    20-11-2019
#Version: v1.0



############################
#STATUS BLOCK
############################
#<<<--- define_status_block()

##########
########## Tgt-TWDS1000:Proc-GB-114c PLC   -> EPICS status   ##########
##########

#<<<--- add_digital("OpMode_Auto",             PV_DESC="Operation Mode Auto",       PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-GB-114c:OpMode_Auto")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Operation Mode Auto")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-GB-114c_iDB")
	info("plc_variable", "OpMode_Auto")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("OpMode_Manual",           PV_DESC="Operation Mode Manual",     PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-GB-114c:OpMode_Manual")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Operation Mode Manual")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-GB-114c_iDB")
	info("plc_variable", "OpMode_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Opened",                  PV_DESC="Opened",                    PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-GB-114c:Opened")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Opened")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-GB-114c_iDB")
	info("plc_variable", "Opened")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Closed",                  PV_DESC="Closed",                    PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-GB-114c:Closed")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Closed")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-GB-114c_iDB")
	info("plc_variable", "Closed")
	info(autosaveFields_pass0, "VAL")
}




############################
#COMMAND BLOCK
############################
#<<<--- define_command_block()

##########
########## Tgt-TWDS1000:Proc-GB-114c EPICS -> PLC commands   ##########
##########

#<<<--- add_digital("Cmd_Auto",                PV_DESC="CMD: Auto Mode")
record(bo, "Tgt-TWDS1000:Proc-GB-114c:Cmd_Auto")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Auto Mode")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-GB-114c_iDB")
	info("plc_variable", "Cmd_Auto")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_Manual",              PV_DESC="CMD: Manual Mode")
record(bo, "Tgt-TWDS1000:Proc-GB-114c:Cmd_Manual")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Manual Mode")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-GB-114c_iDB")
	info("plc_variable", "Cmd_Manual")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_ManuOpen",            PV_DESC="CMD: Manual Open")
record(bo, "Tgt-TWDS1000:Proc-GB-114c:Cmd_ManuOpen")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Manual Open")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-GB-114c_iDB")
	info("plc_variable", "Cmd_ManuOpen")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_ManuClose",           PV_DESC="CMD: Manual Close")
record(bo, "Tgt-TWDS1000:Proc-GB-114c:Cmd_ManuClose")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Manual Close")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-GB-114c_iDB")
	info("plc_variable", "Cmd_ManuClose")
	info(autosaveFields_pass0, "VAL")
}



############################
#PARAMETER BLOCK
############################
#<<<--- define_parameter_block()

##########
########## Tgt-TWDS1000:Proc-GB-114c EPICS -> PLC parameters ##########
##########




##########
########## Tgt-TWDS1000:Proc-LS-013 ##########
##########
##########

###################################### ICS HWI ###############################################
#############################  ICS Instrument Library     ####################################
##  PLC Sample Code in VersionDog: ICS_LIBRARY_MASTER_PLC                                   ##
##  CCDB device types: ICS_DO                                                               ##
##  EPICS HMI (Block Icons/Faceplates)@ GitLab. Projekt: Cryo / CryogenicsLibrary / CryoLib ##
##                                                                                          ##
##                             DIO - Single Digital Input/Output                            ##
##                                                                                          ##
##                                                                                          ##
############################ Version: 1.0             ########################################
#Author:  Saeed, Miklos Boros
#Date:    20-11-2019
#Version: v1.0



############################
#STATUS BLOCK
############################
#<<<--- define_status_block()

##########
########## Tgt-TWDS1000:Proc-LS-013 PLC   -> EPICS status   ##########
##########

#<<<--- add_digital("OpMode_Auto",             PV_DESC="Operation Mode Auto",       PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-LS-013:OpMode_Auto")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Operation Mode Auto")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-LS-013_iDB")
	info("plc_variable", "OpMode_Auto")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("OpMode_Manual",           PV_DESC="Operation Mode Manual",     PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-LS-013:OpMode_Manual")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Operation Mode Manual")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-LS-013_iDB")
	info("plc_variable", "OpMode_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Opened",                  PV_DESC="Opened",                    PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-LS-013:Opened")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Opened")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-LS-013_iDB")
	info("plc_variable", "Opened")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Closed",                  PV_DESC="Closed",                    PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-LS-013:Closed")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Closed")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-LS-013_iDB")
	info("plc_variable", "Closed")
	info(autosaveFields_pass0, "VAL")
}




############################
#COMMAND BLOCK
############################
#<<<--- define_command_block()

##########
########## Tgt-TWDS1000:Proc-LS-013 EPICS -> PLC commands   ##########
##########

#<<<--- add_digital("Cmd_Auto",                PV_DESC="CMD: Auto Mode")
record(bo, "Tgt-TWDS1000:Proc-LS-013:Cmd_Auto")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Auto Mode")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-LS-013_iDB")
	info("plc_variable", "Cmd_Auto")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_Manual",              PV_DESC="CMD: Manual Mode")
record(bo, "Tgt-TWDS1000:Proc-LS-013:Cmd_Manual")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Manual Mode")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-LS-013_iDB")
	info("plc_variable", "Cmd_Manual")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_ManuOpen",            PV_DESC="CMD: Manual Open")
record(bo, "Tgt-TWDS1000:Proc-LS-013:Cmd_ManuOpen")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Manual Open")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-LS-013_iDB")
	info("plc_variable", "Cmd_ManuOpen")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_ManuClose",           PV_DESC="CMD: Manual Close")
record(bo, "Tgt-TWDS1000:Proc-LS-013:Cmd_ManuClose")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Manual Close")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-LS-013_iDB")
	info("plc_variable", "Cmd_ManuClose")
	info(autosaveFields_pass0, "VAL")
}



############################
#PARAMETER BLOCK
############################
#<<<--- define_parameter_block()

##########
########## Tgt-TWDS1000:Proc-LS-013 EPICS -> PLC parameters ##########
##########




##########
########## Tgt-TWDS1000:Proc-LS-014 ##########
##########
##########

###################################### ICS HWI ###############################################
#############################  ICS Instrument Library     ####################################
##  PLC Sample Code in VersionDog: ICS_LIBRARY_MASTER_PLC                                   ##
##  CCDB device types: ICS_DO                                                               ##
##  EPICS HMI (Block Icons/Faceplates)@ GitLab. Projekt: Cryo / CryogenicsLibrary / CryoLib ##
##                                                                                          ##
##                             DIO - Single Digital Input/Output                            ##
##                                                                                          ##
##                                                                                          ##
############################ Version: 1.0             ########################################
#Author:  Saeed, Miklos Boros
#Date:    20-11-2019
#Version: v1.0



############################
#STATUS BLOCK
############################
#<<<--- define_status_block()

##########
########## Tgt-TWDS1000:Proc-LS-014 PLC   -> EPICS status   ##########
##########

#<<<--- add_digital("OpMode_Auto",             PV_DESC="Operation Mode Auto",       PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-LS-014:OpMode_Auto")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Operation Mode Auto")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-LS-014_iDB")
	info("plc_variable", "OpMode_Auto")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("OpMode_Manual",           PV_DESC="Operation Mode Manual",     PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-LS-014:OpMode_Manual")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Operation Mode Manual")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-LS-014_iDB")
	info("plc_variable", "OpMode_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Opened",                  PV_DESC="Opened",                    PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-LS-014:Opened")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Opened")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-LS-014_iDB")
	info("plc_variable", "Opened")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Closed",                  PV_DESC="Closed",                    PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-LS-014:Closed")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Closed")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-LS-014_iDB")
	info("plc_variable", "Closed")
	info(autosaveFields_pass0, "VAL")
}




############################
#COMMAND BLOCK
############################
#<<<--- define_command_block()

##########
########## Tgt-TWDS1000:Proc-LS-014 EPICS -> PLC commands   ##########
##########

#<<<--- add_digital("Cmd_Auto",                PV_DESC="CMD: Auto Mode")
record(bo, "Tgt-TWDS1000:Proc-LS-014:Cmd_Auto")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Auto Mode")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-LS-014_iDB")
	info("plc_variable", "Cmd_Auto")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_Manual",              PV_DESC="CMD: Manual Mode")
record(bo, "Tgt-TWDS1000:Proc-LS-014:Cmd_Manual")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Manual Mode")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-LS-014_iDB")
	info("plc_variable", "Cmd_Manual")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_ManuOpen",            PV_DESC="CMD: Manual Open")
record(bo, "Tgt-TWDS1000:Proc-LS-014:Cmd_ManuOpen")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Manual Open")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-LS-014_iDB")
	info("plc_variable", "Cmd_ManuOpen")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_ManuClose",           PV_DESC="CMD: Manual Close")
record(bo, "Tgt-TWDS1000:Proc-LS-014:Cmd_ManuClose")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Manual Close")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-LS-014_iDB")
	info("plc_variable", "Cmd_ManuClose")
	info(autosaveFields_pass0, "VAL")
}



############################
#PARAMETER BLOCK
############################
#<<<--- define_parameter_block()

##########
########## Tgt-TWDS1000:Proc-LS-014 EPICS -> PLC parameters ##########
##########




##########
########## Tgt-TWDS1000:Proc-YSV-013a ##########
##########
##########

###################################### ICS HWI ###############################################
#############################  ICS Instrument Library     ####################################
##  PLC Sample Code in VersionDog: ICS_LIBRARY_MASTER_PLC                                   ##
##  CCDB device types: ICS_xxxxx                                                            ##
##  EPICS HMI (Block Icons/Faceplates)@ GitLab. Projekt: Cryo / CryogenicsLibrary / CryoLib ##
##                                                                                          ##
##                            ICS_SV - Solenoid On/Off valve                                ##
##                                                                                          ##
##                                                                                          ##
############################         Version: 1.1             ################################
#Author:  Evan Foy
#Date:    12-12-2019
#Version: v1.1
#Changes:
#1. New device, branched from ICS_PV version 1.4.
#2. String message removed, for Beckhoff compatibility.



############################
#STATUS BLOCK
############################
#<<<--- define_status_block()

##########
########## Tgt-TWDS1000:Proc-YSV-013a PLC   -> EPICS status   ##########
##########

#Operation modes
#<<<--- add_digital("OpMode_Auto",             PV_DESC="Operation Mode Auto",       PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-013a:OpMode_Auto")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Operation Mode Auto")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013a_iDB")
	info("plc_variable", "OpMode_Auto")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("OpMode_Manual",           PV_DESC="Operation Mode Manual",     PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-013a:OpMode_Manual")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Operation Mode Manual")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013a_iDB")
	info("plc_variable", "OpMode_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("OpMode_Forced",           PV_DESC="Operation Mode Forced",     PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-013a:OpMode_Forced")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Operation Mode Forced")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013a_iDB")
	info("plc_variable", "OpMode_Forced")
	info(autosaveFields_pass0, "VAL")
}


#Valve physical states
#<<<--- add_digital("Opened",                  PV_DESC="Valve Opened",              PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-013a:Opened")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Valve Opened")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013a_iDB")
	info("plc_variable", "Opened")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Closed",                  PV_DESC="Valve Closed",              PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-013a:Closed")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Valve Closed")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013a_iDB")
	info("plc_variable", "Closed")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Solenoid",                PV_DESC="Solenoid energized",        PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-013a:Solenoid")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Solenoid energized")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013a_iDB")
	info("plc_variable", "Solenoid")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("ValveColor",               "INT",                               PV_DESC="BlockIcon valve color")
record(ai, "Tgt-TWDS1000:Proc-YSV-013a:ValveColor")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "BlockIcon valve color")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013a_iDB")
	info("plc_variable", "ValveColor")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("SolenoidColor",            "INT",                               PV_DESC="BlockIcon solenoid color")
record(ai, "Tgt-TWDS1000:Proc-YSV-013a:SolenoidColor")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "BlockIcon solenoid color")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013a_iDB")
	info("plc_variable", "SolenoidColor")
	info(autosaveFields_pass0, "VAL")
}


#Inhibit signals (set by the PLC code, can't be changed by the OPI)
#<<<--- add_digital("Inhibit_Manual",          PV_DESC="Inhibit Manual Mode",       PV_ONAM="InhibitManual",  PV_ZNAM="AllowManual")
record(bi, "Tgt-TWDS1000:Proc-YSV-013a:Inhibit_Manual")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Inhibit Manual Mode")
	field(ONAM, "InhibitManual")
	field(ZNAM, "AllowManual")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013a_iDB")
	info("plc_variable", "Inhibit_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Force",           PV_DESC="Inhibit Force Mode",        PV_ONAM="InhibitForce",   PV_ZNAM="AllowForce")
record(bi, "Tgt-TWDS1000:Proc-YSV-013a:Inhibit_Force")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Inhibit Force Mode")
	field(ONAM, "InhibitForce")
	field(ZNAM, "AllowForce")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013a_iDB")
	info("plc_variable", "Inhibit_Force")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Lock",            PV_DESC="Inhibit Locking",           PV_ONAM="InhibitLocking", PV_ZNAM="AllowLocking")
record(bi, "Tgt-TWDS1000:Proc-YSV-013a:Inhibit_Lock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Inhibit Locking")
	field(ONAM, "InhibitLocking")
	field(ZNAM, "AllowLocking")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013a_iDB")
	info("plc_variable", "Inhibit_Lock")
	info(autosaveFields_pass0, "VAL")
}


#Interlock signals
#<<<--- add_digital("GroupInterlock",          PV_DESC="Group Interlock",           PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-013a:GroupInterlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Group Interlock")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013a_iDB")
	info("plc_variable", "GroupInterlock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("StartInterlock",          PV_DESC="Start Interlock",           PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-013a:StartInterlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Start Interlock")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013a_iDB")
	info("plc_variable", "StartInterlock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("StopInterlock",           PV_DESC="Stop Interlock",            PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-013a:StopInterlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Stop Interlock")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013a_iDB")
	info("plc_variable", "StopInterlock")
	info(autosaveFields_pass0, "VAL")
}


#Block Icon controls
#<<<--- add_digital("EnableBlkOpen",           PV_DESC="Enable Block Open Button",  PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-013a:EnableBlkOpen")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Enable Block Open Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013a_iDB")
	info("plc_variable", "EnableBlkOpen")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableBlkClose",          PV_DESC="Enable Block Close Button", PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-013a:EnableBlkClose")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Enable Block Close Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013a_iDB")
	info("plc_variable", "EnableBlkClose")
	info(autosaveFields_pass0, "VAL")
}


#for OPI visualisation
#<<<--- add_digital("EnableAutoBtn",           PV_DESC="Enable Auto Button",        PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-013a:EnableAutoBtn")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Enable Auto Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013a_iDB")
	info("plc_variable", "EnableAutoBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableManualBtn",         PV_DESC="Enable Manual Button",      PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-013a:EnableManualBtn")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Enable Manual Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013a_iDB")
	info("plc_variable", "EnableManualBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableForcedBtn",         PV_DESC="Enable Force Button",       PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-013a:EnableForcedBtn")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Enable Force Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013a_iDB")
	info("plc_variable", "EnableForcedBtn")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_digital("DevLocked",               PV_DESC="Device Locked",             PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-013a:DevLocked")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Device Locked")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013a_iDB")
	info("plc_variable", "DevLocked")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("Faceplate_LockID",         "DINT",                              PV_DESC="Owner Lock ID")
record(ai, "Tgt-TWDS1000:Proc-YSV-013a:Faceplate_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Owner Lock ID")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013a_iDB")
	info("plc_variable", "Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("BlockIcon_LockID",         "DINT",                              PV_DESC="Guest Lock ID")
record(ai, "Tgt-TWDS1000:Proc-YSV-013a:BlockIcon_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Guest Lock ID")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013a_iDB")
	info("plc_variable", "BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}


#Alarm signals
#<<<--- add_major_alarm("LatchAlarm",          "Latching of alarms",                PV_ZNAM="True")
record(bi, "Tgt-TWDS1000:Proc-YSV-013a:LatchAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Latching of alarms")
	field(OSV,  "MAJOR")
	field(ZNAM, "True")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013a_iDB")
	info("plc_variable", "LatchAlarm")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("GroupAlarm",          "Group Alarm",                       PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Proc-YSV-013a:GroupAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Group Alarm")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013a_iDB")
	info("plc_variable", "GroupAlarm")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Opening_TimeOut",     "Opening Time Out",                  PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Proc-YSV-013a:Opening_TimeOut")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Opening Time Out")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013a_iDB")
	info("plc_variable", "Opening_TimeOut")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Closing_TimeOut",     "Closing Time Out",                  PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Proc-YSV-013a:Closing_TimeOut")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Closing Time Out")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013a_iDB")
	info("plc_variable", "Closing_TimeOut")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("IO_Error",            "IO Error",                          PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Proc-YSV-013a:IO_Error")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "IO Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013a_iDB")
	info("plc_variable", "IO_Error")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Input_Module_Error",  "HW Input Module Error",             PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Proc-YSV-013a:Input_Module_Error")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "HW Input Module Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013a_iDB")
	info("plc_variable", "Input_Module_Error")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Output_Module_Error", "HW Output Module Error",            PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Proc-YSV-013a:Output_Module_Error")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "HW Output Module Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013a_iDB")
	info("plc_variable", "Output_Module_Error")
	info(autosaveFields_pass0, "VAL")
}


#OPI timeouts
#<<<--- add_time("OpeningTime",                PV_DESC="Opening Time")
record(ai, "Tgt-TWDS1000:Proc-YSV-013a:OpeningTime")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Opening Time")
	field(EGU,  "ms")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013a_iDB")
	info("plc_variable", "OpeningTime")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_time("ClosingTime",                PV_DESC="Closing Time")
record(ai, "Tgt-TWDS1000:Proc-YSV-013a:ClosingTime")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Closing Time")
	field(EGU,  "ms")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013a_iDB")
	info("plc_variable", "ClosingTime")
	info(autosaveFields_pass0, "VAL")
}


############################
#COMMAND BLOCK
############################
#<<<--- define_command_block()

##########
########## Tgt-TWDS1000:Proc-YSV-013a EPICS -> PLC commands   ##########
##########

#OPI buttons
#<<<--- add_digital("Cmd_Auto",                PV_DESC="CMD: Auto Mode")
record(bo, "Tgt-TWDS1000:Proc-YSV-013a:Cmd_Auto")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Auto Mode")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013a_iDB")
	info("plc_variable", "Cmd_Auto")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_Manual",              PV_DESC="CMD: Manual Mode")
record(bo, "Tgt-TWDS1000:Proc-YSV-013a:Cmd_Manual")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Manual Mode")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013a_iDB")
	info("plc_variable", "Cmd_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_Force",               PV_DESC="CMD: Force Mode")
record(bo, "Tgt-TWDS1000:Proc-YSV-013a:Cmd_Force")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Force Mode")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013a_iDB")
	info("plc_variable", "Cmd_Force")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_ManuOpen",            PV_DESC="CMD: Manual Open")
record(bo, "Tgt-TWDS1000:Proc-YSV-013a:Cmd_ManuOpen")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Manual Open")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013a_iDB")
	info("plc_variable", "Cmd_ManuOpen")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_ManuClose",           PV_DESC="CMD: Manual Close")
record(bo, "Tgt-TWDS1000:Proc-YSV-013a:Cmd_ManuClose")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Manual Close")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013a_iDB")
	info("plc_variable", "Cmd_ManuClose")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_ForceOpen",           PV_DESC="CMD: Force Open")
record(bo, "Tgt-TWDS1000:Proc-YSV-013a:Cmd_ForceOpen")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Force Open")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013a_iDB")
	info("plc_variable", "Cmd_ForceOpen")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_ForceClose",          PV_DESC="CMD: Force Close")
record(bo, "Tgt-TWDS1000:Proc-YSV-013a:Cmd_ForceClose")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Force Close")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013a_iDB")
	info("plc_variable", "Cmd_ForceClose")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_AckAlarm",            PV_DESC="CMD: Acknowledge Alarm")
record(bo, "Tgt-TWDS1000:Proc-YSV-013a:Cmd_AckAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Acknowledge Alarm")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013a_iDB")
	info("plc_variable", "Cmd_AckAlarm")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_ForceUnlock",         PV_DESC="CMD: Force Unlock Device")
record(bo, "Tgt-TWDS1000:Proc-YSV-013a:Cmd_ForceUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Force Unlock Device")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013a_iDB")
	info("plc_variable", "Cmd_ForceUnlock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevLock",             PV_DESC="CMD: Lock Device")
record(bo, "Tgt-TWDS1000:Proc-YSV-013a:Cmd_DevLock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Lock Device")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013a_iDB")
	info("plc_variable", "Cmd_DevLock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevUnlock",           PV_DESC="CMD: Unlock Device")
record(bo, "Tgt-TWDS1000:Proc-YSV-013a:Cmd_DevUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Unlock Device")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013a_iDB")
	info("plc_variable", "Cmd_DevUnlock")
	info(autosaveFields_pass0, "VAL")
}


############################
#PARAMETER BLOCK
############################
#<<<--- define_parameter_block()

##########
########## Tgt-TWDS1000:Proc-YSV-013a EPICS -> PLC parameters ##########
##########

#Locking mechanism
#<<<--- add_analog("P_Faceplate_LockID",       "DINT",                              PV_DESC="Device ID after Lock")
record(ao, "Tgt-TWDS1000:Proc-YSV-013a:P_Faceplate_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Device ID after Lock")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013a_iDB")
	info("plc_variable", "P_Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_BlockIcon_LockID",       "DINT",                              PV_DESC="Device ID after Blockicon Open")
record(ao, "Tgt-TWDS1000:Proc-YSV-013a:P_BlockIcon_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Device ID after Blockicon Open")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013a_iDB")
	info("plc_variable", "P_BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}

record(fanout, "Tgt-TWDS1000:Proc-YSV-013a:UploadParametersS") {
	field(LNK1, "Tgt-TWDS1000:Proc-YSV-013a:P_Faceplate_LockID")
	field(LNK2, "Tgt-TWDS1000:Proc-YSV-013a:P_BlockIcon_LockID")
}



##########
########## Tgt-TWDS1000:Proc-YSV-013b ##########
##########
##########

###################################### ICS HWI ###############################################
#############################  ICS Instrument Library     ####################################
##  PLC Sample Code in VersionDog: ICS_LIBRARY_MASTER_PLC                                   ##
##  CCDB device types: ICS_xxxxx                                                            ##
##  EPICS HMI (Block Icons/Faceplates)@ GitLab. Projekt: Cryo / CryogenicsLibrary / CryoLib ##
##                                                                                          ##
##                            ICS_SV - Solenoid On/Off valve                                ##
##                                                                                          ##
##                                                                                          ##
############################         Version: 1.1             ################################
#Author:  Evan Foy
#Date:    12-12-2019
#Version: v1.1
#Changes:
#1. New device, branched from ICS_PV version 1.4.
#2. String message removed, for Beckhoff compatibility.



############################
#STATUS BLOCK
############################
#<<<--- define_status_block()

##########
########## Tgt-TWDS1000:Proc-YSV-013b PLC   -> EPICS status   ##########
##########

#Operation modes
#<<<--- add_digital("OpMode_Auto",             PV_DESC="Operation Mode Auto",       PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-013b:OpMode_Auto")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Operation Mode Auto")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013b_iDB")
	info("plc_variable", "OpMode_Auto")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("OpMode_Manual",           PV_DESC="Operation Mode Manual",     PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-013b:OpMode_Manual")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Operation Mode Manual")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013b_iDB")
	info("plc_variable", "OpMode_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("OpMode_Forced",           PV_DESC="Operation Mode Forced",     PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-013b:OpMode_Forced")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Operation Mode Forced")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013b_iDB")
	info("plc_variable", "OpMode_Forced")
	info(autosaveFields_pass0, "VAL")
}


#Valve physical states
#<<<--- add_digital("Opened",                  PV_DESC="Valve Opened",              PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-013b:Opened")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Valve Opened")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013b_iDB")
	info("plc_variable", "Opened")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Closed",                  PV_DESC="Valve Closed",              PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-013b:Closed")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Valve Closed")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013b_iDB")
	info("plc_variable", "Closed")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Solenoid",                PV_DESC="Solenoid energized",        PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-013b:Solenoid")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Solenoid energized")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013b_iDB")
	info("plc_variable", "Solenoid")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("ValveColor",               "INT",                               PV_DESC="BlockIcon valve color")
record(ai, "Tgt-TWDS1000:Proc-YSV-013b:ValveColor")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "BlockIcon valve color")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013b_iDB")
	info("plc_variable", "ValveColor")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("SolenoidColor",            "INT",                               PV_DESC="BlockIcon solenoid color")
record(ai, "Tgt-TWDS1000:Proc-YSV-013b:SolenoidColor")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "BlockIcon solenoid color")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013b_iDB")
	info("plc_variable", "SolenoidColor")
	info(autosaveFields_pass0, "VAL")
}


#Inhibit signals (set by the PLC code, can't be changed by the OPI)
#<<<--- add_digital("Inhibit_Manual",          PV_DESC="Inhibit Manual Mode",       PV_ONAM="InhibitManual",  PV_ZNAM="AllowManual")
record(bi, "Tgt-TWDS1000:Proc-YSV-013b:Inhibit_Manual")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Inhibit Manual Mode")
	field(ONAM, "InhibitManual")
	field(ZNAM, "AllowManual")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013b_iDB")
	info("plc_variable", "Inhibit_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Force",           PV_DESC="Inhibit Force Mode",        PV_ONAM="InhibitForce",   PV_ZNAM="AllowForce")
record(bi, "Tgt-TWDS1000:Proc-YSV-013b:Inhibit_Force")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Inhibit Force Mode")
	field(ONAM, "InhibitForce")
	field(ZNAM, "AllowForce")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013b_iDB")
	info("plc_variable", "Inhibit_Force")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Lock",            PV_DESC="Inhibit Locking",           PV_ONAM="InhibitLocking", PV_ZNAM="AllowLocking")
record(bi, "Tgt-TWDS1000:Proc-YSV-013b:Inhibit_Lock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Inhibit Locking")
	field(ONAM, "InhibitLocking")
	field(ZNAM, "AllowLocking")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013b_iDB")
	info("plc_variable", "Inhibit_Lock")
	info(autosaveFields_pass0, "VAL")
}


#Interlock signals
#<<<--- add_digital("GroupInterlock",          PV_DESC="Group Interlock",           PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-013b:GroupInterlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Group Interlock")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013b_iDB")
	info("plc_variable", "GroupInterlock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("StartInterlock",          PV_DESC="Start Interlock",           PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-013b:StartInterlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Start Interlock")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013b_iDB")
	info("plc_variable", "StartInterlock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("StopInterlock",           PV_DESC="Stop Interlock",            PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-013b:StopInterlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Stop Interlock")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013b_iDB")
	info("plc_variable", "StopInterlock")
	info(autosaveFields_pass0, "VAL")
}


#Block Icon controls
#<<<--- add_digital("EnableBlkOpen",           PV_DESC="Enable Block Open Button",  PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-013b:EnableBlkOpen")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Enable Block Open Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013b_iDB")
	info("plc_variable", "EnableBlkOpen")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableBlkClose",          PV_DESC="Enable Block Close Button", PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-013b:EnableBlkClose")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Enable Block Close Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013b_iDB")
	info("plc_variable", "EnableBlkClose")
	info(autosaveFields_pass0, "VAL")
}


#for OPI visualisation
#<<<--- add_digital("EnableAutoBtn",           PV_DESC="Enable Auto Button",        PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-013b:EnableAutoBtn")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Enable Auto Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013b_iDB")
	info("plc_variable", "EnableAutoBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableManualBtn",         PV_DESC="Enable Manual Button",      PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-013b:EnableManualBtn")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Enable Manual Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013b_iDB")
	info("plc_variable", "EnableManualBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableForcedBtn",         PV_DESC="Enable Force Button",       PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-013b:EnableForcedBtn")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Enable Force Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013b_iDB")
	info("plc_variable", "EnableForcedBtn")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_digital("DevLocked",               PV_DESC="Device Locked",             PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-013b:DevLocked")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Device Locked")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013b_iDB")
	info("plc_variable", "DevLocked")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("Faceplate_LockID",         "DINT",                              PV_DESC="Owner Lock ID")
record(ai, "Tgt-TWDS1000:Proc-YSV-013b:Faceplate_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Owner Lock ID")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013b_iDB")
	info("plc_variable", "Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("BlockIcon_LockID",         "DINT",                              PV_DESC="Guest Lock ID")
record(ai, "Tgt-TWDS1000:Proc-YSV-013b:BlockIcon_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Guest Lock ID")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013b_iDB")
	info("plc_variable", "BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}


#Alarm signals
#<<<--- add_major_alarm("LatchAlarm",          "Latching of alarms",                PV_ZNAM="True")
record(bi, "Tgt-TWDS1000:Proc-YSV-013b:LatchAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Latching of alarms")
	field(OSV,  "MAJOR")
	field(ZNAM, "True")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013b_iDB")
	info("plc_variable", "LatchAlarm")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("GroupAlarm",          "Group Alarm",                       PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Proc-YSV-013b:GroupAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Group Alarm")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013b_iDB")
	info("plc_variable", "GroupAlarm")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Opening_TimeOut",     "Opening Time Out",                  PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Proc-YSV-013b:Opening_TimeOut")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Opening Time Out")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013b_iDB")
	info("plc_variable", "Opening_TimeOut")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Closing_TimeOut",     "Closing Time Out",                  PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Proc-YSV-013b:Closing_TimeOut")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Closing Time Out")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013b_iDB")
	info("plc_variable", "Closing_TimeOut")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("IO_Error",            "IO Error",                          PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Proc-YSV-013b:IO_Error")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "IO Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013b_iDB")
	info("plc_variable", "IO_Error")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Input_Module_Error",  "HW Input Module Error",             PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Proc-YSV-013b:Input_Module_Error")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "HW Input Module Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013b_iDB")
	info("plc_variable", "Input_Module_Error")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Output_Module_Error", "HW Output Module Error",            PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Proc-YSV-013b:Output_Module_Error")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "HW Output Module Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013b_iDB")
	info("plc_variable", "Output_Module_Error")
	info(autosaveFields_pass0, "VAL")
}


#OPI timeouts
#<<<--- add_time("OpeningTime",                PV_DESC="Opening Time")
record(ai, "Tgt-TWDS1000:Proc-YSV-013b:OpeningTime")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Opening Time")
	field(EGU,  "ms")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013b_iDB")
	info("plc_variable", "OpeningTime")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_time("ClosingTime",                PV_DESC="Closing Time")
record(ai, "Tgt-TWDS1000:Proc-YSV-013b:ClosingTime")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Closing Time")
	field(EGU,  "ms")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013b_iDB")
	info("plc_variable", "ClosingTime")
	info(autosaveFields_pass0, "VAL")
}


############################
#COMMAND BLOCK
############################
#<<<--- define_command_block()

##########
########## Tgt-TWDS1000:Proc-YSV-013b EPICS -> PLC commands   ##########
##########

#OPI buttons
#<<<--- add_digital("Cmd_Auto",                PV_DESC="CMD: Auto Mode")
record(bo, "Tgt-TWDS1000:Proc-YSV-013b:Cmd_Auto")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Auto Mode")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013b_iDB")
	info("plc_variable", "Cmd_Auto")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_Manual",              PV_DESC="CMD: Manual Mode")
record(bo, "Tgt-TWDS1000:Proc-YSV-013b:Cmd_Manual")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Manual Mode")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013b_iDB")
	info("plc_variable", "Cmd_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_Force",               PV_DESC="CMD: Force Mode")
record(bo, "Tgt-TWDS1000:Proc-YSV-013b:Cmd_Force")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Force Mode")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013b_iDB")
	info("plc_variable", "Cmd_Force")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_ManuOpen",            PV_DESC="CMD: Manual Open")
record(bo, "Tgt-TWDS1000:Proc-YSV-013b:Cmd_ManuOpen")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Manual Open")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013b_iDB")
	info("plc_variable", "Cmd_ManuOpen")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_ManuClose",           PV_DESC="CMD: Manual Close")
record(bo, "Tgt-TWDS1000:Proc-YSV-013b:Cmd_ManuClose")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Manual Close")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013b_iDB")
	info("plc_variable", "Cmd_ManuClose")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_ForceOpen",           PV_DESC="CMD: Force Open")
record(bo, "Tgt-TWDS1000:Proc-YSV-013b:Cmd_ForceOpen")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Force Open")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013b_iDB")
	info("plc_variable", "Cmd_ForceOpen")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_ForceClose",          PV_DESC="CMD: Force Close")
record(bo, "Tgt-TWDS1000:Proc-YSV-013b:Cmd_ForceClose")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Force Close")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013b_iDB")
	info("plc_variable", "Cmd_ForceClose")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_AckAlarm",            PV_DESC="CMD: Acknowledge Alarm")
record(bo, "Tgt-TWDS1000:Proc-YSV-013b:Cmd_AckAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Acknowledge Alarm")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013b_iDB")
	info("plc_variable", "Cmd_AckAlarm")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_ForceUnlock",         PV_DESC="CMD: Force Unlock Device")
record(bo, "Tgt-TWDS1000:Proc-YSV-013b:Cmd_ForceUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Force Unlock Device")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013b_iDB")
	info("plc_variable", "Cmd_ForceUnlock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevLock",             PV_DESC="CMD: Lock Device")
record(bo, "Tgt-TWDS1000:Proc-YSV-013b:Cmd_DevLock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Lock Device")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013b_iDB")
	info("plc_variable", "Cmd_DevLock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevUnlock",           PV_DESC="CMD: Unlock Device")
record(bo, "Tgt-TWDS1000:Proc-YSV-013b:Cmd_DevUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Unlock Device")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013b_iDB")
	info("plc_variable", "Cmd_DevUnlock")
	info(autosaveFields_pass0, "VAL")
}


############################
#PARAMETER BLOCK
############################
#<<<--- define_parameter_block()

##########
########## Tgt-TWDS1000:Proc-YSV-013b EPICS -> PLC parameters ##########
##########

#Locking mechanism
#<<<--- add_analog("P_Faceplate_LockID",       "DINT",                              PV_DESC="Device ID after Lock")
record(ao, "Tgt-TWDS1000:Proc-YSV-013b:P_Faceplate_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Device ID after Lock")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013b_iDB")
	info("plc_variable", "P_Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_BlockIcon_LockID",       "DINT",                              PV_DESC="Device ID after Blockicon Open")
record(ao, "Tgt-TWDS1000:Proc-YSV-013b:P_BlockIcon_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Device ID after Blockicon Open")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013b_iDB")
	info("plc_variable", "P_BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}

record(fanout, "Tgt-TWDS1000:Proc-YSV-013b:UploadParametersS") {
	field(LNK1, "Tgt-TWDS1000:Proc-YSV-013b:P_Faceplate_LockID")
	field(LNK2, "Tgt-TWDS1000:Proc-YSV-013b:P_BlockIcon_LockID")
}



##########
########## Tgt-TWDS1000:Proc-YSV-013c ##########
##########
##########

###################################### ICS HWI ###############################################
#############################  ICS Instrument Library     ####################################
##  PLC Sample Code in VersionDog: ICS_LIBRARY_MASTER_PLC                                   ##
##  CCDB device types: ICS_xxxxx                                                            ##
##  EPICS HMI (Block Icons/Faceplates)@ GitLab. Projekt: Cryo / CryogenicsLibrary / CryoLib ##
##                                                                                          ##
##                            ICS_SV - Solenoid On/Off valve                                ##
##                                                                                          ##
##                                                                                          ##
############################         Version: 1.1             ################################
#Author:  Evan Foy
#Date:    12-12-2019
#Version: v1.1
#Changes:
#1. New device, branched from ICS_PV version 1.4.
#2. String message removed, for Beckhoff compatibility.



############################
#STATUS BLOCK
############################
#<<<--- define_status_block()

##########
########## Tgt-TWDS1000:Proc-YSV-013c PLC   -> EPICS status   ##########
##########

#Operation modes
#<<<--- add_digital("OpMode_Auto",             PV_DESC="Operation Mode Auto",       PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-013c:OpMode_Auto")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Operation Mode Auto")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013c_iDB")
	info("plc_variable", "OpMode_Auto")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("OpMode_Manual",           PV_DESC="Operation Mode Manual",     PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-013c:OpMode_Manual")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Operation Mode Manual")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013c_iDB")
	info("plc_variable", "OpMode_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("OpMode_Forced",           PV_DESC="Operation Mode Forced",     PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-013c:OpMode_Forced")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Operation Mode Forced")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013c_iDB")
	info("plc_variable", "OpMode_Forced")
	info(autosaveFields_pass0, "VAL")
}


#Valve physical states
#<<<--- add_digital("Opened",                  PV_DESC="Valve Opened",              PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-013c:Opened")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Valve Opened")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013c_iDB")
	info("plc_variable", "Opened")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Closed",                  PV_DESC="Valve Closed",              PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-013c:Closed")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Valve Closed")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013c_iDB")
	info("plc_variable", "Closed")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Solenoid",                PV_DESC="Solenoid energized",        PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-013c:Solenoid")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Solenoid energized")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013c_iDB")
	info("plc_variable", "Solenoid")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("ValveColor",               "INT",                               PV_DESC="BlockIcon valve color")
record(ai, "Tgt-TWDS1000:Proc-YSV-013c:ValveColor")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "BlockIcon valve color")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013c_iDB")
	info("plc_variable", "ValveColor")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("SolenoidColor",            "INT",                               PV_DESC="BlockIcon solenoid color")
record(ai, "Tgt-TWDS1000:Proc-YSV-013c:SolenoidColor")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "BlockIcon solenoid color")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013c_iDB")
	info("plc_variable", "SolenoidColor")
	info(autosaveFields_pass0, "VAL")
}


#Inhibit signals (set by the PLC code, can't be changed by the OPI)
#<<<--- add_digital("Inhibit_Manual",          PV_DESC="Inhibit Manual Mode",       PV_ONAM="InhibitManual",  PV_ZNAM="AllowManual")
record(bi, "Tgt-TWDS1000:Proc-YSV-013c:Inhibit_Manual")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Inhibit Manual Mode")
	field(ONAM, "InhibitManual")
	field(ZNAM, "AllowManual")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013c_iDB")
	info("plc_variable", "Inhibit_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Force",           PV_DESC="Inhibit Force Mode",        PV_ONAM="InhibitForce",   PV_ZNAM="AllowForce")
record(bi, "Tgt-TWDS1000:Proc-YSV-013c:Inhibit_Force")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Inhibit Force Mode")
	field(ONAM, "InhibitForce")
	field(ZNAM, "AllowForce")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013c_iDB")
	info("plc_variable", "Inhibit_Force")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Lock",            PV_DESC="Inhibit Locking",           PV_ONAM="InhibitLocking", PV_ZNAM="AllowLocking")
record(bi, "Tgt-TWDS1000:Proc-YSV-013c:Inhibit_Lock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Inhibit Locking")
	field(ONAM, "InhibitLocking")
	field(ZNAM, "AllowLocking")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013c_iDB")
	info("plc_variable", "Inhibit_Lock")
	info(autosaveFields_pass0, "VAL")
}


#Interlock signals
#<<<--- add_digital("GroupInterlock",          PV_DESC="Group Interlock",           PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-013c:GroupInterlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Group Interlock")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013c_iDB")
	info("plc_variable", "GroupInterlock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("StartInterlock",          PV_DESC="Start Interlock",           PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-013c:StartInterlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Start Interlock")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013c_iDB")
	info("plc_variable", "StartInterlock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("StopInterlock",           PV_DESC="Stop Interlock",            PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-013c:StopInterlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Stop Interlock")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013c_iDB")
	info("plc_variable", "StopInterlock")
	info(autosaveFields_pass0, "VAL")
}


#Block Icon controls
#<<<--- add_digital("EnableBlkOpen",           PV_DESC="Enable Block Open Button",  PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-013c:EnableBlkOpen")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Enable Block Open Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013c_iDB")
	info("plc_variable", "EnableBlkOpen")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableBlkClose",          PV_DESC="Enable Block Close Button", PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-013c:EnableBlkClose")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Enable Block Close Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013c_iDB")
	info("plc_variable", "EnableBlkClose")
	info(autosaveFields_pass0, "VAL")
}


#for OPI visualisation
#<<<--- add_digital("EnableAutoBtn",           PV_DESC="Enable Auto Button",        PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-013c:EnableAutoBtn")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Enable Auto Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013c_iDB")
	info("plc_variable", "EnableAutoBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableManualBtn",         PV_DESC="Enable Manual Button",      PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-013c:EnableManualBtn")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Enable Manual Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013c_iDB")
	info("plc_variable", "EnableManualBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableForcedBtn",         PV_DESC="Enable Force Button",       PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-013c:EnableForcedBtn")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Enable Force Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013c_iDB")
	info("plc_variable", "EnableForcedBtn")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_digital("DevLocked",               PV_DESC="Device Locked",             PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-013c:DevLocked")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Device Locked")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013c_iDB")
	info("plc_variable", "DevLocked")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("Faceplate_LockID",         "DINT",                              PV_DESC="Owner Lock ID")
record(ai, "Tgt-TWDS1000:Proc-YSV-013c:Faceplate_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Owner Lock ID")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013c_iDB")
	info("plc_variable", "Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("BlockIcon_LockID",         "DINT",                              PV_DESC="Guest Lock ID")
record(ai, "Tgt-TWDS1000:Proc-YSV-013c:BlockIcon_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Guest Lock ID")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013c_iDB")
	info("plc_variable", "BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}


#Alarm signals
#<<<--- add_major_alarm("LatchAlarm",          "Latching of alarms",                PV_ZNAM="True")
record(bi, "Tgt-TWDS1000:Proc-YSV-013c:LatchAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Latching of alarms")
	field(OSV,  "MAJOR")
	field(ZNAM, "True")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013c_iDB")
	info("plc_variable", "LatchAlarm")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("GroupAlarm",          "Group Alarm",                       PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Proc-YSV-013c:GroupAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Group Alarm")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013c_iDB")
	info("plc_variable", "GroupAlarm")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Opening_TimeOut",     "Opening Time Out",                  PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Proc-YSV-013c:Opening_TimeOut")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Opening Time Out")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013c_iDB")
	info("plc_variable", "Opening_TimeOut")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Closing_TimeOut",     "Closing Time Out",                  PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Proc-YSV-013c:Closing_TimeOut")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Closing Time Out")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013c_iDB")
	info("plc_variable", "Closing_TimeOut")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("IO_Error",            "IO Error",                          PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Proc-YSV-013c:IO_Error")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "IO Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013c_iDB")
	info("plc_variable", "IO_Error")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Input_Module_Error",  "HW Input Module Error",             PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Proc-YSV-013c:Input_Module_Error")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "HW Input Module Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013c_iDB")
	info("plc_variable", "Input_Module_Error")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Output_Module_Error", "HW Output Module Error",            PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Proc-YSV-013c:Output_Module_Error")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "HW Output Module Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013c_iDB")
	info("plc_variable", "Output_Module_Error")
	info(autosaveFields_pass0, "VAL")
}


#OPI timeouts
#<<<--- add_time("OpeningTime",                PV_DESC="Opening Time")
record(ai, "Tgt-TWDS1000:Proc-YSV-013c:OpeningTime")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Opening Time")
	field(EGU,  "ms")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013c_iDB")
	info("plc_variable", "OpeningTime")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_time("ClosingTime",                PV_DESC="Closing Time")
record(ai, "Tgt-TWDS1000:Proc-YSV-013c:ClosingTime")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Closing Time")
	field(EGU,  "ms")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013c_iDB")
	info("plc_variable", "ClosingTime")
	info(autosaveFields_pass0, "VAL")
}


############################
#COMMAND BLOCK
############################
#<<<--- define_command_block()

##########
########## Tgt-TWDS1000:Proc-YSV-013c EPICS -> PLC commands   ##########
##########

#OPI buttons
#<<<--- add_digital("Cmd_Auto",                PV_DESC="CMD: Auto Mode")
record(bo, "Tgt-TWDS1000:Proc-YSV-013c:Cmd_Auto")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Auto Mode")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013c_iDB")
	info("plc_variable", "Cmd_Auto")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_Manual",              PV_DESC="CMD: Manual Mode")
record(bo, "Tgt-TWDS1000:Proc-YSV-013c:Cmd_Manual")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Manual Mode")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013c_iDB")
	info("plc_variable", "Cmd_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_Force",               PV_DESC="CMD: Force Mode")
record(bo, "Tgt-TWDS1000:Proc-YSV-013c:Cmd_Force")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Force Mode")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013c_iDB")
	info("plc_variable", "Cmd_Force")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_ManuOpen",            PV_DESC="CMD: Manual Open")
record(bo, "Tgt-TWDS1000:Proc-YSV-013c:Cmd_ManuOpen")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Manual Open")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013c_iDB")
	info("plc_variable", "Cmd_ManuOpen")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_ManuClose",           PV_DESC="CMD: Manual Close")
record(bo, "Tgt-TWDS1000:Proc-YSV-013c:Cmd_ManuClose")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Manual Close")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013c_iDB")
	info("plc_variable", "Cmd_ManuClose")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_ForceOpen",           PV_DESC="CMD: Force Open")
record(bo, "Tgt-TWDS1000:Proc-YSV-013c:Cmd_ForceOpen")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Force Open")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013c_iDB")
	info("plc_variable", "Cmd_ForceOpen")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_ForceClose",          PV_DESC="CMD: Force Close")
record(bo, "Tgt-TWDS1000:Proc-YSV-013c:Cmd_ForceClose")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Force Close")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013c_iDB")
	info("plc_variable", "Cmd_ForceClose")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_AckAlarm",            PV_DESC="CMD: Acknowledge Alarm")
record(bo, "Tgt-TWDS1000:Proc-YSV-013c:Cmd_AckAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Acknowledge Alarm")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013c_iDB")
	info("plc_variable", "Cmd_AckAlarm")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_ForceUnlock",         PV_DESC="CMD: Force Unlock Device")
record(bo, "Tgt-TWDS1000:Proc-YSV-013c:Cmd_ForceUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Force Unlock Device")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013c_iDB")
	info("plc_variable", "Cmd_ForceUnlock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevLock",             PV_DESC="CMD: Lock Device")
record(bo, "Tgt-TWDS1000:Proc-YSV-013c:Cmd_DevLock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Lock Device")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013c_iDB")
	info("plc_variable", "Cmd_DevLock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevUnlock",           PV_DESC="CMD: Unlock Device")
record(bo, "Tgt-TWDS1000:Proc-YSV-013c:Cmd_DevUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Unlock Device")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013c_iDB")
	info("plc_variable", "Cmd_DevUnlock")
	info(autosaveFields_pass0, "VAL")
}


############################
#PARAMETER BLOCK
############################
#<<<--- define_parameter_block()

##########
########## Tgt-TWDS1000:Proc-YSV-013c EPICS -> PLC parameters ##########
##########

#Locking mechanism
#<<<--- add_analog("P_Faceplate_LockID",       "DINT",                              PV_DESC="Device ID after Lock")
record(ao, "Tgt-TWDS1000:Proc-YSV-013c:P_Faceplate_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Device ID after Lock")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013c_iDB")
	info("plc_variable", "P_Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_BlockIcon_LockID",       "DINT",                              PV_DESC="Device ID after Blockicon Open")
record(ao, "Tgt-TWDS1000:Proc-YSV-013c:P_BlockIcon_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Device ID after Blockicon Open")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-013c_iDB")
	info("plc_variable", "P_BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}

record(fanout, "Tgt-TWDS1000:Proc-YSV-013c:UploadParametersS") {
	field(LNK1, "Tgt-TWDS1000:Proc-YSV-013c:P_Faceplate_LockID")
	field(LNK2, "Tgt-TWDS1000:Proc-YSV-013c:P_BlockIcon_LockID")
}



##########
########## Tgt-TWDS1000:Proc-YSV-014a ##########
##########
##########

###################################### ICS HWI ###############################################
#############################  ICS Instrument Library     ####################################
##  PLC Sample Code in VersionDog: ICS_LIBRARY_MASTER_PLC                                   ##
##  CCDB device types: ICS_xxxxx                                                            ##
##  EPICS HMI (Block Icons/Faceplates)@ GitLab. Projekt: Cryo / CryogenicsLibrary / CryoLib ##
##                                                                                          ##
##                            ICS_SV - Solenoid On/Off valve                                ##
##                                                                                          ##
##                                                                                          ##
############################         Version: 1.1             ################################
#Author:  Evan Foy
#Date:    12-12-2019
#Version: v1.1
#Changes:
#1. New device, branched from ICS_PV version 1.4.
#2. String message removed, for Beckhoff compatibility.



############################
#STATUS BLOCK
############################
#<<<--- define_status_block()

##########
########## Tgt-TWDS1000:Proc-YSV-014a PLC   -> EPICS status   ##########
##########

#Operation modes
#<<<--- add_digital("OpMode_Auto",             PV_DESC="Operation Mode Auto",       PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-014a:OpMode_Auto")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Operation Mode Auto")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014a_iDB")
	info("plc_variable", "OpMode_Auto")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("OpMode_Manual",           PV_DESC="Operation Mode Manual",     PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-014a:OpMode_Manual")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Operation Mode Manual")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014a_iDB")
	info("plc_variable", "OpMode_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("OpMode_Forced",           PV_DESC="Operation Mode Forced",     PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-014a:OpMode_Forced")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Operation Mode Forced")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014a_iDB")
	info("plc_variable", "OpMode_Forced")
	info(autosaveFields_pass0, "VAL")
}


#Valve physical states
#<<<--- add_digital("Opened",                  PV_DESC="Valve Opened",              PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-014a:Opened")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Valve Opened")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014a_iDB")
	info("plc_variable", "Opened")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Closed",                  PV_DESC="Valve Closed",              PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-014a:Closed")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Valve Closed")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014a_iDB")
	info("plc_variable", "Closed")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Solenoid",                PV_DESC="Solenoid energized",        PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-014a:Solenoid")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Solenoid energized")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014a_iDB")
	info("plc_variable", "Solenoid")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("ValveColor",               "INT",                               PV_DESC="BlockIcon valve color")
record(ai, "Tgt-TWDS1000:Proc-YSV-014a:ValveColor")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "BlockIcon valve color")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014a_iDB")
	info("plc_variable", "ValveColor")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("SolenoidColor",            "INT",                               PV_DESC="BlockIcon solenoid color")
record(ai, "Tgt-TWDS1000:Proc-YSV-014a:SolenoidColor")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "BlockIcon solenoid color")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014a_iDB")
	info("plc_variable", "SolenoidColor")
	info(autosaveFields_pass0, "VAL")
}


#Inhibit signals (set by the PLC code, can't be changed by the OPI)
#<<<--- add_digital("Inhibit_Manual",          PV_DESC="Inhibit Manual Mode",       PV_ONAM="InhibitManual",  PV_ZNAM="AllowManual")
record(bi, "Tgt-TWDS1000:Proc-YSV-014a:Inhibit_Manual")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Inhibit Manual Mode")
	field(ONAM, "InhibitManual")
	field(ZNAM, "AllowManual")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014a_iDB")
	info("plc_variable", "Inhibit_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Force",           PV_DESC="Inhibit Force Mode",        PV_ONAM="InhibitForce",   PV_ZNAM="AllowForce")
record(bi, "Tgt-TWDS1000:Proc-YSV-014a:Inhibit_Force")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Inhibit Force Mode")
	field(ONAM, "InhibitForce")
	field(ZNAM, "AllowForce")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014a_iDB")
	info("plc_variable", "Inhibit_Force")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Lock",            PV_DESC="Inhibit Locking",           PV_ONAM="InhibitLocking", PV_ZNAM="AllowLocking")
record(bi, "Tgt-TWDS1000:Proc-YSV-014a:Inhibit_Lock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Inhibit Locking")
	field(ONAM, "InhibitLocking")
	field(ZNAM, "AllowLocking")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014a_iDB")
	info("plc_variable", "Inhibit_Lock")
	info(autosaveFields_pass0, "VAL")
}


#Interlock signals
#<<<--- add_digital("GroupInterlock",          PV_DESC="Group Interlock",           PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-014a:GroupInterlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Group Interlock")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014a_iDB")
	info("plc_variable", "GroupInterlock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("StartInterlock",          PV_DESC="Start Interlock",           PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-014a:StartInterlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Start Interlock")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014a_iDB")
	info("plc_variable", "StartInterlock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("StopInterlock",           PV_DESC="Stop Interlock",            PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-014a:StopInterlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Stop Interlock")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014a_iDB")
	info("plc_variable", "StopInterlock")
	info(autosaveFields_pass0, "VAL")
}


#Block Icon controls
#<<<--- add_digital("EnableBlkOpen",           PV_DESC="Enable Block Open Button",  PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-014a:EnableBlkOpen")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Enable Block Open Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014a_iDB")
	info("plc_variable", "EnableBlkOpen")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableBlkClose",          PV_DESC="Enable Block Close Button", PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-014a:EnableBlkClose")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Enable Block Close Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014a_iDB")
	info("plc_variable", "EnableBlkClose")
	info(autosaveFields_pass0, "VAL")
}


#for OPI visualisation
#<<<--- add_digital("EnableAutoBtn",           PV_DESC="Enable Auto Button",        PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-014a:EnableAutoBtn")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Enable Auto Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014a_iDB")
	info("plc_variable", "EnableAutoBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableManualBtn",         PV_DESC="Enable Manual Button",      PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-014a:EnableManualBtn")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Enable Manual Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014a_iDB")
	info("plc_variable", "EnableManualBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableForcedBtn",         PV_DESC="Enable Force Button",       PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-014a:EnableForcedBtn")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Enable Force Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014a_iDB")
	info("plc_variable", "EnableForcedBtn")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_digital("DevLocked",               PV_DESC="Device Locked",             PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-014a:DevLocked")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Device Locked")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014a_iDB")
	info("plc_variable", "DevLocked")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("Faceplate_LockID",         "DINT",                              PV_DESC="Owner Lock ID")
record(ai, "Tgt-TWDS1000:Proc-YSV-014a:Faceplate_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Owner Lock ID")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014a_iDB")
	info("plc_variable", "Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("BlockIcon_LockID",         "DINT",                              PV_DESC="Guest Lock ID")
record(ai, "Tgt-TWDS1000:Proc-YSV-014a:BlockIcon_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Guest Lock ID")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014a_iDB")
	info("plc_variable", "BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}


#Alarm signals
#<<<--- add_major_alarm("LatchAlarm",          "Latching of alarms",                PV_ZNAM="True")
record(bi, "Tgt-TWDS1000:Proc-YSV-014a:LatchAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Latching of alarms")
	field(OSV,  "MAJOR")
	field(ZNAM, "True")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014a_iDB")
	info("plc_variable", "LatchAlarm")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("GroupAlarm",          "Group Alarm",                       PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Proc-YSV-014a:GroupAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Group Alarm")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014a_iDB")
	info("plc_variable", "GroupAlarm")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Opening_TimeOut",     "Opening Time Out",                  PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Proc-YSV-014a:Opening_TimeOut")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Opening Time Out")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014a_iDB")
	info("plc_variable", "Opening_TimeOut")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Closing_TimeOut",     "Closing Time Out",                  PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Proc-YSV-014a:Closing_TimeOut")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Closing Time Out")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014a_iDB")
	info("plc_variable", "Closing_TimeOut")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("IO_Error",            "IO Error",                          PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Proc-YSV-014a:IO_Error")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "IO Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014a_iDB")
	info("plc_variable", "IO_Error")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Input_Module_Error",  "HW Input Module Error",             PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Proc-YSV-014a:Input_Module_Error")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "HW Input Module Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014a_iDB")
	info("plc_variable", "Input_Module_Error")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Output_Module_Error", "HW Output Module Error",            PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Proc-YSV-014a:Output_Module_Error")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "HW Output Module Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014a_iDB")
	info("plc_variable", "Output_Module_Error")
	info(autosaveFields_pass0, "VAL")
}


#OPI timeouts
#<<<--- add_time("OpeningTime",                PV_DESC="Opening Time")
record(ai, "Tgt-TWDS1000:Proc-YSV-014a:OpeningTime")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Opening Time")
	field(EGU,  "ms")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014a_iDB")
	info("plc_variable", "OpeningTime")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_time("ClosingTime",                PV_DESC="Closing Time")
record(ai, "Tgt-TWDS1000:Proc-YSV-014a:ClosingTime")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Closing Time")
	field(EGU,  "ms")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014a_iDB")
	info("plc_variable", "ClosingTime")
	info(autosaveFields_pass0, "VAL")
}


############################
#COMMAND BLOCK
############################
#<<<--- define_command_block()

##########
########## Tgt-TWDS1000:Proc-YSV-014a EPICS -> PLC commands   ##########
##########

#OPI buttons
#<<<--- add_digital("Cmd_Auto",                PV_DESC="CMD: Auto Mode")
record(bo, "Tgt-TWDS1000:Proc-YSV-014a:Cmd_Auto")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Auto Mode")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014a_iDB")
	info("plc_variable", "Cmd_Auto")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_Manual",              PV_DESC="CMD: Manual Mode")
record(bo, "Tgt-TWDS1000:Proc-YSV-014a:Cmd_Manual")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Manual Mode")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014a_iDB")
	info("plc_variable", "Cmd_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_Force",               PV_DESC="CMD: Force Mode")
record(bo, "Tgt-TWDS1000:Proc-YSV-014a:Cmd_Force")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Force Mode")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014a_iDB")
	info("plc_variable", "Cmd_Force")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_ManuOpen",            PV_DESC="CMD: Manual Open")
record(bo, "Tgt-TWDS1000:Proc-YSV-014a:Cmd_ManuOpen")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Manual Open")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014a_iDB")
	info("plc_variable", "Cmd_ManuOpen")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_ManuClose",           PV_DESC="CMD: Manual Close")
record(bo, "Tgt-TWDS1000:Proc-YSV-014a:Cmd_ManuClose")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Manual Close")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014a_iDB")
	info("plc_variable", "Cmd_ManuClose")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_ForceOpen",           PV_DESC="CMD: Force Open")
record(bo, "Tgt-TWDS1000:Proc-YSV-014a:Cmd_ForceOpen")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Force Open")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014a_iDB")
	info("plc_variable", "Cmd_ForceOpen")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_ForceClose",          PV_DESC="CMD: Force Close")
record(bo, "Tgt-TWDS1000:Proc-YSV-014a:Cmd_ForceClose")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Force Close")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014a_iDB")
	info("plc_variable", "Cmd_ForceClose")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_AckAlarm",            PV_DESC="CMD: Acknowledge Alarm")
record(bo, "Tgt-TWDS1000:Proc-YSV-014a:Cmd_AckAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Acknowledge Alarm")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014a_iDB")
	info("plc_variable", "Cmd_AckAlarm")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_ForceUnlock",         PV_DESC="CMD: Force Unlock Device")
record(bo, "Tgt-TWDS1000:Proc-YSV-014a:Cmd_ForceUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Force Unlock Device")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014a_iDB")
	info("plc_variable", "Cmd_ForceUnlock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevLock",             PV_DESC="CMD: Lock Device")
record(bo, "Tgt-TWDS1000:Proc-YSV-014a:Cmd_DevLock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Lock Device")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014a_iDB")
	info("plc_variable", "Cmd_DevLock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevUnlock",           PV_DESC="CMD: Unlock Device")
record(bo, "Tgt-TWDS1000:Proc-YSV-014a:Cmd_DevUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Unlock Device")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014a_iDB")
	info("plc_variable", "Cmd_DevUnlock")
	info(autosaveFields_pass0, "VAL")
}


############################
#PARAMETER BLOCK
############################
#<<<--- define_parameter_block()

##########
########## Tgt-TWDS1000:Proc-YSV-014a EPICS -> PLC parameters ##########
##########

#Locking mechanism
#<<<--- add_analog("P_Faceplate_LockID",       "DINT",                              PV_DESC="Device ID after Lock")
record(ao, "Tgt-TWDS1000:Proc-YSV-014a:P_Faceplate_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Device ID after Lock")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014a_iDB")
	info("plc_variable", "P_Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_BlockIcon_LockID",       "DINT",                              PV_DESC="Device ID after Blockicon Open")
record(ao, "Tgt-TWDS1000:Proc-YSV-014a:P_BlockIcon_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Device ID after Blockicon Open")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014a_iDB")
	info("plc_variable", "P_BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}

record(fanout, "Tgt-TWDS1000:Proc-YSV-014a:UploadParametersS") {
	field(LNK1, "Tgt-TWDS1000:Proc-YSV-014a:P_Faceplate_LockID")
	field(LNK2, "Tgt-TWDS1000:Proc-YSV-014a:P_BlockIcon_LockID")
}



##########
########## Tgt-TWDS1000:Proc-YSV-014b ##########
##########
##########

###################################### ICS HWI ###############################################
#############################  ICS Instrument Library     ####################################
##  PLC Sample Code in VersionDog: ICS_LIBRARY_MASTER_PLC                                   ##
##  CCDB device types: ICS_xxxxx                                                            ##
##  EPICS HMI (Block Icons/Faceplates)@ GitLab. Projekt: Cryo / CryogenicsLibrary / CryoLib ##
##                                                                                          ##
##                            ICS_SV - Solenoid On/Off valve                                ##
##                                                                                          ##
##                                                                                          ##
############################         Version: 1.1             ################################
#Author:  Evan Foy
#Date:    12-12-2019
#Version: v1.1
#Changes:
#1. New device, branched from ICS_PV version 1.4.
#2. String message removed, for Beckhoff compatibility.



############################
#STATUS BLOCK
############################
#<<<--- define_status_block()

##########
########## Tgt-TWDS1000:Proc-YSV-014b PLC   -> EPICS status   ##########
##########

#Operation modes
#<<<--- add_digital("OpMode_Auto",             PV_DESC="Operation Mode Auto",       PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-014b:OpMode_Auto")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Operation Mode Auto")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014b_iDB")
	info("plc_variable", "OpMode_Auto")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("OpMode_Manual",           PV_DESC="Operation Mode Manual",     PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-014b:OpMode_Manual")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Operation Mode Manual")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014b_iDB")
	info("plc_variable", "OpMode_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("OpMode_Forced",           PV_DESC="Operation Mode Forced",     PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-014b:OpMode_Forced")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Operation Mode Forced")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014b_iDB")
	info("plc_variable", "OpMode_Forced")
	info(autosaveFields_pass0, "VAL")
}


#Valve physical states
#<<<--- add_digital("Opened",                  PV_DESC="Valve Opened",              PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-014b:Opened")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Valve Opened")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014b_iDB")
	info("plc_variable", "Opened")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Closed",                  PV_DESC="Valve Closed",              PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-014b:Closed")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Valve Closed")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014b_iDB")
	info("plc_variable", "Closed")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Solenoid",                PV_DESC="Solenoid energized",        PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-014b:Solenoid")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Solenoid energized")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014b_iDB")
	info("plc_variable", "Solenoid")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("ValveColor",               "INT",                               PV_DESC="BlockIcon valve color")
record(ai, "Tgt-TWDS1000:Proc-YSV-014b:ValveColor")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "BlockIcon valve color")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014b_iDB")
	info("plc_variable", "ValveColor")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("SolenoidColor",            "INT",                               PV_DESC="BlockIcon solenoid color")
record(ai, "Tgt-TWDS1000:Proc-YSV-014b:SolenoidColor")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "BlockIcon solenoid color")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014b_iDB")
	info("plc_variable", "SolenoidColor")
	info(autosaveFields_pass0, "VAL")
}


#Inhibit signals (set by the PLC code, can't be changed by the OPI)
#<<<--- add_digital("Inhibit_Manual",          PV_DESC="Inhibit Manual Mode",       PV_ONAM="InhibitManual",  PV_ZNAM="AllowManual")
record(bi, "Tgt-TWDS1000:Proc-YSV-014b:Inhibit_Manual")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Inhibit Manual Mode")
	field(ONAM, "InhibitManual")
	field(ZNAM, "AllowManual")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014b_iDB")
	info("plc_variable", "Inhibit_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Force",           PV_DESC="Inhibit Force Mode",        PV_ONAM="InhibitForce",   PV_ZNAM="AllowForce")
record(bi, "Tgt-TWDS1000:Proc-YSV-014b:Inhibit_Force")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Inhibit Force Mode")
	field(ONAM, "InhibitForce")
	field(ZNAM, "AllowForce")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014b_iDB")
	info("plc_variable", "Inhibit_Force")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Lock",            PV_DESC="Inhibit Locking",           PV_ONAM="InhibitLocking", PV_ZNAM="AllowLocking")
record(bi, "Tgt-TWDS1000:Proc-YSV-014b:Inhibit_Lock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Inhibit Locking")
	field(ONAM, "InhibitLocking")
	field(ZNAM, "AllowLocking")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014b_iDB")
	info("plc_variable", "Inhibit_Lock")
	info(autosaveFields_pass0, "VAL")
}


#Interlock signals
#<<<--- add_digital("GroupInterlock",          PV_DESC="Group Interlock",           PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-014b:GroupInterlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Group Interlock")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014b_iDB")
	info("plc_variable", "GroupInterlock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("StartInterlock",          PV_DESC="Start Interlock",           PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-014b:StartInterlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Start Interlock")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014b_iDB")
	info("plc_variable", "StartInterlock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("StopInterlock",           PV_DESC="Stop Interlock",            PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-014b:StopInterlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Stop Interlock")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014b_iDB")
	info("plc_variable", "StopInterlock")
	info(autosaveFields_pass0, "VAL")
}


#Block Icon controls
#<<<--- add_digital("EnableBlkOpen",           PV_DESC="Enable Block Open Button",  PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-014b:EnableBlkOpen")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Enable Block Open Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014b_iDB")
	info("plc_variable", "EnableBlkOpen")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableBlkClose",          PV_DESC="Enable Block Close Button", PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-014b:EnableBlkClose")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Enable Block Close Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014b_iDB")
	info("plc_variable", "EnableBlkClose")
	info(autosaveFields_pass0, "VAL")
}


#for OPI visualisation
#<<<--- add_digital("EnableAutoBtn",           PV_DESC="Enable Auto Button",        PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-014b:EnableAutoBtn")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Enable Auto Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014b_iDB")
	info("plc_variable", "EnableAutoBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableManualBtn",         PV_DESC="Enable Manual Button",      PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-014b:EnableManualBtn")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Enable Manual Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014b_iDB")
	info("plc_variable", "EnableManualBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableForcedBtn",         PV_DESC="Enable Force Button",       PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-014b:EnableForcedBtn")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Enable Force Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014b_iDB")
	info("plc_variable", "EnableForcedBtn")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_digital("DevLocked",               PV_DESC="Device Locked",             PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-014b:DevLocked")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Device Locked")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014b_iDB")
	info("plc_variable", "DevLocked")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("Faceplate_LockID",         "DINT",                              PV_DESC="Owner Lock ID")
record(ai, "Tgt-TWDS1000:Proc-YSV-014b:Faceplate_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Owner Lock ID")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014b_iDB")
	info("plc_variable", "Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("BlockIcon_LockID",         "DINT",                              PV_DESC="Guest Lock ID")
record(ai, "Tgt-TWDS1000:Proc-YSV-014b:BlockIcon_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Guest Lock ID")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014b_iDB")
	info("plc_variable", "BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}


#Alarm signals
#<<<--- add_major_alarm("LatchAlarm",          "Latching of alarms",                PV_ZNAM="True")
record(bi, "Tgt-TWDS1000:Proc-YSV-014b:LatchAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Latching of alarms")
	field(OSV,  "MAJOR")
	field(ZNAM, "True")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014b_iDB")
	info("plc_variable", "LatchAlarm")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("GroupAlarm",          "Group Alarm",                       PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Proc-YSV-014b:GroupAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Group Alarm")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014b_iDB")
	info("plc_variable", "GroupAlarm")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Opening_TimeOut",     "Opening Time Out",                  PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Proc-YSV-014b:Opening_TimeOut")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Opening Time Out")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014b_iDB")
	info("plc_variable", "Opening_TimeOut")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Closing_TimeOut",     "Closing Time Out",                  PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Proc-YSV-014b:Closing_TimeOut")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Closing Time Out")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014b_iDB")
	info("plc_variable", "Closing_TimeOut")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("IO_Error",            "IO Error",                          PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Proc-YSV-014b:IO_Error")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "IO Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014b_iDB")
	info("plc_variable", "IO_Error")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Input_Module_Error",  "HW Input Module Error",             PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Proc-YSV-014b:Input_Module_Error")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "HW Input Module Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014b_iDB")
	info("plc_variable", "Input_Module_Error")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Output_Module_Error", "HW Output Module Error",            PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Proc-YSV-014b:Output_Module_Error")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "HW Output Module Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014b_iDB")
	info("plc_variable", "Output_Module_Error")
	info(autosaveFields_pass0, "VAL")
}


#OPI timeouts
#<<<--- add_time("OpeningTime",                PV_DESC="Opening Time")
record(ai, "Tgt-TWDS1000:Proc-YSV-014b:OpeningTime")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Opening Time")
	field(EGU,  "ms")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014b_iDB")
	info("plc_variable", "OpeningTime")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_time("ClosingTime",                PV_DESC="Closing Time")
record(ai, "Tgt-TWDS1000:Proc-YSV-014b:ClosingTime")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Closing Time")
	field(EGU,  "ms")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014b_iDB")
	info("plc_variable", "ClosingTime")
	info(autosaveFields_pass0, "VAL")
}


############################
#COMMAND BLOCK
############################
#<<<--- define_command_block()

##########
########## Tgt-TWDS1000:Proc-YSV-014b EPICS -> PLC commands   ##########
##########

#OPI buttons
#<<<--- add_digital("Cmd_Auto",                PV_DESC="CMD: Auto Mode")
record(bo, "Tgt-TWDS1000:Proc-YSV-014b:Cmd_Auto")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Auto Mode")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014b_iDB")
	info("plc_variable", "Cmd_Auto")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_Manual",              PV_DESC="CMD: Manual Mode")
record(bo, "Tgt-TWDS1000:Proc-YSV-014b:Cmd_Manual")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Manual Mode")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014b_iDB")
	info("plc_variable", "Cmd_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_Force",               PV_DESC="CMD: Force Mode")
record(bo, "Tgt-TWDS1000:Proc-YSV-014b:Cmd_Force")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Force Mode")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014b_iDB")
	info("plc_variable", "Cmd_Force")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_ManuOpen",            PV_DESC="CMD: Manual Open")
record(bo, "Tgt-TWDS1000:Proc-YSV-014b:Cmd_ManuOpen")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Manual Open")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014b_iDB")
	info("plc_variable", "Cmd_ManuOpen")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_ManuClose",           PV_DESC="CMD: Manual Close")
record(bo, "Tgt-TWDS1000:Proc-YSV-014b:Cmd_ManuClose")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Manual Close")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014b_iDB")
	info("plc_variable", "Cmd_ManuClose")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_ForceOpen",           PV_DESC="CMD: Force Open")
record(bo, "Tgt-TWDS1000:Proc-YSV-014b:Cmd_ForceOpen")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Force Open")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014b_iDB")
	info("plc_variable", "Cmd_ForceOpen")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_ForceClose",          PV_DESC="CMD: Force Close")
record(bo, "Tgt-TWDS1000:Proc-YSV-014b:Cmd_ForceClose")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Force Close")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014b_iDB")
	info("plc_variable", "Cmd_ForceClose")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_AckAlarm",            PV_DESC="CMD: Acknowledge Alarm")
record(bo, "Tgt-TWDS1000:Proc-YSV-014b:Cmd_AckAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Acknowledge Alarm")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014b_iDB")
	info("plc_variable", "Cmd_AckAlarm")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_ForceUnlock",         PV_DESC="CMD: Force Unlock Device")
record(bo, "Tgt-TWDS1000:Proc-YSV-014b:Cmd_ForceUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Force Unlock Device")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014b_iDB")
	info("plc_variable", "Cmd_ForceUnlock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevLock",             PV_DESC="CMD: Lock Device")
record(bo, "Tgt-TWDS1000:Proc-YSV-014b:Cmd_DevLock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Lock Device")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014b_iDB")
	info("plc_variable", "Cmd_DevLock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevUnlock",           PV_DESC="CMD: Unlock Device")
record(bo, "Tgt-TWDS1000:Proc-YSV-014b:Cmd_DevUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Unlock Device")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014b_iDB")
	info("plc_variable", "Cmd_DevUnlock")
	info(autosaveFields_pass0, "VAL")
}


############################
#PARAMETER BLOCK
############################
#<<<--- define_parameter_block()

##########
########## Tgt-TWDS1000:Proc-YSV-014b EPICS -> PLC parameters ##########
##########

#Locking mechanism
#<<<--- add_analog("P_Faceplate_LockID",       "DINT",                              PV_DESC="Device ID after Lock")
record(ao, "Tgt-TWDS1000:Proc-YSV-014b:P_Faceplate_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Device ID after Lock")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014b_iDB")
	info("plc_variable", "P_Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_BlockIcon_LockID",       "DINT",                              PV_DESC="Device ID after Blockicon Open")
record(ao, "Tgt-TWDS1000:Proc-YSV-014b:P_BlockIcon_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Device ID after Blockicon Open")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014b_iDB")
	info("plc_variable", "P_BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}

record(fanout, "Tgt-TWDS1000:Proc-YSV-014b:UploadParametersS") {
	field(LNK1, "Tgt-TWDS1000:Proc-YSV-014b:P_Faceplate_LockID")
	field(LNK2, "Tgt-TWDS1000:Proc-YSV-014b:P_BlockIcon_LockID")
}



##########
########## Tgt-TWDS1000:Proc-YSV-014c ##########
##########
##########

###################################### ICS HWI ###############################################
#############################  ICS Instrument Library     ####################################
##  PLC Sample Code in VersionDog: ICS_LIBRARY_MASTER_PLC                                   ##
##  CCDB device types: ICS_xxxxx                                                            ##
##  EPICS HMI (Block Icons/Faceplates)@ GitLab. Projekt: Cryo / CryogenicsLibrary / CryoLib ##
##                                                                                          ##
##                            ICS_SV - Solenoid On/Off valve                                ##
##                                                                                          ##
##                                                                                          ##
############################         Version: 1.1             ################################
#Author:  Evan Foy
#Date:    12-12-2019
#Version: v1.1
#Changes:
#1. New device, branched from ICS_PV version 1.4.
#2. String message removed, for Beckhoff compatibility.



############################
#STATUS BLOCK
############################
#<<<--- define_status_block()

##########
########## Tgt-TWDS1000:Proc-YSV-014c PLC   -> EPICS status   ##########
##########

#Operation modes
#<<<--- add_digital("OpMode_Auto",             PV_DESC="Operation Mode Auto",       PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-014c:OpMode_Auto")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Operation Mode Auto")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014c_iDB")
	info("plc_variable", "OpMode_Auto")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("OpMode_Manual",           PV_DESC="Operation Mode Manual",     PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-014c:OpMode_Manual")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Operation Mode Manual")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014c_iDB")
	info("plc_variable", "OpMode_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("OpMode_Forced",           PV_DESC="Operation Mode Forced",     PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-014c:OpMode_Forced")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Operation Mode Forced")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014c_iDB")
	info("plc_variable", "OpMode_Forced")
	info(autosaveFields_pass0, "VAL")
}


#Valve physical states
#<<<--- add_digital("Opened",                  PV_DESC="Valve Opened",              PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-014c:Opened")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Valve Opened")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014c_iDB")
	info("plc_variable", "Opened")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Closed",                  PV_DESC="Valve Closed",              PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-014c:Closed")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Valve Closed")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014c_iDB")
	info("plc_variable", "Closed")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Solenoid",                PV_DESC="Solenoid energized",        PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-014c:Solenoid")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Solenoid energized")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014c_iDB")
	info("plc_variable", "Solenoid")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("ValveColor",               "INT",                               PV_DESC="BlockIcon valve color")
record(ai, "Tgt-TWDS1000:Proc-YSV-014c:ValveColor")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "BlockIcon valve color")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014c_iDB")
	info("plc_variable", "ValveColor")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("SolenoidColor",            "INT",                               PV_DESC="BlockIcon solenoid color")
record(ai, "Tgt-TWDS1000:Proc-YSV-014c:SolenoidColor")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "BlockIcon solenoid color")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014c_iDB")
	info("plc_variable", "SolenoidColor")
	info(autosaveFields_pass0, "VAL")
}


#Inhibit signals (set by the PLC code, can't be changed by the OPI)
#<<<--- add_digital("Inhibit_Manual",          PV_DESC="Inhibit Manual Mode",       PV_ONAM="InhibitManual",  PV_ZNAM="AllowManual")
record(bi, "Tgt-TWDS1000:Proc-YSV-014c:Inhibit_Manual")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Inhibit Manual Mode")
	field(ONAM, "InhibitManual")
	field(ZNAM, "AllowManual")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014c_iDB")
	info("plc_variable", "Inhibit_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Force",           PV_DESC="Inhibit Force Mode",        PV_ONAM="InhibitForce",   PV_ZNAM="AllowForce")
record(bi, "Tgt-TWDS1000:Proc-YSV-014c:Inhibit_Force")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Inhibit Force Mode")
	field(ONAM, "InhibitForce")
	field(ZNAM, "AllowForce")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014c_iDB")
	info("plc_variable", "Inhibit_Force")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Lock",            PV_DESC="Inhibit Locking",           PV_ONAM="InhibitLocking", PV_ZNAM="AllowLocking")
record(bi, "Tgt-TWDS1000:Proc-YSV-014c:Inhibit_Lock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Inhibit Locking")
	field(ONAM, "InhibitLocking")
	field(ZNAM, "AllowLocking")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014c_iDB")
	info("plc_variable", "Inhibit_Lock")
	info(autosaveFields_pass0, "VAL")
}


#Interlock signals
#<<<--- add_digital("GroupInterlock",          PV_DESC="Group Interlock",           PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-014c:GroupInterlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Group Interlock")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014c_iDB")
	info("plc_variable", "GroupInterlock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("StartInterlock",          PV_DESC="Start Interlock",           PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-014c:StartInterlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Start Interlock")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014c_iDB")
	info("plc_variable", "StartInterlock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("StopInterlock",           PV_DESC="Stop Interlock",            PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-014c:StopInterlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Stop Interlock")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014c_iDB")
	info("plc_variable", "StopInterlock")
	info(autosaveFields_pass0, "VAL")
}


#Block Icon controls
#<<<--- add_digital("EnableBlkOpen",           PV_DESC="Enable Block Open Button",  PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-014c:EnableBlkOpen")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Enable Block Open Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014c_iDB")
	info("plc_variable", "EnableBlkOpen")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableBlkClose",          PV_DESC="Enable Block Close Button", PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-014c:EnableBlkClose")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Enable Block Close Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014c_iDB")
	info("plc_variable", "EnableBlkClose")
	info(autosaveFields_pass0, "VAL")
}


#for OPI visualisation
#<<<--- add_digital("EnableAutoBtn",           PV_DESC="Enable Auto Button",        PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-014c:EnableAutoBtn")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Enable Auto Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014c_iDB")
	info("plc_variable", "EnableAutoBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableManualBtn",         PV_DESC="Enable Manual Button",      PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-014c:EnableManualBtn")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Enable Manual Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014c_iDB")
	info("plc_variable", "EnableManualBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableForcedBtn",         PV_DESC="Enable Force Button",       PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-014c:EnableForcedBtn")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Enable Force Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014c_iDB")
	info("plc_variable", "EnableForcedBtn")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_digital("DevLocked",               PV_DESC="Device Locked",             PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-014c:DevLocked")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Device Locked")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014c_iDB")
	info("plc_variable", "DevLocked")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("Faceplate_LockID",         "DINT",                              PV_DESC="Owner Lock ID")
record(ai, "Tgt-TWDS1000:Proc-YSV-014c:Faceplate_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Owner Lock ID")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014c_iDB")
	info("plc_variable", "Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("BlockIcon_LockID",         "DINT",                              PV_DESC="Guest Lock ID")
record(ai, "Tgt-TWDS1000:Proc-YSV-014c:BlockIcon_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Guest Lock ID")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014c_iDB")
	info("plc_variable", "BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}


#Alarm signals
#<<<--- add_major_alarm("LatchAlarm",          "Latching of alarms",                PV_ZNAM="True")
record(bi, "Tgt-TWDS1000:Proc-YSV-014c:LatchAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Latching of alarms")
	field(OSV,  "MAJOR")
	field(ZNAM, "True")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014c_iDB")
	info("plc_variable", "LatchAlarm")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("GroupAlarm",          "Group Alarm",                       PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Proc-YSV-014c:GroupAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Group Alarm")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014c_iDB")
	info("plc_variable", "GroupAlarm")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Opening_TimeOut",     "Opening Time Out",                  PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Proc-YSV-014c:Opening_TimeOut")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Opening Time Out")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014c_iDB")
	info("plc_variable", "Opening_TimeOut")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Closing_TimeOut",     "Closing Time Out",                  PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Proc-YSV-014c:Closing_TimeOut")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Closing Time Out")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014c_iDB")
	info("plc_variable", "Closing_TimeOut")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("IO_Error",            "IO Error",                          PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Proc-YSV-014c:IO_Error")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "IO Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014c_iDB")
	info("plc_variable", "IO_Error")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Input_Module_Error",  "HW Input Module Error",             PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Proc-YSV-014c:Input_Module_Error")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "HW Input Module Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014c_iDB")
	info("plc_variable", "Input_Module_Error")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Output_Module_Error", "HW Output Module Error",            PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Proc-YSV-014c:Output_Module_Error")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "HW Output Module Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014c_iDB")
	info("plc_variable", "Output_Module_Error")
	info(autosaveFields_pass0, "VAL")
}


#OPI timeouts
#<<<--- add_time("OpeningTime",                PV_DESC="Opening Time")
record(ai, "Tgt-TWDS1000:Proc-YSV-014c:OpeningTime")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Opening Time")
	field(EGU,  "ms")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014c_iDB")
	info("plc_variable", "OpeningTime")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_time("ClosingTime",                PV_DESC="Closing Time")
record(ai, "Tgt-TWDS1000:Proc-YSV-014c:ClosingTime")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Closing Time")
	field(EGU,  "ms")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014c_iDB")
	info("plc_variable", "ClosingTime")
	info(autosaveFields_pass0, "VAL")
}


############################
#COMMAND BLOCK
############################
#<<<--- define_command_block()

##########
########## Tgt-TWDS1000:Proc-YSV-014c EPICS -> PLC commands   ##########
##########

#OPI buttons
#<<<--- add_digital("Cmd_Auto",                PV_DESC="CMD: Auto Mode")
record(bo, "Tgt-TWDS1000:Proc-YSV-014c:Cmd_Auto")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Auto Mode")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014c_iDB")
	info("plc_variable", "Cmd_Auto")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_Manual",              PV_DESC="CMD: Manual Mode")
record(bo, "Tgt-TWDS1000:Proc-YSV-014c:Cmd_Manual")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Manual Mode")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014c_iDB")
	info("plc_variable", "Cmd_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_Force",               PV_DESC="CMD: Force Mode")
record(bo, "Tgt-TWDS1000:Proc-YSV-014c:Cmd_Force")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Force Mode")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014c_iDB")
	info("plc_variable", "Cmd_Force")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_ManuOpen",            PV_DESC="CMD: Manual Open")
record(bo, "Tgt-TWDS1000:Proc-YSV-014c:Cmd_ManuOpen")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Manual Open")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014c_iDB")
	info("plc_variable", "Cmd_ManuOpen")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_ManuClose",           PV_DESC="CMD: Manual Close")
record(bo, "Tgt-TWDS1000:Proc-YSV-014c:Cmd_ManuClose")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Manual Close")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014c_iDB")
	info("plc_variable", "Cmd_ManuClose")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_ForceOpen",           PV_DESC="CMD: Force Open")
record(bo, "Tgt-TWDS1000:Proc-YSV-014c:Cmd_ForceOpen")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Force Open")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014c_iDB")
	info("plc_variable", "Cmd_ForceOpen")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_ForceClose",          PV_DESC="CMD: Force Close")
record(bo, "Tgt-TWDS1000:Proc-YSV-014c:Cmd_ForceClose")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Force Close")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014c_iDB")
	info("plc_variable", "Cmd_ForceClose")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_AckAlarm",            PV_DESC="CMD: Acknowledge Alarm")
record(bo, "Tgt-TWDS1000:Proc-YSV-014c:Cmd_AckAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Acknowledge Alarm")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014c_iDB")
	info("plc_variable", "Cmd_AckAlarm")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_ForceUnlock",         PV_DESC="CMD: Force Unlock Device")
record(bo, "Tgt-TWDS1000:Proc-YSV-014c:Cmd_ForceUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Force Unlock Device")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014c_iDB")
	info("plc_variable", "Cmd_ForceUnlock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevLock",             PV_DESC="CMD: Lock Device")
record(bo, "Tgt-TWDS1000:Proc-YSV-014c:Cmd_DevLock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Lock Device")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014c_iDB")
	info("plc_variable", "Cmd_DevLock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevUnlock",           PV_DESC="CMD: Unlock Device")
record(bo, "Tgt-TWDS1000:Proc-YSV-014c:Cmd_DevUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Unlock Device")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014c_iDB")
	info("plc_variable", "Cmd_DevUnlock")
	info(autosaveFields_pass0, "VAL")
}


############################
#PARAMETER BLOCK
############################
#<<<--- define_parameter_block()

##########
########## Tgt-TWDS1000:Proc-YSV-014c EPICS -> PLC parameters ##########
##########

#Locking mechanism
#<<<--- add_analog("P_Faceplate_LockID",       "DINT",                              PV_DESC="Device ID after Lock")
record(ao, "Tgt-TWDS1000:Proc-YSV-014c:P_Faceplate_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Device ID after Lock")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014c_iDB")
	info("plc_variable", "P_Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_BlockIcon_LockID",       "DINT",                              PV_DESC="Device ID after Blockicon Open")
record(ao, "Tgt-TWDS1000:Proc-YSV-014c:P_BlockIcon_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Device ID after Blockicon Open")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-014c_iDB")
	info("plc_variable", "P_BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}

record(fanout, "Tgt-TWDS1000:Proc-YSV-014c:UploadParametersS") {
	field(LNK1, "Tgt-TWDS1000:Proc-YSV-014c:P_Faceplate_LockID")
	field(LNK2, "Tgt-TWDS1000:Proc-YSV-014c:P_BlockIcon_LockID")
}



##########
########## Tgt-TWDS1000:Proc-YSV-034a ##########
##########
##########

###################################### ICS HWI ###############################################
#############################  ICS Instrument Library     ####################################
##  PLC Sample Code in VersionDog: ICS_LIBRARY_MASTER_PLC                                   ##
##  CCDB device types: ICS_xxxxx                                                            ##
##  EPICS HMI (Block Icons/Faceplates)@ GitLab. Projekt: Cryo / CryogenicsLibrary / CryoLib ##
##                                                                                          ##
##                            ICS_SV - Solenoid On/Off valve                                ##
##                                                                                          ##
##                                                                                          ##
############################         Version: 1.1             ################################
#Author:  Evan Foy
#Date:    12-12-2019
#Version: v1.1
#Changes:
#1. New device, branched from ICS_PV version 1.4.
#2. String message removed, for Beckhoff compatibility.



############################
#STATUS BLOCK
############################
#<<<--- define_status_block()

##########
########## Tgt-TWDS1000:Proc-YSV-034a PLC   -> EPICS status   ##########
##########

#Operation modes
#<<<--- add_digital("OpMode_Auto",             PV_DESC="Operation Mode Auto",       PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-034a:OpMode_Auto")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Operation Mode Auto")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-034a_iDB")
	info("plc_variable", "OpMode_Auto")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("OpMode_Manual",           PV_DESC="Operation Mode Manual",     PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-034a:OpMode_Manual")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Operation Mode Manual")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-034a_iDB")
	info("plc_variable", "OpMode_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("OpMode_Forced",           PV_DESC="Operation Mode Forced",     PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-034a:OpMode_Forced")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Operation Mode Forced")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-034a_iDB")
	info("plc_variable", "OpMode_Forced")
	info(autosaveFields_pass0, "VAL")
}


#Valve physical states
#<<<--- add_digital("Opened",                  PV_DESC="Valve Opened",              PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-034a:Opened")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Valve Opened")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-034a_iDB")
	info("plc_variable", "Opened")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Closed",                  PV_DESC="Valve Closed",              PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-034a:Closed")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Valve Closed")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-034a_iDB")
	info("plc_variable", "Closed")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Solenoid",                PV_DESC="Solenoid energized",        PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-034a:Solenoid")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Solenoid energized")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-034a_iDB")
	info("plc_variable", "Solenoid")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("ValveColor",               "INT",                               PV_DESC="BlockIcon valve color")
record(ai, "Tgt-TWDS1000:Proc-YSV-034a:ValveColor")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "BlockIcon valve color")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-034a_iDB")
	info("plc_variable", "ValveColor")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("SolenoidColor",            "INT",                               PV_DESC="BlockIcon solenoid color")
record(ai, "Tgt-TWDS1000:Proc-YSV-034a:SolenoidColor")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "BlockIcon solenoid color")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-034a_iDB")
	info("plc_variable", "SolenoidColor")
	info(autosaveFields_pass0, "VAL")
}


#Inhibit signals (set by the PLC code, can't be changed by the OPI)
#<<<--- add_digital("Inhibit_Manual",          PV_DESC="Inhibit Manual Mode",       PV_ONAM="InhibitManual",  PV_ZNAM="AllowManual")
record(bi, "Tgt-TWDS1000:Proc-YSV-034a:Inhibit_Manual")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Inhibit Manual Mode")
	field(ONAM, "InhibitManual")
	field(ZNAM, "AllowManual")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-034a_iDB")
	info("plc_variable", "Inhibit_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Force",           PV_DESC="Inhibit Force Mode",        PV_ONAM="InhibitForce",   PV_ZNAM="AllowForce")
record(bi, "Tgt-TWDS1000:Proc-YSV-034a:Inhibit_Force")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Inhibit Force Mode")
	field(ONAM, "InhibitForce")
	field(ZNAM, "AllowForce")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-034a_iDB")
	info("plc_variable", "Inhibit_Force")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Lock",            PV_DESC="Inhibit Locking",           PV_ONAM="InhibitLocking", PV_ZNAM="AllowLocking")
record(bi, "Tgt-TWDS1000:Proc-YSV-034a:Inhibit_Lock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Inhibit Locking")
	field(ONAM, "InhibitLocking")
	field(ZNAM, "AllowLocking")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-034a_iDB")
	info("plc_variable", "Inhibit_Lock")
	info(autosaveFields_pass0, "VAL")
}


#Interlock signals
#<<<--- add_digital("GroupInterlock",          PV_DESC="Group Interlock",           PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-034a:GroupInterlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Group Interlock")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-034a_iDB")
	info("plc_variable", "GroupInterlock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("StartInterlock",          PV_DESC="Start Interlock",           PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-034a:StartInterlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Start Interlock")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-034a_iDB")
	info("plc_variable", "StartInterlock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("StopInterlock",           PV_DESC="Stop Interlock",            PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-034a:StopInterlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Stop Interlock")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-034a_iDB")
	info("plc_variable", "StopInterlock")
	info(autosaveFields_pass0, "VAL")
}


#Block Icon controls
#<<<--- add_digital("EnableBlkOpen",           PV_DESC="Enable Block Open Button",  PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-034a:EnableBlkOpen")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Enable Block Open Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-034a_iDB")
	info("plc_variable", "EnableBlkOpen")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableBlkClose",          PV_DESC="Enable Block Close Button", PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-034a:EnableBlkClose")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Enable Block Close Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-034a_iDB")
	info("plc_variable", "EnableBlkClose")
	info(autosaveFields_pass0, "VAL")
}


#for OPI visualisation
#<<<--- add_digital("EnableAutoBtn",           PV_DESC="Enable Auto Button",        PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-034a:EnableAutoBtn")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Enable Auto Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-034a_iDB")
	info("plc_variable", "EnableAutoBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableManualBtn",         PV_DESC="Enable Manual Button",      PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-034a:EnableManualBtn")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Enable Manual Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-034a_iDB")
	info("plc_variable", "EnableManualBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableForcedBtn",         PV_DESC="Enable Force Button",       PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-034a:EnableForcedBtn")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Enable Force Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-034a_iDB")
	info("plc_variable", "EnableForcedBtn")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_digital("DevLocked",               PV_DESC="Device Locked",             PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-034a:DevLocked")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Device Locked")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-034a_iDB")
	info("plc_variable", "DevLocked")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("Faceplate_LockID",         "DINT",                              PV_DESC="Owner Lock ID")
record(ai, "Tgt-TWDS1000:Proc-YSV-034a:Faceplate_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Owner Lock ID")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-034a_iDB")
	info("plc_variable", "Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("BlockIcon_LockID",         "DINT",                              PV_DESC="Guest Lock ID")
record(ai, "Tgt-TWDS1000:Proc-YSV-034a:BlockIcon_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Guest Lock ID")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-034a_iDB")
	info("plc_variable", "BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}


#Alarm signals
#<<<--- add_major_alarm("LatchAlarm",          "Latching of alarms",                PV_ZNAM="True")
record(bi, "Tgt-TWDS1000:Proc-YSV-034a:LatchAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Latching of alarms")
	field(OSV,  "MAJOR")
	field(ZNAM, "True")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-034a_iDB")
	info("plc_variable", "LatchAlarm")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("GroupAlarm",          "Group Alarm",                       PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Proc-YSV-034a:GroupAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Group Alarm")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-034a_iDB")
	info("plc_variable", "GroupAlarm")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Opening_TimeOut",     "Opening Time Out",                  PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Proc-YSV-034a:Opening_TimeOut")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Opening Time Out")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-034a_iDB")
	info("plc_variable", "Opening_TimeOut")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Closing_TimeOut",     "Closing Time Out",                  PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Proc-YSV-034a:Closing_TimeOut")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Closing Time Out")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-034a_iDB")
	info("plc_variable", "Closing_TimeOut")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("IO_Error",            "IO Error",                          PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Proc-YSV-034a:IO_Error")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "IO Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-034a_iDB")
	info("plc_variable", "IO_Error")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Input_Module_Error",  "HW Input Module Error",             PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Proc-YSV-034a:Input_Module_Error")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "HW Input Module Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-034a_iDB")
	info("plc_variable", "Input_Module_Error")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Output_Module_Error", "HW Output Module Error",            PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Proc-YSV-034a:Output_Module_Error")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "HW Output Module Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-034a_iDB")
	info("plc_variable", "Output_Module_Error")
	info(autosaveFields_pass0, "VAL")
}


#OPI timeouts
#<<<--- add_time("OpeningTime",                PV_DESC="Opening Time")
record(ai, "Tgt-TWDS1000:Proc-YSV-034a:OpeningTime")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Opening Time")
	field(EGU,  "ms")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-034a_iDB")
	info("plc_variable", "OpeningTime")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_time("ClosingTime",                PV_DESC="Closing Time")
record(ai, "Tgt-TWDS1000:Proc-YSV-034a:ClosingTime")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Closing Time")
	field(EGU,  "ms")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-034a_iDB")
	info("plc_variable", "ClosingTime")
	info(autosaveFields_pass0, "VAL")
}


############################
#COMMAND BLOCK
############################
#<<<--- define_command_block()

##########
########## Tgt-TWDS1000:Proc-YSV-034a EPICS -> PLC commands   ##########
##########

#OPI buttons
#<<<--- add_digital("Cmd_Auto",                PV_DESC="CMD: Auto Mode")
record(bo, "Tgt-TWDS1000:Proc-YSV-034a:Cmd_Auto")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Auto Mode")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-034a_iDB")
	info("plc_variable", "Cmd_Auto")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_Manual",              PV_DESC="CMD: Manual Mode")
record(bo, "Tgt-TWDS1000:Proc-YSV-034a:Cmd_Manual")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Manual Mode")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-034a_iDB")
	info("plc_variable", "Cmd_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_Force",               PV_DESC="CMD: Force Mode")
record(bo, "Tgt-TWDS1000:Proc-YSV-034a:Cmd_Force")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Force Mode")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-034a_iDB")
	info("plc_variable", "Cmd_Force")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_ManuOpen",            PV_DESC="CMD: Manual Open")
record(bo, "Tgt-TWDS1000:Proc-YSV-034a:Cmd_ManuOpen")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Manual Open")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-034a_iDB")
	info("plc_variable", "Cmd_ManuOpen")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_ManuClose",           PV_DESC="CMD: Manual Close")
record(bo, "Tgt-TWDS1000:Proc-YSV-034a:Cmd_ManuClose")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Manual Close")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-034a_iDB")
	info("plc_variable", "Cmd_ManuClose")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_ForceOpen",           PV_DESC="CMD: Force Open")
record(bo, "Tgt-TWDS1000:Proc-YSV-034a:Cmd_ForceOpen")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Force Open")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-034a_iDB")
	info("plc_variable", "Cmd_ForceOpen")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_ForceClose",          PV_DESC="CMD: Force Close")
record(bo, "Tgt-TWDS1000:Proc-YSV-034a:Cmd_ForceClose")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Force Close")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-034a_iDB")
	info("plc_variable", "Cmd_ForceClose")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_AckAlarm",            PV_DESC="CMD: Acknowledge Alarm")
record(bo, "Tgt-TWDS1000:Proc-YSV-034a:Cmd_AckAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Acknowledge Alarm")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-034a_iDB")
	info("plc_variable", "Cmd_AckAlarm")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_ForceUnlock",         PV_DESC="CMD: Force Unlock Device")
record(bo, "Tgt-TWDS1000:Proc-YSV-034a:Cmd_ForceUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Force Unlock Device")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-034a_iDB")
	info("plc_variable", "Cmd_ForceUnlock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevLock",             PV_DESC="CMD: Lock Device")
record(bo, "Tgt-TWDS1000:Proc-YSV-034a:Cmd_DevLock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Lock Device")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-034a_iDB")
	info("plc_variable", "Cmd_DevLock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevUnlock",           PV_DESC="CMD: Unlock Device")
record(bo, "Tgt-TWDS1000:Proc-YSV-034a:Cmd_DevUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Unlock Device")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-034a_iDB")
	info("plc_variable", "Cmd_DevUnlock")
	info(autosaveFields_pass0, "VAL")
}


############################
#PARAMETER BLOCK
############################
#<<<--- define_parameter_block()

##########
########## Tgt-TWDS1000:Proc-YSV-034a EPICS -> PLC parameters ##########
##########

#Locking mechanism
#<<<--- add_analog("P_Faceplate_LockID",       "DINT",                              PV_DESC="Device ID after Lock")
record(ao, "Tgt-TWDS1000:Proc-YSV-034a:P_Faceplate_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Device ID after Lock")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-034a_iDB")
	info("plc_variable", "P_Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_BlockIcon_LockID",       "DINT",                              PV_DESC="Device ID after Blockicon Open")
record(ao, "Tgt-TWDS1000:Proc-YSV-034a:P_BlockIcon_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Device ID after Blockicon Open")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-034a_iDB")
	info("plc_variable", "P_BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}

record(fanout, "Tgt-TWDS1000:Proc-YSV-034a:UploadParametersS") {
	field(LNK1, "Tgt-TWDS1000:Proc-YSV-034a:P_Faceplate_LockID")
	field(LNK2, "Tgt-TWDS1000:Proc-YSV-034a:P_BlockIcon_LockID")
}



##########
########## Tgt-TWDS1000:Proc-YSV-034b ##########
##########
##########

###################################### ICS HWI ###############################################
#############################  ICS Instrument Library     ####################################
##  PLC Sample Code in VersionDog: ICS_LIBRARY_MASTER_PLC                                   ##
##  CCDB device types: ICS_xxxxx                                                            ##
##  EPICS HMI (Block Icons/Faceplates)@ GitLab. Projekt: Cryo / CryogenicsLibrary / CryoLib ##
##                                                                                          ##
##                            ICS_SV - Solenoid On/Off valve                                ##
##                                                                                          ##
##                                                                                          ##
############################         Version: 1.1             ################################
#Author:  Evan Foy
#Date:    12-12-2019
#Version: v1.1
#Changes:
#1. New device, branched from ICS_PV version 1.4.
#2. String message removed, for Beckhoff compatibility.



############################
#STATUS BLOCK
############################
#<<<--- define_status_block()

##########
########## Tgt-TWDS1000:Proc-YSV-034b PLC   -> EPICS status   ##########
##########

#Operation modes
#<<<--- add_digital("OpMode_Auto",             PV_DESC="Operation Mode Auto",       PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-034b:OpMode_Auto")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Operation Mode Auto")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-034b_iDB")
	info("plc_variable", "OpMode_Auto")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("OpMode_Manual",           PV_DESC="Operation Mode Manual",     PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-034b:OpMode_Manual")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Operation Mode Manual")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-034b_iDB")
	info("plc_variable", "OpMode_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("OpMode_Forced",           PV_DESC="Operation Mode Forced",     PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-034b:OpMode_Forced")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Operation Mode Forced")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-034b_iDB")
	info("plc_variable", "OpMode_Forced")
	info(autosaveFields_pass0, "VAL")
}


#Valve physical states
#<<<--- add_digital("Opened",                  PV_DESC="Valve Opened",              PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-034b:Opened")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Valve Opened")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-034b_iDB")
	info("plc_variable", "Opened")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Closed",                  PV_DESC="Valve Closed",              PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-034b:Closed")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Valve Closed")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-034b_iDB")
	info("plc_variable", "Closed")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Solenoid",                PV_DESC="Solenoid energized",        PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-034b:Solenoid")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Solenoid energized")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-034b_iDB")
	info("plc_variable", "Solenoid")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("ValveColor",               "INT",                               PV_DESC="BlockIcon valve color")
record(ai, "Tgt-TWDS1000:Proc-YSV-034b:ValveColor")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "BlockIcon valve color")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-034b_iDB")
	info("plc_variable", "ValveColor")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("SolenoidColor",            "INT",                               PV_DESC="BlockIcon solenoid color")
record(ai, "Tgt-TWDS1000:Proc-YSV-034b:SolenoidColor")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "BlockIcon solenoid color")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-034b_iDB")
	info("plc_variable", "SolenoidColor")
	info(autosaveFields_pass0, "VAL")
}


#Inhibit signals (set by the PLC code, can't be changed by the OPI)
#<<<--- add_digital("Inhibit_Manual",          PV_DESC="Inhibit Manual Mode",       PV_ONAM="InhibitManual",  PV_ZNAM="AllowManual")
record(bi, "Tgt-TWDS1000:Proc-YSV-034b:Inhibit_Manual")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Inhibit Manual Mode")
	field(ONAM, "InhibitManual")
	field(ZNAM, "AllowManual")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-034b_iDB")
	info("plc_variable", "Inhibit_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Force",           PV_DESC="Inhibit Force Mode",        PV_ONAM="InhibitForce",   PV_ZNAM="AllowForce")
record(bi, "Tgt-TWDS1000:Proc-YSV-034b:Inhibit_Force")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Inhibit Force Mode")
	field(ONAM, "InhibitForce")
	field(ZNAM, "AllowForce")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-034b_iDB")
	info("plc_variable", "Inhibit_Force")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Lock",            PV_DESC="Inhibit Locking",           PV_ONAM="InhibitLocking", PV_ZNAM="AllowLocking")
record(bi, "Tgt-TWDS1000:Proc-YSV-034b:Inhibit_Lock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Inhibit Locking")
	field(ONAM, "InhibitLocking")
	field(ZNAM, "AllowLocking")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-034b_iDB")
	info("plc_variable", "Inhibit_Lock")
	info(autosaveFields_pass0, "VAL")
}


#Interlock signals
#<<<--- add_digital("GroupInterlock",          PV_DESC="Group Interlock",           PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-034b:GroupInterlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Group Interlock")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-034b_iDB")
	info("plc_variable", "GroupInterlock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("StartInterlock",          PV_DESC="Start Interlock",           PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-034b:StartInterlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Start Interlock")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-034b_iDB")
	info("plc_variable", "StartInterlock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("StopInterlock",           PV_DESC="Stop Interlock",            PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-034b:StopInterlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Stop Interlock")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-034b_iDB")
	info("plc_variable", "StopInterlock")
	info(autosaveFields_pass0, "VAL")
}


#Block Icon controls
#<<<--- add_digital("EnableBlkOpen",           PV_DESC="Enable Block Open Button",  PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-034b:EnableBlkOpen")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Enable Block Open Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-034b_iDB")
	info("plc_variable", "EnableBlkOpen")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableBlkClose",          PV_DESC="Enable Block Close Button", PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-034b:EnableBlkClose")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Enable Block Close Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-034b_iDB")
	info("plc_variable", "EnableBlkClose")
	info(autosaveFields_pass0, "VAL")
}


#for OPI visualisation
#<<<--- add_digital("EnableAutoBtn",           PV_DESC="Enable Auto Button",        PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-034b:EnableAutoBtn")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Enable Auto Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-034b_iDB")
	info("plc_variable", "EnableAutoBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableManualBtn",         PV_DESC="Enable Manual Button",      PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-034b:EnableManualBtn")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Enable Manual Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-034b_iDB")
	info("plc_variable", "EnableManualBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableForcedBtn",         PV_DESC="Enable Force Button",       PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-034b:EnableForcedBtn")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Enable Force Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-034b_iDB")
	info("plc_variable", "EnableForcedBtn")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_digital("DevLocked",               PV_DESC="Device Locked",             PV_ONAM="True",           PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Proc-YSV-034b:DevLocked")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Device Locked")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-034b_iDB")
	info("plc_variable", "DevLocked")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("Faceplate_LockID",         "DINT",                              PV_DESC="Owner Lock ID")
record(ai, "Tgt-TWDS1000:Proc-YSV-034b:Faceplate_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Owner Lock ID")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-034b_iDB")
	info("plc_variable", "Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("BlockIcon_LockID",         "DINT",                              PV_DESC="Guest Lock ID")
record(ai, "Tgt-TWDS1000:Proc-YSV-034b:BlockIcon_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Guest Lock ID")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-034b_iDB")
	info("plc_variable", "BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}


#Alarm signals
#<<<--- add_major_alarm("LatchAlarm",          "Latching of alarms",                PV_ZNAM="True")
record(bi, "Tgt-TWDS1000:Proc-YSV-034b:LatchAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Latching of alarms")
	field(OSV,  "MAJOR")
	field(ZNAM, "True")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-034b_iDB")
	info("plc_variable", "LatchAlarm")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("GroupAlarm",          "Group Alarm",                       PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Proc-YSV-034b:GroupAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Group Alarm")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-034b_iDB")
	info("plc_variable", "GroupAlarm")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Opening_TimeOut",     "Opening Time Out",                  PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Proc-YSV-034b:Opening_TimeOut")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Opening Time Out")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-034b_iDB")
	info("plc_variable", "Opening_TimeOut")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Closing_TimeOut",     "Closing Time Out",                  PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Proc-YSV-034b:Closing_TimeOut")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Closing Time Out")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-034b_iDB")
	info("plc_variable", "Closing_TimeOut")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("IO_Error",            "IO Error",                          PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Proc-YSV-034b:IO_Error")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "IO Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-034b_iDB")
	info("plc_variable", "IO_Error")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Input_Module_Error",  "HW Input Module Error",             PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Proc-YSV-034b:Input_Module_Error")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "HW Input Module Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-034b_iDB")
	info("plc_variable", "Input_Module_Error")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Output_Module_Error", "HW Output Module Error",            PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Proc-YSV-034b:Output_Module_Error")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "HW Output Module Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-034b_iDB")
	info("plc_variable", "Output_Module_Error")
	info(autosaveFields_pass0, "VAL")
}


#OPI timeouts
#<<<--- add_time("OpeningTime",                PV_DESC="Opening Time")
record(ai, "Tgt-TWDS1000:Proc-YSV-034b:OpeningTime")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Opening Time")
	field(EGU,  "ms")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-034b_iDB")
	info("plc_variable", "OpeningTime")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_time("ClosingTime",                PV_DESC="Closing Time")
record(ai, "Tgt-TWDS1000:Proc-YSV-034b:ClosingTime")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Closing Time")
	field(EGU,  "ms")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-034b_iDB")
	info("plc_variable", "ClosingTime")
	info(autosaveFields_pass0, "VAL")
}


############################
#COMMAND BLOCK
############################
#<<<--- define_command_block()

##########
########## Tgt-TWDS1000:Proc-YSV-034b EPICS -> PLC commands   ##########
##########

#OPI buttons
#<<<--- add_digital("Cmd_Auto",                PV_DESC="CMD: Auto Mode")
record(bo, "Tgt-TWDS1000:Proc-YSV-034b:Cmd_Auto")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Auto Mode")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-034b_iDB")
	info("plc_variable", "Cmd_Auto")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_Manual",              PV_DESC="CMD: Manual Mode")
record(bo, "Tgt-TWDS1000:Proc-YSV-034b:Cmd_Manual")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Manual Mode")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-034b_iDB")
	info("plc_variable", "Cmd_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_Force",               PV_DESC="CMD: Force Mode")
record(bo, "Tgt-TWDS1000:Proc-YSV-034b:Cmd_Force")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Force Mode")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-034b_iDB")
	info("plc_variable", "Cmd_Force")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_ManuOpen",            PV_DESC="CMD: Manual Open")
record(bo, "Tgt-TWDS1000:Proc-YSV-034b:Cmd_ManuOpen")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Manual Open")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-034b_iDB")
	info("plc_variable", "Cmd_ManuOpen")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_ManuClose",           PV_DESC="CMD: Manual Close")
record(bo, "Tgt-TWDS1000:Proc-YSV-034b:Cmd_ManuClose")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Manual Close")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-034b_iDB")
	info("plc_variable", "Cmd_ManuClose")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_ForceOpen",           PV_DESC="CMD: Force Open")
record(bo, "Tgt-TWDS1000:Proc-YSV-034b:Cmd_ForceOpen")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Force Open")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-034b_iDB")
	info("plc_variable", "Cmd_ForceOpen")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_ForceClose",          PV_DESC="CMD: Force Close")
record(bo, "Tgt-TWDS1000:Proc-YSV-034b:Cmd_ForceClose")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Force Close")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-034b_iDB")
	info("plc_variable", "Cmd_ForceClose")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_AckAlarm",            PV_DESC="CMD: Acknowledge Alarm")
record(bo, "Tgt-TWDS1000:Proc-YSV-034b:Cmd_AckAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Acknowledge Alarm")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-034b_iDB")
	info("plc_variable", "Cmd_AckAlarm")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_ForceUnlock",         PV_DESC="CMD: Force Unlock Device")
record(bo, "Tgt-TWDS1000:Proc-YSV-034b:Cmd_ForceUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Force Unlock Device")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-034b_iDB")
	info("plc_variable", "Cmd_ForceUnlock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevLock",             PV_DESC="CMD: Lock Device")
record(bo, "Tgt-TWDS1000:Proc-YSV-034b:Cmd_DevLock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Lock Device")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-034b_iDB")
	info("plc_variable", "Cmd_DevLock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevUnlock",           PV_DESC="CMD: Unlock Device")
record(bo, "Tgt-TWDS1000:Proc-YSV-034b:Cmd_DevUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Unlock Device")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-034b_iDB")
	info("plc_variable", "Cmd_DevUnlock")
	info(autosaveFields_pass0, "VAL")
}


############################
#PARAMETER BLOCK
############################
#<<<--- define_parameter_block()

##########
########## Tgt-TWDS1000:Proc-YSV-034b EPICS -> PLC parameters ##########
##########

#Locking mechanism
#<<<--- add_analog("P_Faceplate_LockID",       "DINT",                              PV_DESC="Device ID after Lock")
record(ao, "Tgt-TWDS1000:Proc-YSV-034b:P_Faceplate_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Device ID after Lock")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-034b_iDB")
	info("plc_variable", "P_Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_BlockIcon_LockID",       "DINT",                              PV_DESC="Device ID after Blockicon Open")
record(ao, "Tgt-TWDS1000:Proc-YSV-034b:P_BlockIcon_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Device ID after Blockicon Open")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Proc-YSV-034b_iDB")
	info("plc_variable", "P_BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}

record(fanout, "Tgt-TWDS1000:Proc-YSV-034b:UploadParametersS") {
	field(LNK1, "Tgt-TWDS1000:Proc-YSV-034b:P_Faceplate_LockID")
	field(LNK2, "Tgt-TWDS1000:Proc-YSV-034b:P_BlockIcon_LockID")
}



##########
########## Tgt-TWDS1000:Mech-BA-011x ##########
##########
##########

###################################### ICS HWI ###############################################
#############################  ICS Instrument Library     ####################################
##  PLC Sample Code in VersionDog: ICS_LIBRARY_MASTER_PLC                                   ##
##  CCDB device types: ICS_xxxxx                                                            ##
##  EPICS HMI (Block Icons/Faceplates)@ GitLab. Projekt: Cryo / CryogenicsLibrary / CryoLib ##
##                                                                                          ##
##                         VME - Vibration accelerometer in m/s2                            ##
##                                                                                          ##
##                                                                                          ##
############################         Version: 1.3             ################################
#Author:  Miklos Boros
#Date:    27-05-2019
#Version: v1.3
#Changes:
#1. Variable Name Unification
############################         Version: 1.0, 1.1, 1.2             ######################
#Author:  Miklos Boros
#Date:    28-02-2019
#Version: v1.2
#Changes:
#1. Major review,
#2. Indent,  unit standardization



############################
#STATUS BLOCK
############################
#<<<--- define_status_block()

##########
########## Tgt-TWDS1000:Mech-BA-011x PLC   -> EPICS status   ##########
##########

#Operation modes
#<<<--- add_digital("OpMode_FreeRun",          PV_DESC="Operation Mode FreeRun", PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Mech-BA-011x:OpMode_FreeRun")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Operation Mode FreeRun")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-011x_iDB")
	info("plc_variable", "OpMode_FreeRun")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("OpMode_Forced",           PV_DESC="Operation Mode Forced",  PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Mech-BA-011x:OpMode_Forced")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Operation Mode Forced")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-011x_iDB")
	info("plc_variable", "OpMode_Forced")
	info(autosaveFields_pass0, "VAL")
}


#Inhibit signals (set by the PLC code, can't be changed by the OPI)
#<<<--- add_digital("Inhibit_Manual",          PV_DESC="Inhibit Manual Mode",    PV_ONAM="InhibitManual",              PV_ZNAM="AllowManual")
record(bi, "Tgt-TWDS1000:Mech-BA-011x:Inhibit_Manual")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Inhibit Manual Mode")
	field(ONAM, "InhibitManual")
	field(ZNAM, "AllowManual")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-011x_iDB")
	info("plc_variable", "Inhibit_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Force",           PV_DESC="Inhibit Force Mode",     PV_ONAM="InhibitForce",               PV_ZNAM="AllowForce")
record(bi, "Tgt-TWDS1000:Mech-BA-011x:Inhibit_Force")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Inhibit Force Mode")
	field(ONAM, "InhibitForce")
	field(ZNAM, "AllowForce")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-011x_iDB")
	info("plc_variable", "Inhibit_Force")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Lock",            PV_DESC="Inhibit Locking",        PV_ONAM="InhibitLocking",             PV_ZNAM="AllowLocking")
record(bi, "Tgt-TWDS1000:Mech-BA-011x:Inhibit_Lock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Inhibit Locking")
	field(ONAM, "InhibitLocking")
	field(ZNAM, "AllowLocking")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-011x_iDB")
	info("plc_variable", "Inhibit_Lock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("TransmitterColor",         "INT",                            PV_DESC="Transmitter color")
record(ai, "Tgt-TWDS1000:Mech-BA-011x:TransmitterColor")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Transmitter color")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-011x_iDB")
	info("plc_variable", "TransmitterColor")
	info(autosaveFields_pass0, "VAL")
}


#for OPI visualization
#<<<--- add_digital("EnableFreeRunBtn",        PV_DESC="Enable Free Run Button", PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Mech-BA-011x:EnableFreeRunBtn")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Enable Free Run Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-011x_iDB")
	info("plc_variable", "EnableFreeRunBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableForcedBtn",         PV_DESC="Enable Force Button",    PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Mech-BA-011x:EnableForcedBtn")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Enable Force Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-011x_iDB")
	info("plc_variable", "EnableForcedBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableManualBtn",         PV_DESC="Enable Manual Button",   PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Mech-BA-011x:EnableManualBtn")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Enable Manual Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-011x_iDB")
	info("plc_variable", "EnableManualBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("ScaleLOW",                 "REAL",                           PV_DESC="Scale LOW",                  PV_EGU="m/s2")
record(ai, "Tgt-TWDS1000:Mech-BA-011x:ScaleLOW")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Scale LOW")
	field(EGU,  "m/s2")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-011x_iDB")
	info("plc_variable", "ScaleLOW")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("ScaleHIGH",                "REAL",                           PV_DESC="Scale HIGH",                 PV_EGU="m/s2")
record(ai, "Tgt-TWDS1000:Mech-BA-011x:ScaleHIGH")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Scale HIGH")
	field(EGU,  "m/s2")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-011x_iDB")
	info("plc_variable", "ScaleHIGH")
	info(autosaveFields_pass0, "VAL")
}


#Transmitter value
#<<<--- add_analog("MeasValue",                "REAL",                           PV_DESC="Acceleration Value",         PV_EGU="m/s2")
record(ai, "Tgt-TWDS1000:Mech-BA-011x:MeasValue")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Acceleration Value")
	field(EGU,  "m/s2")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-011x_iDB")
	info("plc_variable", "MeasValue")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_digital("DevLocked",               PV_DESC="Device Locked",          PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Mech-BA-011x:DevLocked")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Device Locked")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-011x_iDB")
	info("plc_variable", "DevLocked")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("Faceplate_LockID",         "DINT",                           PV_DESC="Owner Lock ID")
record(ai, "Tgt-TWDS1000:Mech-BA-011x:Faceplate_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Owner Lock ID")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-011x_iDB")
	info("plc_variable", "Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("BlockIcon_LockID",         "DINT",                           PV_DESC="Guest Lock ID")
record(ai, "Tgt-TWDS1000:Mech-BA-011x:BlockIcon_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Guest Lock ID")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-011x_iDB")
	info("plc_variable", "BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}


#Alarm signals
#<<<--- add_major_alarm("LatchAlarm",          "Latching of alarms",             PV_ZNAM="True")
record(bi, "Tgt-TWDS1000:Mech-BA-011x:LatchAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Latching of alarms")
	field(OSV,  "MAJOR")
	field(ZNAM, "True")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-011x_iDB")
	info("plc_variable", "LatchAlarm")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("GroupAlarm",          "GroupAlarm",                     PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-BA-011x:GroupAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "GroupAlarm")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-011x_iDB")
	info("plc_variable", "GroupAlarm")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Underrange",          "Temperature Underrange",         PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-BA-011x:Underrange")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Temperature Underrange")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-011x_iDB")
	info("plc_variable", "Underrange")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Overrange",           "Temperature Overrange",          PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-BA-011x:Overrange")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Temperature Overrange")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-011x_iDB")
	info("plc_variable", "Overrange")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("HIHI",                "Temperature HIHI",               PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-BA-011x:HIHI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Temperature HIHI")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-011x_iDB")
	info("plc_variable", "HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_minor_alarm("HI",                  "Temperature HI",                 PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-BA-011x:HI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Temperature HI")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-011x_iDB")
	info("plc_variable", "HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_minor_alarm("LO",                  "Temperature LO",                 PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-BA-011x:LO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Temperature LO")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-011x_iDB")
	info("plc_variable", "LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("LOLO",                "Temperature LOLO",               PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-BA-011x:LOLO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Temperature LOLO")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-011x_iDB")
	info("plc_variable", "LOLO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("IO_Error",            "IO_Error",                       PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-BA-011x:IO_Error")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "IO_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-011x_iDB")
	info("plc_variable", "IO_Error")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Module_Error",        "Module_Error",                   PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-BA-011x:Module_Error")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Module_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-011x_iDB")
	info("plc_variable", "Module_Error")
	info(autosaveFields_pass0, "VAL")
}


#Feedback
#<<<--- add_analog("FB_ForceValue",            "REAL",                           PV_DESC="Feedback Force Temperature", PV_EGU="m/s2")
record(ai, "Tgt-TWDS1000:Mech-BA-011x:FB_ForceValue")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Feedback Force Temperature")
	field(EGU,  "m/s2")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-011x_iDB")
	info("plc_variable", "FB_ForceValue")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_HIHI",            "REAL",                           PV_DESC="Feedback Limit HIHI",        PV_EGU="m/s2")
record(ai, "Tgt-TWDS1000:Mech-BA-011x:FB_Limit_HIHI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Feedback Limit HIHI")
	field(EGU,  "m/s2")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-011x_iDB")
	info("plc_variable", "FB_Limit_HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_HI",              "REAL",                           PV_DESC="Feedback Limit HI",          PV_EGU="m/s2")
record(ai, "Tgt-TWDS1000:Mech-BA-011x:FB_Limit_HI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Feedback Limit HI")
	field(EGU,  "m/s2")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-011x_iDB")
	info("plc_variable", "FB_Limit_HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_LO",              "REAL",                           PV_DESC="Feedback Limit LO",          PV_EGU="m/s2")
record(ai, "Tgt-TWDS1000:Mech-BA-011x:FB_Limit_LO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Feedback Limit LO")
	field(EGU,  "m/s2")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-011x_iDB")
	info("plc_variable", "FB_Limit_LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_LOLO",            "REAL",                           PV_DESC="Feedback Limit LOLO",        PV_EGU="m/s2")
record(ai, "Tgt-TWDS1000:Mech-BA-011x:FB_Limit_LOLO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Feedback Limit LOLO")
	field(EGU,  "m/s2")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-011x_iDB")
	info("plc_variable", "FB_Limit_LOLO")
	info(autosaveFields_pass0, "VAL")
}



############################
#COMMAND BLOCK
############################
#<<<--- define_command_block()

##########
########## Tgt-TWDS1000:Mech-BA-011x EPICS -> PLC commands   ##########
##########

#OPI buttons
#<<<--- add_digital("Cmd_FreeRun",             PV_DESC="CMD: FreeRun Mode")
record(bo, "Tgt-TWDS1000:Mech-BA-011x:Cmd_FreeRun")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: FreeRun Mode")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-011x_iDB")
	info("plc_variable", "Cmd_FreeRun")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_Force",               PV_DESC="CMD: Force Mode")
record(bo, "Tgt-TWDS1000:Mech-BA-011x:Cmd_Force")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Force Mode")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-011x_iDB")
	info("plc_variable", "Cmd_Force")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_ForceVal",            PV_DESC="CMD: Force Value")
record(bo, "Tgt-TWDS1000:Mech-BA-011x:Cmd_ForceVal")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Force Value")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-011x_iDB")
	info("plc_variable", "Cmd_ForceVal")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_AckAlarm",            PV_DESC="CMD: Acknowledge Alarm")
record(bo, "Tgt-TWDS1000:Mech-BA-011x:Cmd_AckAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Acknowledge Alarm")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-011x_iDB")
	info("plc_variable", "Cmd_AckAlarm")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_ForceUnlock",         PV_DESC="CMD: Force Unlock Device")
record(bo, "Tgt-TWDS1000:Mech-BA-011x:Cmd_ForceUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Force Unlock Device")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-011x_iDB")
	info("plc_variable", "Cmd_ForceUnlock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevLock",             PV_DESC="CMD: Lock Device")
record(bo, "Tgt-TWDS1000:Mech-BA-011x:Cmd_DevLock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Lock Device")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-011x_iDB")
	info("plc_variable", "Cmd_DevLock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevUnlock",           PV_DESC="CMD: Unlock Device")
record(bo, "Tgt-TWDS1000:Mech-BA-011x:Cmd_DevUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Unlock Device")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-011x_iDB")
	info("plc_variable", "Cmd_DevUnlock")
	info(autosaveFields_pass0, "VAL")
}


############################
#PARAMETER BLOCK
############################
#<<<--- define_parameter_block()

##########
########## Tgt-TWDS1000:Mech-BA-011x EPICS -> PLC parameters ##########
##########

#Limits
#<<<--- add_analog("P_Limit_HIHI",             "REAL",                           PV_DESC="Limit HIHI",                 PV_EGU="m/s2")
record(ao, "Tgt-TWDS1000:Mech-BA-011x:P_Limit_HIHI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Limit HIHI")
	field(EGU,  "m/s2")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-011x_iDB")
	info("plc_variable", "P_Limit_HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_HI",               "REAL",                           PV_DESC="Limit HI",                   PV_EGU="m/s2")
record(ao, "Tgt-TWDS1000:Mech-BA-011x:P_Limit_HI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Limit HI")
	field(EGU,  "m/s2")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-011x_iDB")
	info("plc_variable", "P_Limit_HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_LO",               "REAL",                           PV_DESC="Limit LO",                   PV_EGU="m/s2")
record(ao, "Tgt-TWDS1000:Mech-BA-011x:P_Limit_LO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Limit LO")
	field(EGU,  "m/s2")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-011x_iDB")
	info("plc_variable", "P_Limit_LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_LOLO",             "REAL",                           PV_DESC="Limit LOLO",                 PV_EGU="m/s2")
record(ao, "Tgt-TWDS1000:Mech-BA-011x:P_Limit_LOLO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Limit LOLO")
	field(EGU,  "m/s2")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-011x_iDB")
	info("plc_variable", "P_Limit_LOLO")
	info(autosaveFields_pass0, "VAL")
}


#Forcing
#<<<--- add_analog("P_ForceValue",             "REAL",                           PV_DESC="Force Temperature",          PV_EGU="m/s2")
record(ao, "Tgt-TWDS1000:Mech-BA-011x:P_ForceValue")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Force Temperature")
	field(EGU,  "m/s2")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-011x_iDB")
	info("plc_variable", "P_ForceValue")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_analog("P_Faceplate_LockID",       "DINT",                           PV_DESC="Device ID after Lock")
record(ao, "Tgt-TWDS1000:Mech-BA-011x:P_Faceplate_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Device ID after Lock")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-011x_iDB")
	info("plc_variable", "P_Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_BlockIcon_LockID",       "DINT",                           PV_DESC="Device ID after Blockicon Open")
record(ao, "Tgt-TWDS1000:Mech-BA-011x:P_BlockIcon_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Device ID after Blockicon Open")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-011x_iDB")
	info("plc_variable", "P_BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}

record(fanout, "Tgt-TWDS1000:Mech-BA-011x:UploadParametersS") {
	field(LNK1, "Tgt-TWDS1000:Mech-BA-011x:P_Limit_HIHI")
	field(LNK2, "Tgt-TWDS1000:Mech-BA-011x:P_Limit_HI")
	field(LNK3, "Tgt-TWDS1000:Mech-BA-011x:P_Limit_LO")
	field(LNK4, "Tgt-TWDS1000:Mech-BA-011x:P_Limit_LOLO")
	field(LNK5, "Tgt-TWDS1000:Mech-BA-011x:P_ForceValue")
	field(LNK6, "Tgt-TWDS1000:Mech-BA-011x:_UploadParamS1-FO")
}
record(fanout, "Tgt-TWDS1000:Mech-BA-011x:_UploadParamS1-FO") {
	field(LNK1, "Tgt-TWDS1000:Mech-BA-011x:P_Faceplate_LockID")
	field(LNK2, "Tgt-TWDS1000:Mech-BA-011x:P_BlockIcon_LockID")
}



##########
########## Tgt-TWDS1000:Mech-BA-011y ##########
##########
##########

###################################### ICS HWI ###############################################
#############################  ICS Instrument Library     ####################################
##  PLC Sample Code in VersionDog: ICS_LIBRARY_MASTER_PLC                                   ##
##  CCDB device types: ICS_xxxxx                                                            ##
##  EPICS HMI (Block Icons/Faceplates)@ GitLab. Projekt: Cryo / CryogenicsLibrary / CryoLib ##
##                                                                                          ##
##                         VME - Vibration accelerometer in m/s2                            ##
##                                                                                          ##
##                                                                                          ##
############################         Version: 1.3             ################################
#Author:  Miklos Boros
#Date:    27-05-2019
#Version: v1.3
#Changes:
#1. Variable Name Unification
############################         Version: 1.0, 1.1, 1.2             ######################
#Author:  Miklos Boros
#Date:    28-02-2019
#Version: v1.2
#Changes:
#1. Major review,
#2. Indent,  unit standardization



############################
#STATUS BLOCK
############################
#<<<--- define_status_block()

##########
########## Tgt-TWDS1000:Mech-BA-011y PLC   -> EPICS status   ##########
##########

#Operation modes
#<<<--- add_digital("OpMode_FreeRun",          PV_DESC="Operation Mode FreeRun", PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Mech-BA-011y:OpMode_FreeRun")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Operation Mode FreeRun")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-011y_iDB")
	info("plc_variable", "OpMode_FreeRun")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("OpMode_Forced",           PV_DESC="Operation Mode Forced",  PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Mech-BA-011y:OpMode_Forced")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Operation Mode Forced")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-011y_iDB")
	info("plc_variable", "OpMode_Forced")
	info(autosaveFields_pass0, "VAL")
}


#Inhibit signals (set by the PLC code, can't be changed by the OPI)
#<<<--- add_digital("Inhibit_Manual",          PV_DESC="Inhibit Manual Mode",    PV_ONAM="InhibitManual",              PV_ZNAM="AllowManual")
record(bi, "Tgt-TWDS1000:Mech-BA-011y:Inhibit_Manual")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Inhibit Manual Mode")
	field(ONAM, "InhibitManual")
	field(ZNAM, "AllowManual")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-011y_iDB")
	info("plc_variable", "Inhibit_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Force",           PV_DESC="Inhibit Force Mode",     PV_ONAM="InhibitForce",               PV_ZNAM="AllowForce")
record(bi, "Tgt-TWDS1000:Mech-BA-011y:Inhibit_Force")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Inhibit Force Mode")
	field(ONAM, "InhibitForce")
	field(ZNAM, "AllowForce")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-011y_iDB")
	info("plc_variable", "Inhibit_Force")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Lock",            PV_DESC="Inhibit Locking",        PV_ONAM="InhibitLocking",             PV_ZNAM="AllowLocking")
record(bi, "Tgt-TWDS1000:Mech-BA-011y:Inhibit_Lock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Inhibit Locking")
	field(ONAM, "InhibitLocking")
	field(ZNAM, "AllowLocking")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-011y_iDB")
	info("plc_variable", "Inhibit_Lock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("TransmitterColor",         "INT",                            PV_DESC="Transmitter color")
record(ai, "Tgt-TWDS1000:Mech-BA-011y:TransmitterColor")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Transmitter color")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-011y_iDB")
	info("plc_variable", "TransmitterColor")
	info(autosaveFields_pass0, "VAL")
}


#for OPI visualization
#<<<--- add_digital("EnableFreeRunBtn",        PV_DESC="Enable Free Run Button", PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Mech-BA-011y:EnableFreeRunBtn")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Enable Free Run Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-011y_iDB")
	info("plc_variable", "EnableFreeRunBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableForcedBtn",         PV_DESC="Enable Force Button",    PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Mech-BA-011y:EnableForcedBtn")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Enable Force Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-011y_iDB")
	info("plc_variable", "EnableForcedBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableManualBtn",         PV_DESC="Enable Manual Button",   PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Mech-BA-011y:EnableManualBtn")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Enable Manual Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-011y_iDB")
	info("plc_variable", "EnableManualBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("ScaleLOW",                 "REAL",                           PV_DESC="Scale LOW",                  PV_EGU="m/s2")
record(ai, "Tgt-TWDS1000:Mech-BA-011y:ScaleLOW")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Scale LOW")
	field(EGU,  "m/s2")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-011y_iDB")
	info("plc_variable", "ScaleLOW")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("ScaleHIGH",                "REAL",                           PV_DESC="Scale HIGH",                 PV_EGU="m/s2")
record(ai, "Tgt-TWDS1000:Mech-BA-011y:ScaleHIGH")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Scale HIGH")
	field(EGU,  "m/s2")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-011y_iDB")
	info("plc_variable", "ScaleHIGH")
	info(autosaveFields_pass0, "VAL")
}


#Transmitter value
#<<<--- add_analog("MeasValue",                "REAL",                           PV_DESC="Acceleration Value",         PV_EGU="m/s2")
record(ai, "Tgt-TWDS1000:Mech-BA-011y:MeasValue")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Acceleration Value")
	field(EGU,  "m/s2")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-011y_iDB")
	info("plc_variable", "MeasValue")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_digital("DevLocked",               PV_DESC="Device Locked",          PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Mech-BA-011y:DevLocked")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Device Locked")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-011y_iDB")
	info("plc_variable", "DevLocked")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("Faceplate_LockID",         "DINT",                           PV_DESC="Owner Lock ID")
record(ai, "Tgt-TWDS1000:Mech-BA-011y:Faceplate_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Owner Lock ID")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-011y_iDB")
	info("plc_variable", "Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("BlockIcon_LockID",         "DINT",                           PV_DESC="Guest Lock ID")
record(ai, "Tgt-TWDS1000:Mech-BA-011y:BlockIcon_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Guest Lock ID")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-011y_iDB")
	info("plc_variable", "BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}


#Alarm signals
#<<<--- add_major_alarm("LatchAlarm",          "Latching of alarms",             PV_ZNAM="True")
record(bi, "Tgt-TWDS1000:Mech-BA-011y:LatchAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Latching of alarms")
	field(OSV,  "MAJOR")
	field(ZNAM, "True")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-011y_iDB")
	info("plc_variable", "LatchAlarm")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("GroupAlarm",          "GroupAlarm",                     PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-BA-011y:GroupAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "GroupAlarm")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-011y_iDB")
	info("plc_variable", "GroupAlarm")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Underrange",          "Temperature Underrange",         PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-BA-011y:Underrange")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Temperature Underrange")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-011y_iDB")
	info("plc_variable", "Underrange")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Overrange",           "Temperature Overrange",          PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-BA-011y:Overrange")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Temperature Overrange")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-011y_iDB")
	info("plc_variable", "Overrange")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("HIHI",                "Temperature HIHI",               PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-BA-011y:HIHI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Temperature HIHI")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-011y_iDB")
	info("plc_variable", "HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_minor_alarm("HI",                  "Temperature HI",                 PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-BA-011y:HI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Temperature HI")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-011y_iDB")
	info("plc_variable", "HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_minor_alarm("LO",                  "Temperature LO",                 PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-BA-011y:LO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Temperature LO")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-011y_iDB")
	info("plc_variable", "LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("LOLO",                "Temperature LOLO",               PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-BA-011y:LOLO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Temperature LOLO")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-011y_iDB")
	info("plc_variable", "LOLO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("IO_Error",            "IO_Error",                       PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-BA-011y:IO_Error")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "IO_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-011y_iDB")
	info("plc_variable", "IO_Error")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Module_Error",        "Module_Error",                   PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-BA-011y:Module_Error")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Module_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-011y_iDB")
	info("plc_variable", "Module_Error")
	info(autosaveFields_pass0, "VAL")
}


#Feedback
#<<<--- add_analog("FB_ForceValue",            "REAL",                           PV_DESC="Feedback Force Temperature", PV_EGU="m/s2")
record(ai, "Tgt-TWDS1000:Mech-BA-011y:FB_ForceValue")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Feedback Force Temperature")
	field(EGU,  "m/s2")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-011y_iDB")
	info("plc_variable", "FB_ForceValue")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_HIHI",            "REAL",                           PV_DESC="Feedback Limit HIHI",        PV_EGU="m/s2")
record(ai, "Tgt-TWDS1000:Mech-BA-011y:FB_Limit_HIHI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Feedback Limit HIHI")
	field(EGU,  "m/s2")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-011y_iDB")
	info("plc_variable", "FB_Limit_HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_HI",              "REAL",                           PV_DESC="Feedback Limit HI",          PV_EGU="m/s2")
record(ai, "Tgt-TWDS1000:Mech-BA-011y:FB_Limit_HI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Feedback Limit HI")
	field(EGU,  "m/s2")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-011y_iDB")
	info("plc_variable", "FB_Limit_HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_LO",              "REAL",                           PV_DESC="Feedback Limit LO",          PV_EGU="m/s2")
record(ai, "Tgt-TWDS1000:Mech-BA-011y:FB_Limit_LO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Feedback Limit LO")
	field(EGU,  "m/s2")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-011y_iDB")
	info("plc_variable", "FB_Limit_LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_LOLO",            "REAL",                           PV_DESC="Feedback Limit LOLO",        PV_EGU="m/s2")
record(ai, "Tgt-TWDS1000:Mech-BA-011y:FB_Limit_LOLO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Feedback Limit LOLO")
	field(EGU,  "m/s2")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-011y_iDB")
	info("plc_variable", "FB_Limit_LOLO")
	info(autosaveFields_pass0, "VAL")
}



############################
#COMMAND BLOCK
############################
#<<<--- define_command_block()

##########
########## Tgt-TWDS1000:Mech-BA-011y EPICS -> PLC commands   ##########
##########

#OPI buttons
#<<<--- add_digital("Cmd_FreeRun",             PV_DESC="CMD: FreeRun Mode")
record(bo, "Tgt-TWDS1000:Mech-BA-011y:Cmd_FreeRun")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: FreeRun Mode")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-011y_iDB")
	info("plc_variable", "Cmd_FreeRun")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_Force",               PV_DESC="CMD: Force Mode")
record(bo, "Tgt-TWDS1000:Mech-BA-011y:Cmd_Force")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Force Mode")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-011y_iDB")
	info("plc_variable", "Cmd_Force")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_ForceVal",            PV_DESC="CMD: Force Value")
record(bo, "Tgt-TWDS1000:Mech-BA-011y:Cmd_ForceVal")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Force Value")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-011y_iDB")
	info("plc_variable", "Cmd_ForceVal")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_AckAlarm",            PV_DESC="CMD: Acknowledge Alarm")
record(bo, "Tgt-TWDS1000:Mech-BA-011y:Cmd_AckAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Acknowledge Alarm")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-011y_iDB")
	info("plc_variable", "Cmd_AckAlarm")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_ForceUnlock",         PV_DESC="CMD: Force Unlock Device")
record(bo, "Tgt-TWDS1000:Mech-BA-011y:Cmd_ForceUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Force Unlock Device")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-011y_iDB")
	info("plc_variable", "Cmd_ForceUnlock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevLock",             PV_DESC="CMD: Lock Device")
record(bo, "Tgt-TWDS1000:Mech-BA-011y:Cmd_DevLock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Lock Device")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-011y_iDB")
	info("plc_variable", "Cmd_DevLock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevUnlock",           PV_DESC="CMD: Unlock Device")
record(bo, "Tgt-TWDS1000:Mech-BA-011y:Cmd_DevUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Unlock Device")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-011y_iDB")
	info("plc_variable", "Cmd_DevUnlock")
	info(autosaveFields_pass0, "VAL")
}


############################
#PARAMETER BLOCK
############################
#<<<--- define_parameter_block()

##########
########## Tgt-TWDS1000:Mech-BA-011y EPICS -> PLC parameters ##########
##########

#Limits
#<<<--- add_analog("P_Limit_HIHI",             "REAL",                           PV_DESC="Limit HIHI",                 PV_EGU="m/s2")
record(ao, "Tgt-TWDS1000:Mech-BA-011y:P_Limit_HIHI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Limit HIHI")
	field(EGU,  "m/s2")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-011y_iDB")
	info("plc_variable", "P_Limit_HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_HI",               "REAL",                           PV_DESC="Limit HI",                   PV_EGU="m/s2")
record(ao, "Tgt-TWDS1000:Mech-BA-011y:P_Limit_HI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Limit HI")
	field(EGU,  "m/s2")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-011y_iDB")
	info("plc_variable", "P_Limit_HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_LO",               "REAL",                           PV_DESC="Limit LO",                   PV_EGU="m/s2")
record(ao, "Tgt-TWDS1000:Mech-BA-011y:P_Limit_LO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Limit LO")
	field(EGU,  "m/s2")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-011y_iDB")
	info("plc_variable", "P_Limit_LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_LOLO",             "REAL",                           PV_DESC="Limit LOLO",                 PV_EGU="m/s2")
record(ao, "Tgt-TWDS1000:Mech-BA-011y:P_Limit_LOLO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Limit LOLO")
	field(EGU,  "m/s2")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-011y_iDB")
	info("plc_variable", "P_Limit_LOLO")
	info(autosaveFields_pass0, "VAL")
}


#Forcing
#<<<--- add_analog("P_ForceValue",             "REAL",                           PV_DESC="Force Temperature",          PV_EGU="m/s2")
record(ao, "Tgt-TWDS1000:Mech-BA-011y:P_ForceValue")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Force Temperature")
	field(EGU,  "m/s2")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-011y_iDB")
	info("plc_variable", "P_ForceValue")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_analog("P_Faceplate_LockID",       "DINT",                           PV_DESC="Device ID after Lock")
record(ao, "Tgt-TWDS1000:Mech-BA-011y:P_Faceplate_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Device ID after Lock")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-011y_iDB")
	info("plc_variable", "P_Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_BlockIcon_LockID",       "DINT",                           PV_DESC="Device ID after Blockicon Open")
record(ao, "Tgt-TWDS1000:Mech-BA-011y:P_BlockIcon_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Device ID after Blockicon Open")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-011y_iDB")
	info("plc_variable", "P_BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}

record(fanout, "Tgt-TWDS1000:Mech-BA-011y:UploadParametersS") {
	field(LNK1, "Tgt-TWDS1000:Mech-BA-011y:P_Limit_HIHI")
	field(LNK2, "Tgt-TWDS1000:Mech-BA-011y:P_Limit_HI")
	field(LNK3, "Tgt-TWDS1000:Mech-BA-011y:P_Limit_LO")
	field(LNK4, "Tgt-TWDS1000:Mech-BA-011y:P_Limit_LOLO")
	field(LNK5, "Tgt-TWDS1000:Mech-BA-011y:P_ForceValue")
	field(LNK6, "Tgt-TWDS1000:Mech-BA-011y:_UploadParamS1-FO")
}
record(fanout, "Tgt-TWDS1000:Mech-BA-011y:_UploadParamS1-FO") {
	field(LNK1, "Tgt-TWDS1000:Mech-BA-011y:P_Faceplate_LockID")
	field(LNK2, "Tgt-TWDS1000:Mech-BA-011y:P_BlockIcon_LockID")
}



##########
########## Tgt-TWDS1000:Mech-BA-012x ##########
##########
##########

###################################### ICS HWI ###############################################
#############################  ICS Instrument Library     ####################################
##  PLC Sample Code in VersionDog: ICS_LIBRARY_MASTER_PLC                                   ##
##  CCDB device types: ICS_xxxxx                                                            ##
##  EPICS HMI (Block Icons/Faceplates)@ GitLab. Projekt: Cryo / CryogenicsLibrary / CryoLib ##
##                                                                                          ##
##                         VME - Vibration accelerometer in m/s2                            ##
##                                                                                          ##
##                                                                                          ##
############################         Version: 1.3             ################################
#Author:  Miklos Boros
#Date:    27-05-2019
#Version: v1.3
#Changes:
#1. Variable Name Unification
############################         Version: 1.0, 1.1, 1.2             ######################
#Author:  Miklos Boros
#Date:    28-02-2019
#Version: v1.2
#Changes:
#1. Major review,
#2. Indent,  unit standardization



############################
#STATUS BLOCK
############################
#<<<--- define_status_block()

##########
########## Tgt-TWDS1000:Mech-BA-012x PLC   -> EPICS status   ##########
##########

#Operation modes
#<<<--- add_digital("OpMode_FreeRun",          PV_DESC="Operation Mode FreeRun", PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Mech-BA-012x:OpMode_FreeRun")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Operation Mode FreeRun")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-012x_iDB")
	info("plc_variable", "OpMode_FreeRun")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("OpMode_Forced",           PV_DESC="Operation Mode Forced",  PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Mech-BA-012x:OpMode_Forced")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Operation Mode Forced")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-012x_iDB")
	info("plc_variable", "OpMode_Forced")
	info(autosaveFields_pass0, "VAL")
}


#Inhibit signals (set by the PLC code, can't be changed by the OPI)
#<<<--- add_digital("Inhibit_Manual",          PV_DESC="Inhibit Manual Mode",    PV_ONAM="InhibitManual",              PV_ZNAM="AllowManual")
record(bi, "Tgt-TWDS1000:Mech-BA-012x:Inhibit_Manual")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Inhibit Manual Mode")
	field(ONAM, "InhibitManual")
	field(ZNAM, "AllowManual")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-012x_iDB")
	info("plc_variable", "Inhibit_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Force",           PV_DESC="Inhibit Force Mode",     PV_ONAM="InhibitForce",               PV_ZNAM="AllowForce")
record(bi, "Tgt-TWDS1000:Mech-BA-012x:Inhibit_Force")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Inhibit Force Mode")
	field(ONAM, "InhibitForce")
	field(ZNAM, "AllowForce")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-012x_iDB")
	info("plc_variable", "Inhibit_Force")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Lock",            PV_DESC="Inhibit Locking",        PV_ONAM="InhibitLocking",             PV_ZNAM="AllowLocking")
record(bi, "Tgt-TWDS1000:Mech-BA-012x:Inhibit_Lock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Inhibit Locking")
	field(ONAM, "InhibitLocking")
	field(ZNAM, "AllowLocking")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-012x_iDB")
	info("plc_variable", "Inhibit_Lock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("TransmitterColor",         "INT",                            PV_DESC="Transmitter color")
record(ai, "Tgt-TWDS1000:Mech-BA-012x:TransmitterColor")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Transmitter color")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-012x_iDB")
	info("plc_variable", "TransmitterColor")
	info(autosaveFields_pass0, "VAL")
}


#for OPI visualization
#<<<--- add_digital("EnableFreeRunBtn",        PV_DESC="Enable Free Run Button", PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Mech-BA-012x:EnableFreeRunBtn")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Enable Free Run Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-012x_iDB")
	info("plc_variable", "EnableFreeRunBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableForcedBtn",         PV_DESC="Enable Force Button",    PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Mech-BA-012x:EnableForcedBtn")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Enable Force Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-012x_iDB")
	info("plc_variable", "EnableForcedBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableManualBtn",         PV_DESC="Enable Manual Button",   PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Mech-BA-012x:EnableManualBtn")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Enable Manual Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-012x_iDB")
	info("plc_variable", "EnableManualBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("ScaleLOW",                 "REAL",                           PV_DESC="Scale LOW",                  PV_EGU="m/s2")
record(ai, "Tgt-TWDS1000:Mech-BA-012x:ScaleLOW")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Scale LOW")
	field(EGU,  "m/s2")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-012x_iDB")
	info("plc_variable", "ScaleLOW")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("ScaleHIGH",                "REAL",                           PV_DESC="Scale HIGH",                 PV_EGU="m/s2")
record(ai, "Tgt-TWDS1000:Mech-BA-012x:ScaleHIGH")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Scale HIGH")
	field(EGU,  "m/s2")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-012x_iDB")
	info("plc_variable", "ScaleHIGH")
	info(autosaveFields_pass0, "VAL")
}


#Transmitter value
#<<<--- add_analog("MeasValue",                "REAL",                           PV_DESC="Acceleration Value",         PV_EGU="m/s2")
record(ai, "Tgt-TWDS1000:Mech-BA-012x:MeasValue")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Acceleration Value")
	field(EGU,  "m/s2")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-012x_iDB")
	info("plc_variable", "MeasValue")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_digital("DevLocked",               PV_DESC="Device Locked",          PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Mech-BA-012x:DevLocked")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Device Locked")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-012x_iDB")
	info("plc_variable", "DevLocked")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("Faceplate_LockID",         "DINT",                           PV_DESC="Owner Lock ID")
record(ai, "Tgt-TWDS1000:Mech-BA-012x:Faceplate_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Owner Lock ID")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-012x_iDB")
	info("plc_variable", "Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("BlockIcon_LockID",         "DINT",                           PV_DESC="Guest Lock ID")
record(ai, "Tgt-TWDS1000:Mech-BA-012x:BlockIcon_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Guest Lock ID")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-012x_iDB")
	info("plc_variable", "BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}


#Alarm signals
#<<<--- add_major_alarm("LatchAlarm",          "Latching of alarms",             PV_ZNAM="True")
record(bi, "Tgt-TWDS1000:Mech-BA-012x:LatchAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Latching of alarms")
	field(OSV,  "MAJOR")
	field(ZNAM, "True")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-012x_iDB")
	info("plc_variable", "LatchAlarm")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("GroupAlarm",          "GroupAlarm",                     PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-BA-012x:GroupAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "GroupAlarm")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-012x_iDB")
	info("plc_variable", "GroupAlarm")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Underrange",          "Temperature Underrange",         PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-BA-012x:Underrange")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Temperature Underrange")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-012x_iDB")
	info("plc_variable", "Underrange")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Overrange",           "Temperature Overrange",          PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-BA-012x:Overrange")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Temperature Overrange")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-012x_iDB")
	info("plc_variable", "Overrange")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("HIHI",                "Temperature HIHI",               PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-BA-012x:HIHI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Temperature HIHI")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-012x_iDB")
	info("plc_variable", "HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_minor_alarm("HI",                  "Temperature HI",                 PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-BA-012x:HI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Temperature HI")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-012x_iDB")
	info("plc_variable", "HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_minor_alarm("LO",                  "Temperature LO",                 PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-BA-012x:LO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Temperature LO")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-012x_iDB")
	info("plc_variable", "LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("LOLO",                "Temperature LOLO",               PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-BA-012x:LOLO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Temperature LOLO")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-012x_iDB")
	info("plc_variable", "LOLO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("IO_Error",            "IO_Error",                       PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-BA-012x:IO_Error")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "IO_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-012x_iDB")
	info("plc_variable", "IO_Error")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Module_Error",        "Module_Error",                   PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-BA-012x:Module_Error")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Module_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-012x_iDB")
	info("plc_variable", "Module_Error")
	info(autosaveFields_pass0, "VAL")
}


#Feedback
#<<<--- add_analog("FB_ForceValue",            "REAL",                           PV_DESC="Feedback Force Temperature", PV_EGU="m/s2")
record(ai, "Tgt-TWDS1000:Mech-BA-012x:FB_ForceValue")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Feedback Force Temperature")
	field(EGU,  "m/s2")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-012x_iDB")
	info("plc_variable", "FB_ForceValue")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_HIHI",            "REAL",                           PV_DESC="Feedback Limit HIHI",        PV_EGU="m/s2")
record(ai, "Tgt-TWDS1000:Mech-BA-012x:FB_Limit_HIHI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Feedback Limit HIHI")
	field(EGU,  "m/s2")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-012x_iDB")
	info("plc_variable", "FB_Limit_HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_HI",              "REAL",                           PV_DESC="Feedback Limit HI",          PV_EGU="m/s2")
record(ai, "Tgt-TWDS1000:Mech-BA-012x:FB_Limit_HI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Feedback Limit HI")
	field(EGU,  "m/s2")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-012x_iDB")
	info("plc_variable", "FB_Limit_HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_LO",              "REAL",                           PV_DESC="Feedback Limit LO",          PV_EGU="m/s2")
record(ai, "Tgt-TWDS1000:Mech-BA-012x:FB_Limit_LO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Feedback Limit LO")
	field(EGU,  "m/s2")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-012x_iDB")
	info("plc_variable", "FB_Limit_LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_LOLO",            "REAL",                           PV_DESC="Feedback Limit LOLO",        PV_EGU="m/s2")
record(ai, "Tgt-TWDS1000:Mech-BA-012x:FB_Limit_LOLO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Feedback Limit LOLO")
	field(EGU,  "m/s2")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-012x_iDB")
	info("plc_variable", "FB_Limit_LOLO")
	info(autosaveFields_pass0, "VAL")
}



############################
#COMMAND BLOCK
############################
#<<<--- define_command_block()

##########
########## Tgt-TWDS1000:Mech-BA-012x EPICS -> PLC commands   ##########
##########

#OPI buttons
#<<<--- add_digital("Cmd_FreeRun",             PV_DESC="CMD: FreeRun Mode")
record(bo, "Tgt-TWDS1000:Mech-BA-012x:Cmd_FreeRun")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: FreeRun Mode")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-012x_iDB")
	info("plc_variable", "Cmd_FreeRun")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_Force",               PV_DESC="CMD: Force Mode")
record(bo, "Tgt-TWDS1000:Mech-BA-012x:Cmd_Force")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Force Mode")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-012x_iDB")
	info("plc_variable", "Cmd_Force")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_ForceVal",            PV_DESC="CMD: Force Value")
record(bo, "Tgt-TWDS1000:Mech-BA-012x:Cmd_ForceVal")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Force Value")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-012x_iDB")
	info("plc_variable", "Cmd_ForceVal")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_AckAlarm",            PV_DESC="CMD: Acknowledge Alarm")
record(bo, "Tgt-TWDS1000:Mech-BA-012x:Cmd_AckAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Acknowledge Alarm")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-012x_iDB")
	info("plc_variable", "Cmd_AckAlarm")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_ForceUnlock",         PV_DESC="CMD: Force Unlock Device")
record(bo, "Tgt-TWDS1000:Mech-BA-012x:Cmd_ForceUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Force Unlock Device")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-012x_iDB")
	info("plc_variable", "Cmd_ForceUnlock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevLock",             PV_DESC="CMD: Lock Device")
record(bo, "Tgt-TWDS1000:Mech-BA-012x:Cmd_DevLock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Lock Device")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-012x_iDB")
	info("plc_variable", "Cmd_DevLock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevUnlock",           PV_DESC="CMD: Unlock Device")
record(bo, "Tgt-TWDS1000:Mech-BA-012x:Cmd_DevUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Unlock Device")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-012x_iDB")
	info("plc_variable", "Cmd_DevUnlock")
	info(autosaveFields_pass0, "VAL")
}


############################
#PARAMETER BLOCK
############################
#<<<--- define_parameter_block()

##########
########## Tgt-TWDS1000:Mech-BA-012x EPICS -> PLC parameters ##########
##########

#Limits
#<<<--- add_analog("P_Limit_HIHI",             "REAL",                           PV_DESC="Limit HIHI",                 PV_EGU="m/s2")
record(ao, "Tgt-TWDS1000:Mech-BA-012x:P_Limit_HIHI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Limit HIHI")
	field(EGU,  "m/s2")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-012x_iDB")
	info("plc_variable", "P_Limit_HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_HI",               "REAL",                           PV_DESC="Limit HI",                   PV_EGU="m/s2")
record(ao, "Tgt-TWDS1000:Mech-BA-012x:P_Limit_HI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Limit HI")
	field(EGU,  "m/s2")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-012x_iDB")
	info("plc_variable", "P_Limit_HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_LO",               "REAL",                           PV_DESC="Limit LO",                   PV_EGU="m/s2")
record(ao, "Tgt-TWDS1000:Mech-BA-012x:P_Limit_LO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Limit LO")
	field(EGU,  "m/s2")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-012x_iDB")
	info("plc_variable", "P_Limit_LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_LOLO",             "REAL",                           PV_DESC="Limit LOLO",                 PV_EGU="m/s2")
record(ao, "Tgt-TWDS1000:Mech-BA-012x:P_Limit_LOLO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Limit LOLO")
	field(EGU,  "m/s2")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-012x_iDB")
	info("plc_variable", "P_Limit_LOLO")
	info(autosaveFields_pass0, "VAL")
}


#Forcing
#<<<--- add_analog("P_ForceValue",             "REAL",                           PV_DESC="Force Temperature",          PV_EGU="m/s2")
record(ao, "Tgt-TWDS1000:Mech-BA-012x:P_ForceValue")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Force Temperature")
	field(EGU,  "m/s2")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-012x_iDB")
	info("plc_variable", "P_ForceValue")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_analog("P_Faceplate_LockID",       "DINT",                           PV_DESC="Device ID after Lock")
record(ao, "Tgt-TWDS1000:Mech-BA-012x:P_Faceplate_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Device ID after Lock")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-012x_iDB")
	info("plc_variable", "P_Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_BlockIcon_LockID",       "DINT",                           PV_DESC="Device ID after Blockicon Open")
record(ao, "Tgt-TWDS1000:Mech-BA-012x:P_BlockIcon_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Device ID after Blockicon Open")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-012x_iDB")
	info("plc_variable", "P_BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}

record(fanout, "Tgt-TWDS1000:Mech-BA-012x:UploadParametersS") {
	field(LNK1, "Tgt-TWDS1000:Mech-BA-012x:P_Limit_HIHI")
	field(LNK2, "Tgt-TWDS1000:Mech-BA-012x:P_Limit_HI")
	field(LNK3, "Tgt-TWDS1000:Mech-BA-012x:P_Limit_LO")
	field(LNK4, "Tgt-TWDS1000:Mech-BA-012x:P_Limit_LOLO")
	field(LNK5, "Tgt-TWDS1000:Mech-BA-012x:P_ForceValue")
	field(LNK6, "Tgt-TWDS1000:Mech-BA-012x:_UploadParamS1-FO")
}
record(fanout, "Tgt-TWDS1000:Mech-BA-012x:_UploadParamS1-FO") {
	field(LNK1, "Tgt-TWDS1000:Mech-BA-012x:P_Faceplate_LockID")
	field(LNK2, "Tgt-TWDS1000:Mech-BA-012x:P_BlockIcon_LockID")
}



##########
########## Tgt-TWDS1000:Mech-BA-012y ##########
##########
##########

###################################### ICS HWI ###############################################
#############################  ICS Instrument Library     ####################################
##  PLC Sample Code in VersionDog: ICS_LIBRARY_MASTER_PLC                                   ##
##  CCDB device types: ICS_xxxxx                                                            ##
##  EPICS HMI (Block Icons/Faceplates)@ GitLab. Projekt: Cryo / CryogenicsLibrary / CryoLib ##
##                                                                                          ##
##                         VME - Vibration accelerometer in m/s2                            ##
##                                                                                          ##
##                                                                                          ##
############################         Version: 1.3             ################################
#Author:  Miklos Boros
#Date:    27-05-2019
#Version: v1.3
#Changes:
#1. Variable Name Unification
############################         Version: 1.0, 1.1, 1.2             ######################
#Author:  Miklos Boros
#Date:    28-02-2019
#Version: v1.2
#Changes:
#1. Major review,
#2. Indent,  unit standardization



############################
#STATUS BLOCK
############################
#<<<--- define_status_block()

##########
########## Tgt-TWDS1000:Mech-BA-012y PLC   -> EPICS status   ##########
##########

#Operation modes
#<<<--- add_digital("OpMode_FreeRun",          PV_DESC="Operation Mode FreeRun", PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Mech-BA-012y:OpMode_FreeRun")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Operation Mode FreeRun")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-012y_iDB")
	info("plc_variable", "OpMode_FreeRun")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("OpMode_Forced",           PV_DESC="Operation Mode Forced",  PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Mech-BA-012y:OpMode_Forced")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Operation Mode Forced")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-012y_iDB")
	info("plc_variable", "OpMode_Forced")
	info(autosaveFields_pass0, "VAL")
}


#Inhibit signals (set by the PLC code, can't be changed by the OPI)
#<<<--- add_digital("Inhibit_Manual",          PV_DESC="Inhibit Manual Mode",    PV_ONAM="InhibitManual",              PV_ZNAM="AllowManual")
record(bi, "Tgt-TWDS1000:Mech-BA-012y:Inhibit_Manual")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Inhibit Manual Mode")
	field(ONAM, "InhibitManual")
	field(ZNAM, "AllowManual")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-012y_iDB")
	info("plc_variable", "Inhibit_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Force",           PV_DESC="Inhibit Force Mode",     PV_ONAM="InhibitForce",               PV_ZNAM="AllowForce")
record(bi, "Tgt-TWDS1000:Mech-BA-012y:Inhibit_Force")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Inhibit Force Mode")
	field(ONAM, "InhibitForce")
	field(ZNAM, "AllowForce")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-012y_iDB")
	info("plc_variable", "Inhibit_Force")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Lock",            PV_DESC="Inhibit Locking",        PV_ONAM="InhibitLocking",             PV_ZNAM="AllowLocking")
record(bi, "Tgt-TWDS1000:Mech-BA-012y:Inhibit_Lock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Inhibit Locking")
	field(ONAM, "InhibitLocking")
	field(ZNAM, "AllowLocking")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-012y_iDB")
	info("plc_variable", "Inhibit_Lock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("TransmitterColor",         "INT",                            PV_DESC="Transmitter color")
record(ai, "Tgt-TWDS1000:Mech-BA-012y:TransmitterColor")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Transmitter color")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-012y_iDB")
	info("plc_variable", "TransmitterColor")
	info(autosaveFields_pass0, "VAL")
}


#for OPI visualization
#<<<--- add_digital("EnableFreeRunBtn",        PV_DESC="Enable Free Run Button", PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Mech-BA-012y:EnableFreeRunBtn")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Enable Free Run Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-012y_iDB")
	info("plc_variable", "EnableFreeRunBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableForcedBtn",         PV_DESC="Enable Force Button",    PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Mech-BA-012y:EnableForcedBtn")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Enable Force Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-012y_iDB")
	info("plc_variable", "EnableForcedBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableManualBtn",         PV_DESC="Enable Manual Button",   PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Mech-BA-012y:EnableManualBtn")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Enable Manual Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-012y_iDB")
	info("plc_variable", "EnableManualBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("ScaleLOW",                 "REAL",                           PV_DESC="Scale LOW",                  PV_EGU="m/s2")
record(ai, "Tgt-TWDS1000:Mech-BA-012y:ScaleLOW")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Scale LOW")
	field(EGU,  "m/s2")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-012y_iDB")
	info("plc_variable", "ScaleLOW")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("ScaleHIGH",                "REAL",                           PV_DESC="Scale HIGH",                 PV_EGU="m/s2")
record(ai, "Tgt-TWDS1000:Mech-BA-012y:ScaleHIGH")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Scale HIGH")
	field(EGU,  "m/s2")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-012y_iDB")
	info("plc_variable", "ScaleHIGH")
	info(autosaveFields_pass0, "VAL")
}


#Transmitter value
#<<<--- add_analog("MeasValue",                "REAL",                           PV_DESC="Acceleration Value",         PV_EGU="m/s2")
record(ai, "Tgt-TWDS1000:Mech-BA-012y:MeasValue")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Acceleration Value")
	field(EGU,  "m/s2")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-012y_iDB")
	info("plc_variable", "MeasValue")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_digital("DevLocked",               PV_DESC="Device Locked",          PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Mech-BA-012y:DevLocked")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Device Locked")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-012y_iDB")
	info("plc_variable", "DevLocked")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("Faceplate_LockID",         "DINT",                           PV_DESC="Owner Lock ID")
record(ai, "Tgt-TWDS1000:Mech-BA-012y:Faceplate_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Owner Lock ID")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-012y_iDB")
	info("plc_variable", "Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("BlockIcon_LockID",         "DINT",                           PV_DESC="Guest Lock ID")
record(ai, "Tgt-TWDS1000:Mech-BA-012y:BlockIcon_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Guest Lock ID")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-012y_iDB")
	info("plc_variable", "BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}


#Alarm signals
#<<<--- add_major_alarm("LatchAlarm",          "Latching of alarms",             PV_ZNAM="True")
record(bi, "Tgt-TWDS1000:Mech-BA-012y:LatchAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Latching of alarms")
	field(OSV,  "MAJOR")
	field(ZNAM, "True")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-012y_iDB")
	info("plc_variable", "LatchAlarm")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("GroupAlarm",          "GroupAlarm",                     PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-BA-012y:GroupAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "GroupAlarm")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-012y_iDB")
	info("plc_variable", "GroupAlarm")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Underrange",          "Temperature Underrange",         PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-BA-012y:Underrange")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Temperature Underrange")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-012y_iDB")
	info("plc_variable", "Underrange")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Overrange",           "Temperature Overrange",          PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-BA-012y:Overrange")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Temperature Overrange")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-012y_iDB")
	info("plc_variable", "Overrange")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("HIHI",                "Temperature HIHI",               PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-BA-012y:HIHI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Temperature HIHI")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-012y_iDB")
	info("plc_variable", "HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_minor_alarm("HI",                  "Temperature HI",                 PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-BA-012y:HI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Temperature HI")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-012y_iDB")
	info("plc_variable", "HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_minor_alarm("LO",                  "Temperature LO",                 PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-BA-012y:LO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Temperature LO")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-012y_iDB")
	info("plc_variable", "LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("LOLO",                "Temperature LOLO",               PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-BA-012y:LOLO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Temperature LOLO")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-012y_iDB")
	info("plc_variable", "LOLO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("IO_Error",            "IO_Error",                       PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-BA-012y:IO_Error")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "IO_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-012y_iDB")
	info("plc_variable", "IO_Error")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Module_Error",        "Module_Error",                   PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-BA-012y:Module_Error")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Module_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-012y_iDB")
	info("plc_variable", "Module_Error")
	info(autosaveFields_pass0, "VAL")
}


#Feedback
#<<<--- add_analog("FB_ForceValue",            "REAL",                           PV_DESC="Feedback Force Temperature", PV_EGU="m/s2")
record(ai, "Tgt-TWDS1000:Mech-BA-012y:FB_ForceValue")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Feedback Force Temperature")
	field(EGU,  "m/s2")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-012y_iDB")
	info("plc_variable", "FB_ForceValue")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_HIHI",            "REAL",                           PV_DESC="Feedback Limit HIHI",        PV_EGU="m/s2")
record(ai, "Tgt-TWDS1000:Mech-BA-012y:FB_Limit_HIHI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Feedback Limit HIHI")
	field(EGU,  "m/s2")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-012y_iDB")
	info("plc_variable", "FB_Limit_HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_HI",              "REAL",                           PV_DESC="Feedback Limit HI",          PV_EGU="m/s2")
record(ai, "Tgt-TWDS1000:Mech-BA-012y:FB_Limit_HI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Feedback Limit HI")
	field(EGU,  "m/s2")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-012y_iDB")
	info("plc_variable", "FB_Limit_HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_LO",              "REAL",                           PV_DESC="Feedback Limit LO",          PV_EGU="m/s2")
record(ai, "Tgt-TWDS1000:Mech-BA-012y:FB_Limit_LO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Feedback Limit LO")
	field(EGU,  "m/s2")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-012y_iDB")
	info("plc_variable", "FB_Limit_LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_LOLO",            "REAL",                           PV_DESC="Feedback Limit LOLO",        PV_EGU="m/s2")
record(ai, "Tgt-TWDS1000:Mech-BA-012y:FB_Limit_LOLO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Feedback Limit LOLO")
	field(EGU,  "m/s2")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-012y_iDB")
	info("plc_variable", "FB_Limit_LOLO")
	info(autosaveFields_pass0, "VAL")
}



############################
#COMMAND BLOCK
############################
#<<<--- define_command_block()

##########
########## Tgt-TWDS1000:Mech-BA-012y EPICS -> PLC commands   ##########
##########

#OPI buttons
#<<<--- add_digital("Cmd_FreeRun",             PV_DESC="CMD: FreeRun Mode")
record(bo, "Tgt-TWDS1000:Mech-BA-012y:Cmd_FreeRun")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: FreeRun Mode")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-012y_iDB")
	info("plc_variable", "Cmd_FreeRun")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_Force",               PV_DESC="CMD: Force Mode")
record(bo, "Tgt-TWDS1000:Mech-BA-012y:Cmd_Force")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Force Mode")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-012y_iDB")
	info("plc_variable", "Cmd_Force")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_ForceVal",            PV_DESC="CMD: Force Value")
record(bo, "Tgt-TWDS1000:Mech-BA-012y:Cmd_ForceVal")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Force Value")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-012y_iDB")
	info("plc_variable", "Cmd_ForceVal")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_AckAlarm",            PV_DESC="CMD: Acknowledge Alarm")
record(bo, "Tgt-TWDS1000:Mech-BA-012y:Cmd_AckAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Acknowledge Alarm")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-012y_iDB")
	info("plc_variable", "Cmd_AckAlarm")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_ForceUnlock",         PV_DESC="CMD: Force Unlock Device")
record(bo, "Tgt-TWDS1000:Mech-BA-012y:Cmd_ForceUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Force Unlock Device")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-012y_iDB")
	info("plc_variable", "Cmd_ForceUnlock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevLock",             PV_DESC="CMD: Lock Device")
record(bo, "Tgt-TWDS1000:Mech-BA-012y:Cmd_DevLock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Lock Device")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-012y_iDB")
	info("plc_variable", "Cmd_DevLock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevUnlock",           PV_DESC="CMD: Unlock Device")
record(bo, "Tgt-TWDS1000:Mech-BA-012y:Cmd_DevUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Unlock Device")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-012y_iDB")
	info("plc_variable", "Cmd_DevUnlock")
	info(autosaveFields_pass0, "VAL")
}


############################
#PARAMETER BLOCK
############################
#<<<--- define_parameter_block()

##########
########## Tgt-TWDS1000:Mech-BA-012y EPICS -> PLC parameters ##########
##########

#Limits
#<<<--- add_analog("P_Limit_HIHI",             "REAL",                           PV_DESC="Limit HIHI",                 PV_EGU="m/s2")
record(ao, "Tgt-TWDS1000:Mech-BA-012y:P_Limit_HIHI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Limit HIHI")
	field(EGU,  "m/s2")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-012y_iDB")
	info("plc_variable", "P_Limit_HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_HI",               "REAL",                           PV_DESC="Limit HI",                   PV_EGU="m/s2")
record(ao, "Tgt-TWDS1000:Mech-BA-012y:P_Limit_HI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Limit HI")
	field(EGU,  "m/s2")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-012y_iDB")
	info("plc_variable", "P_Limit_HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_LO",               "REAL",                           PV_DESC="Limit LO",                   PV_EGU="m/s2")
record(ao, "Tgt-TWDS1000:Mech-BA-012y:P_Limit_LO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Limit LO")
	field(EGU,  "m/s2")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-012y_iDB")
	info("plc_variable", "P_Limit_LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_LOLO",             "REAL",                           PV_DESC="Limit LOLO",                 PV_EGU="m/s2")
record(ao, "Tgt-TWDS1000:Mech-BA-012y:P_Limit_LOLO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Limit LOLO")
	field(EGU,  "m/s2")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-012y_iDB")
	info("plc_variable", "P_Limit_LOLO")
	info(autosaveFields_pass0, "VAL")
}


#Forcing
#<<<--- add_analog("P_ForceValue",             "REAL",                           PV_DESC="Force Temperature",          PV_EGU="m/s2")
record(ao, "Tgt-TWDS1000:Mech-BA-012y:P_ForceValue")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Force Temperature")
	field(EGU,  "m/s2")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-012y_iDB")
	info("plc_variable", "P_ForceValue")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_analog("P_Faceplate_LockID",       "DINT",                           PV_DESC="Device ID after Lock")
record(ao, "Tgt-TWDS1000:Mech-BA-012y:P_Faceplate_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Device ID after Lock")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-012y_iDB")
	info("plc_variable", "P_Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_BlockIcon_LockID",       "DINT",                           PV_DESC="Device ID after Blockicon Open")
record(ao, "Tgt-TWDS1000:Mech-BA-012y:P_BlockIcon_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Device ID after Blockicon Open")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-012y_iDB")
	info("plc_variable", "P_BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}

record(fanout, "Tgt-TWDS1000:Mech-BA-012y:UploadParametersS") {
	field(LNK1, "Tgt-TWDS1000:Mech-BA-012y:P_Limit_HIHI")
	field(LNK2, "Tgt-TWDS1000:Mech-BA-012y:P_Limit_HI")
	field(LNK3, "Tgt-TWDS1000:Mech-BA-012y:P_Limit_LO")
	field(LNK4, "Tgt-TWDS1000:Mech-BA-012y:P_Limit_LOLO")
	field(LNK5, "Tgt-TWDS1000:Mech-BA-012y:P_ForceValue")
	field(LNK6, "Tgt-TWDS1000:Mech-BA-012y:_UploadParamS1-FO")
}
record(fanout, "Tgt-TWDS1000:Mech-BA-012y:_UploadParamS1-FO") {
	field(LNK1, "Tgt-TWDS1000:Mech-BA-012y:P_Faceplate_LockID")
	field(LNK2, "Tgt-TWDS1000:Mech-BA-012y:P_BlockIcon_LockID")
}



##########
########## Tgt-TWDS1000:Mech-BA-021 ##########
##########
##########

###################################### ICS HWI ###############################################
#############################  ICS Instrument Library     ####################################
##  PLC Sample Code in VersionDog: ICS_LIBRARY_MASTER_PLC                                   ##
##  CCDB device types: ICS_xxxxx                                                            ##
##  EPICS HMI (Block Icons/Faceplates)@ GitLab. Projekt: Cryo / CryogenicsLibrary / CryoLib ##
##                                                                                          ##
##                         VME - Vibration accelerometer in m/s2                            ##
##                                                                                          ##
##                                                                                          ##
############################         Version: 1.3             ################################
#Author:  Miklos Boros
#Date:    27-05-2019
#Version: v1.3
#Changes:
#1. Variable Name Unification
############################         Version: 1.0, 1.1, 1.2             ######################
#Author:  Miklos Boros
#Date:    28-02-2019
#Version: v1.2
#Changes:
#1. Major review,
#2. Indent,  unit standardization



############################
#STATUS BLOCK
############################
#<<<--- define_status_block()

##########
########## Tgt-TWDS1000:Mech-BA-021 PLC   -> EPICS status   ##########
##########

#Operation modes
#<<<--- add_digital("OpMode_FreeRun",          PV_DESC="Operation Mode FreeRun", PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Mech-BA-021:OpMode_FreeRun")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Operation Mode FreeRun")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-021_iDB")
	info("plc_variable", "OpMode_FreeRun")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("OpMode_Forced",           PV_DESC="Operation Mode Forced",  PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Mech-BA-021:OpMode_Forced")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Operation Mode Forced")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-021_iDB")
	info("plc_variable", "OpMode_Forced")
	info(autosaveFields_pass0, "VAL")
}


#Inhibit signals (set by the PLC code, can't be changed by the OPI)
#<<<--- add_digital("Inhibit_Manual",          PV_DESC="Inhibit Manual Mode",    PV_ONAM="InhibitManual",              PV_ZNAM="AllowManual")
record(bi, "Tgt-TWDS1000:Mech-BA-021:Inhibit_Manual")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Inhibit Manual Mode")
	field(ONAM, "InhibitManual")
	field(ZNAM, "AllowManual")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-021_iDB")
	info("plc_variable", "Inhibit_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Force",           PV_DESC="Inhibit Force Mode",     PV_ONAM="InhibitForce",               PV_ZNAM="AllowForce")
record(bi, "Tgt-TWDS1000:Mech-BA-021:Inhibit_Force")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Inhibit Force Mode")
	field(ONAM, "InhibitForce")
	field(ZNAM, "AllowForce")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-021_iDB")
	info("plc_variable", "Inhibit_Force")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Lock",            PV_DESC="Inhibit Locking",        PV_ONAM="InhibitLocking",             PV_ZNAM="AllowLocking")
record(bi, "Tgt-TWDS1000:Mech-BA-021:Inhibit_Lock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Inhibit Locking")
	field(ONAM, "InhibitLocking")
	field(ZNAM, "AllowLocking")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-021_iDB")
	info("plc_variable", "Inhibit_Lock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("TransmitterColor",         "INT",                            PV_DESC="Transmitter color")
record(ai, "Tgt-TWDS1000:Mech-BA-021:TransmitterColor")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Transmitter color")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-021_iDB")
	info("plc_variable", "TransmitterColor")
	info(autosaveFields_pass0, "VAL")
}


#for OPI visualization
#<<<--- add_digital("EnableFreeRunBtn",        PV_DESC="Enable Free Run Button", PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Mech-BA-021:EnableFreeRunBtn")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Enable Free Run Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-021_iDB")
	info("plc_variable", "EnableFreeRunBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableForcedBtn",         PV_DESC="Enable Force Button",    PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Mech-BA-021:EnableForcedBtn")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Enable Force Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-021_iDB")
	info("plc_variable", "EnableForcedBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableManualBtn",         PV_DESC="Enable Manual Button",   PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Mech-BA-021:EnableManualBtn")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Enable Manual Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-021_iDB")
	info("plc_variable", "EnableManualBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("ScaleLOW",                 "REAL",                           PV_DESC="Scale LOW",                  PV_EGU="m/s2")
record(ai, "Tgt-TWDS1000:Mech-BA-021:ScaleLOW")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Scale LOW")
	field(EGU,  "m/s2")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-021_iDB")
	info("plc_variable", "ScaleLOW")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("ScaleHIGH",                "REAL",                           PV_DESC="Scale HIGH",                 PV_EGU="m/s2")
record(ai, "Tgt-TWDS1000:Mech-BA-021:ScaleHIGH")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Scale HIGH")
	field(EGU,  "m/s2")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-021_iDB")
	info("plc_variable", "ScaleHIGH")
	info(autosaveFields_pass0, "VAL")
}


#Transmitter value
#<<<--- add_analog("MeasValue",                "REAL",                           PV_DESC="Acceleration Value",         PV_EGU="m/s2")
record(ai, "Tgt-TWDS1000:Mech-BA-021:MeasValue")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Acceleration Value")
	field(EGU,  "m/s2")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-021_iDB")
	info("plc_variable", "MeasValue")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_digital("DevLocked",               PV_DESC="Device Locked",          PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Mech-BA-021:DevLocked")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Device Locked")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-021_iDB")
	info("plc_variable", "DevLocked")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("Faceplate_LockID",         "DINT",                           PV_DESC="Owner Lock ID")
record(ai, "Tgt-TWDS1000:Mech-BA-021:Faceplate_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Owner Lock ID")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-021_iDB")
	info("plc_variable", "Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("BlockIcon_LockID",         "DINT",                           PV_DESC="Guest Lock ID")
record(ai, "Tgt-TWDS1000:Mech-BA-021:BlockIcon_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Guest Lock ID")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-021_iDB")
	info("plc_variable", "BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}


#Alarm signals
#<<<--- add_major_alarm("LatchAlarm",          "Latching of alarms",             PV_ZNAM="True")
record(bi, "Tgt-TWDS1000:Mech-BA-021:LatchAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Latching of alarms")
	field(OSV,  "MAJOR")
	field(ZNAM, "True")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-021_iDB")
	info("plc_variable", "LatchAlarm")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("GroupAlarm",          "GroupAlarm",                     PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-BA-021:GroupAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "GroupAlarm")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-021_iDB")
	info("plc_variable", "GroupAlarm")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Underrange",          "Temperature Underrange",         PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-BA-021:Underrange")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Temperature Underrange")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-021_iDB")
	info("plc_variable", "Underrange")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Overrange",           "Temperature Overrange",          PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-BA-021:Overrange")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Temperature Overrange")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-021_iDB")
	info("plc_variable", "Overrange")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("HIHI",                "Temperature HIHI",               PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-BA-021:HIHI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Temperature HIHI")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-021_iDB")
	info("plc_variable", "HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_minor_alarm("HI",                  "Temperature HI",                 PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-BA-021:HI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Temperature HI")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-021_iDB")
	info("plc_variable", "HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_minor_alarm("LO",                  "Temperature LO",                 PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-BA-021:LO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Temperature LO")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-021_iDB")
	info("plc_variable", "LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("LOLO",                "Temperature LOLO",               PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-BA-021:LOLO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Temperature LOLO")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-021_iDB")
	info("plc_variable", "LOLO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("IO_Error",            "IO_Error",                       PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-BA-021:IO_Error")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "IO_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-021_iDB")
	info("plc_variable", "IO_Error")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Module_Error",        "Module_Error",                   PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-BA-021:Module_Error")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Module_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-021_iDB")
	info("plc_variable", "Module_Error")
	info(autosaveFields_pass0, "VAL")
}


#Feedback
#<<<--- add_analog("FB_ForceValue",            "REAL",                           PV_DESC="Feedback Force Temperature", PV_EGU="m/s2")
record(ai, "Tgt-TWDS1000:Mech-BA-021:FB_ForceValue")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Feedback Force Temperature")
	field(EGU,  "m/s2")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-021_iDB")
	info("plc_variable", "FB_ForceValue")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_HIHI",            "REAL",                           PV_DESC="Feedback Limit HIHI",        PV_EGU="m/s2")
record(ai, "Tgt-TWDS1000:Mech-BA-021:FB_Limit_HIHI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Feedback Limit HIHI")
	field(EGU,  "m/s2")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-021_iDB")
	info("plc_variable", "FB_Limit_HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_HI",              "REAL",                           PV_DESC="Feedback Limit HI",          PV_EGU="m/s2")
record(ai, "Tgt-TWDS1000:Mech-BA-021:FB_Limit_HI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Feedback Limit HI")
	field(EGU,  "m/s2")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-021_iDB")
	info("plc_variable", "FB_Limit_HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_LO",              "REAL",                           PV_DESC="Feedback Limit LO",          PV_EGU="m/s2")
record(ai, "Tgt-TWDS1000:Mech-BA-021:FB_Limit_LO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Feedback Limit LO")
	field(EGU,  "m/s2")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-021_iDB")
	info("plc_variable", "FB_Limit_LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_LOLO",            "REAL",                           PV_DESC="Feedback Limit LOLO",        PV_EGU="m/s2")
record(ai, "Tgt-TWDS1000:Mech-BA-021:FB_Limit_LOLO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Feedback Limit LOLO")
	field(EGU,  "m/s2")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-021_iDB")
	info("plc_variable", "FB_Limit_LOLO")
	info(autosaveFields_pass0, "VAL")
}



############################
#COMMAND BLOCK
############################
#<<<--- define_command_block()

##########
########## Tgt-TWDS1000:Mech-BA-021 EPICS -> PLC commands   ##########
##########

#OPI buttons
#<<<--- add_digital("Cmd_FreeRun",             PV_DESC="CMD: FreeRun Mode")
record(bo, "Tgt-TWDS1000:Mech-BA-021:Cmd_FreeRun")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: FreeRun Mode")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-021_iDB")
	info("plc_variable", "Cmd_FreeRun")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_Force",               PV_DESC="CMD: Force Mode")
record(bo, "Tgt-TWDS1000:Mech-BA-021:Cmd_Force")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Force Mode")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-021_iDB")
	info("plc_variable", "Cmd_Force")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_ForceVal",            PV_DESC="CMD: Force Value")
record(bo, "Tgt-TWDS1000:Mech-BA-021:Cmd_ForceVal")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Force Value")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-021_iDB")
	info("plc_variable", "Cmd_ForceVal")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_AckAlarm",            PV_DESC="CMD: Acknowledge Alarm")
record(bo, "Tgt-TWDS1000:Mech-BA-021:Cmd_AckAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Acknowledge Alarm")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-021_iDB")
	info("plc_variable", "Cmd_AckAlarm")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_ForceUnlock",         PV_DESC="CMD: Force Unlock Device")
record(bo, "Tgt-TWDS1000:Mech-BA-021:Cmd_ForceUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Force Unlock Device")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-021_iDB")
	info("plc_variable", "Cmd_ForceUnlock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevLock",             PV_DESC="CMD: Lock Device")
record(bo, "Tgt-TWDS1000:Mech-BA-021:Cmd_DevLock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Lock Device")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-021_iDB")
	info("plc_variable", "Cmd_DevLock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevUnlock",           PV_DESC="CMD: Unlock Device")
record(bo, "Tgt-TWDS1000:Mech-BA-021:Cmd_DevUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Unlock Device")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-021_iDB")
	info("plc_variable", "Cmd_DevUnlock")
	info(autosaveFields_pass0, "VAL")
}


############################
#PARAMETER BLOCK
############################
#<<<--- define_parameter_block()

##########
########## Tgt-TWDS1000:Mech-BA-021 EPICS -> PLC parameters ##########
##########

#Limits
#<<<--- add_analog("P_Limit_HIHI",             "REAL",                           PV_DESC="Limit HIHI",                 PV_EGU="m/s2")
record(ao, "Tgt-TWDS1000:Mech-BA-021:P_Limit_HIHI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Limit HIHI")
	field(EGU,  "m/s2")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-021_iDB")
	info("plc_variable", "P_Limit_HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_HI",               "REAL",                           PV_DESC="Limit HI",                   PV_EGU="m/s2")
record(ao, "Tgt-TWDS1000:Mech-BA-021:P_Limit_HI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Limit HI")
	field(EGU,  "m/s2")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-021_iDB")
	info("plc_variable", "P_Limit_HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_LO",               "REAL",                           PV_DESC="Limit LO",                   PV_EGU="m/s2")
record(ao, "Tgt-TWDS1000:Mech-BA-021:P_Limit_LO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Limit LO")
	field(EGU,  "m/s2")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-021_iDB")
	info("plc_variable", "P_Limit_LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_LOLO",             "REAL",                           PV_DESC="Limit LOLO",                 PV_EGU="m/s2")
record(ao, "Tgt-TWDS1000:Mech-BA-021:P_Limit_LOLO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Limit LOLO")
	field(EGU,  "m/s2")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-021_iDB")
	info("plc_variable", "P_Limit_LOLO")
	info(autosaveFields_pass0, "VAL")
}


#Forcing
#<<<--- add_analog("P_ForceValue",             "REAL",                           PV_DESC="Force Temperature",          PV_EGU="m/s2")
record(ao, "Tgt-TWDS1000:Mech-BA-021:P_ForceValue")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Force Temperature")
	field(EGU,  "m/s2")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-021_iDB")
	info("plc_variable", "P_ForceValue")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_analog("P_Faceplate_LockID",       "DINT",                           PV_DESC="Device ID after Lock")
record(ao, "Tgt-TWDS1000:Mech-BA-021:P_Faceplate_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Device ID after Lock")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-021_iDB")
	info("plc_variable", "P_Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_BlockIcon_LockID",       "DINT",                           PV_DESC="Device ID after Blockicon Open")
record(ao, "Tgt-TWDS1000:Mech-BA-021:P_BlockIcon_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Device ID after Blockicon Open")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-021_iDB")
	info("plc_variable", "P_BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}

record(fanout, "Tgt-TWDS1000:Mech-BA-021:UploadParametersS") {
	field(LNK1, "Tgt-TWDS1000:Mech-BA-021:P_Limit_HIHI")
	field(LNK2, "Tgt-TWDS1000:Mech-BA-021:P_Limit_HI")
	field(LNK3, "Tgt-TWDS1000:Mech-BA-021:P_Limit_LO")
	field(LNK4, "Tgt-TWDS1000:Mech-BA-021:P_Limit_LOLO")
	field(LNK5, "Tgt-TWDS1000:Mech-BA-021:P_ForceValue")
	field(LNK6, "Tgt-TWDS1000:Mech-BA-021:_UploadParamS1-FO")
}
record(fanout, "Tgt-TWDS1000:Mech-BA-021:_UploadParamS1-FO") {
	field(LNK1, "Tgt-TWDS1000:Mech-BA-021:P_Faceplate_LockID")
	field(LNK2, "Tgt-TWDS1000:Mech-BA-021:P_BlockIcon_LockID")
}



##########
########## Tgt-TWDS1000:Mech-BA-022 ##########
##########
##########

###################################### ICS HWI ###############################################
#############################  ICS Instrument Library     ####################################
##  PLC Sample Code in VersionDog: ICS_LIBRARY_MASTER_PLC                                   ##
##  CCDB device types: ICS_xxxxx                                                            ##
##  EPICS HMI (Block Icons/Faceplates)@ GitLab. Projekt: Cryo / CryogenicsLibrary / CryoLib ##
##                                                                                          ##
##                         VME - Vibration accelerometer in m/s2                            ##
##                                                                                          ##
##                                                                                          ##
############################         Version: 1.3             ################################
#Author:  Miklos Boros
#Date:    27-05-2019
#Version: v1.3
#Changes:
#1. Variable Name Unification
############################         Version: 1.0, 1.1, 1.2             ######################
#Author:  Miklos Boros
#Date:    28-02-2019
#Version: v1.2
#Changes:
#1. Major review,
#2. Indent,  unit standardization



############################
#STATUS BLOCK
############################
#<<<--- define_status_block()

##########
########## Tgt-TWDS1000:Mech-BA-022 PLC   -> EPICS status   ##########
##########

#Operation modes
#<<<--- add_digital("OpMode_FreeRun",          PV_DESC="Operation Mode FreeRun", PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Mech-BA-022:OpMode_FreeRun")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Operation Mode FreeRun")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-022_iDB")
	info("plc_variable", "OpMode_FreeRun")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("OpMode_Forced",           PV_DESC="Operation Mode Forced",  PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Mech-BA-022:OpMode_Forced")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Operation Mode Forced")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-022_iDB")
	info("plc_variable", "OpMode_Forced")
	info(autosaveFields_pass0, "VAL")
}


#Inhibit signals (set by the PLC code, can't be changed by the OPI)
#<<<--- add_digital("Inhibit_Manual",          PV_DESC="Inhibit Manual Mode",    PV_ONAM="InhibitManual",              PV_ZNAM="AllowManual")
record(bi, "Tgt-TWDS1000:Mech-BA-022:Inhibit_Manual")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Inhibit Manual Mode")
	field(ONAM, "InhibitManual")
	field(ZNAM, "AllowManual")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-022_iDB")
	info("plc_variable", "Inhibit_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Force",           PV_DESC="Inhibit Force Mode",     PV_ONAM="InhibitForce",               PV_ZNAM="AllowForce")
record(bi, "Tgt-TWDS1000:Mech-BA-022:Inhibit_Force")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Inhibit Force Mode")
	field(ONAM, "InhibitForce")
	field(ZNAM, "AllowForce")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-022_iDB")
	info("plc_variable", "Inhibit_Force")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Lock",            PV_DESC="Inhibit Locking",        PV_ONAM="InhibitLocking",             PV_ZNAM="AllowLocking")
record(bi, "Tgt-TWDS1000:Mech-BA-022:Inhibit_Lock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Inhibit Locking")
	field(ONAM, "InhibitLocking")
	field(ZNAM, "AllowLocking")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-022_iDB")
	info("plc_variable", "Inhibit_Lock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("TransmitterColor",         "INT",                            PV_DESC="Transmitter color")
record(ai, "Tgt-TWDS1000:Mech-BA-022:TransmitterColor")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Transmitter color")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-022_iDB")
	info("plc_variable", "TransmitterColor")
	info(autosaveFields_pass0, "VAL")
}


#for OPI visualization
#<<<--- add_digital("EnableFreeRunBtn",        PV_DESC="Enable Free Run Button", PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Mech-BA-022:EnableFreeRunBtn")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Enable Free Run Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-022_iDB")
	info("plc_variable", "EnableFreeRunBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableForcedBtn",         PV_DESC="Enable Force Button",    PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Mech-BA-022:EnableForcedBtn")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Enable Force Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-022_iDB")
	info("plc_variable", "EnableForcedBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableManualBtn",         PV_DESC="Enable Manual Button",   PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Mech-BA-022:EnableManualBtn")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Enable Manual Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-022_iDB")
	info("plc_variable", "EnableManualBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("ScaleLOW",                 "REAL",                           PV_DESC="Scale LOW",                  PV_EGU="m/s2")
record(ai, "Tgt-TWDS1000:Mech-BA-022:ScaleLOW")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Scale LOW")
	field(EGU,  "m/s2")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-022_iDB")
	info("plc_variable", "ScaleLOW")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("ScaleHIGH",                "REAL",                           PV_DESC="Scale HIGH",                 PV_EGU="m/s2")
record(ai, "Tgt-TWDS1000:Mech-BA-022:ScaleHIGH")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Scale HIGH")
	field(EGU,  "m/s2")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-022_iDB")
	info("plc_variable", "ScaleHIGH")
	info(autosaveFields_pass0, "VAL")
}


#Transmitter value
#<<<--- add_analog("MeasValue",                "REAL",                           PV_DESC="Acceleration Value",         PV_EGU="m/s2")
record(ai, "Tgt-TWDS1000:Mech-BA-022:MeasValue")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Acceleration Value")
	field(EGU,  "m/s2")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-022_iDB")
	info("plc_variable", "MeasValue")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_digital("DevLocked",               PV_DESC="Device Locked",          PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Mech-BA-022:DevLocked")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Device Locked")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-022_iDB")
	info("plc_variable", "DevLocked")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("Faceplate_LockID",         "DINT",                           PV_DESC="Owner Lock ID")
record(ai, "Tgt-TWDS1000:Mech-BA-022:Faceplate_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Owner Lock ID")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-022_iDB")
	info("plc_variable", "Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("BlockIcon_LockID",         "DINT",                           PV_DESC="Guest Lock ID")
record(ai, "Tgt-TWDS1000:Mech-BA-022:BlockIcon_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Guest Lock ID")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-022_iDB")
	info("plc_variable", "BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}


#Alarm signals
#<<<--- add_major_alarm("LatchAlarm",          "Latching of alarms",             PV_ZNAM="True")
record(bi, "Tgt-TWDS1000:Mech-BA-022:LatchAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Latching of alarms")
	field(OSV,  "MAJOR")
	field(ZNAM, "True")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-022_iDB")
	info("plc_variable", "LatchAlarm")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("GroupAlarm",          "GroupAlarm",                     PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-BA-022:GroupAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "GroupAlarm")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-022_iDB")
	info("plc_variable", "GroupAlarm")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Underrange",          "Temperature Underrange",         PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-BA-022:Underrange")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Temperature Underrange")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-022_iDB")
	info("plc_variable", "Underrange")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Overrange",           "Temperature Overrange",          PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-BA-022:Overrange")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Temperature Overrange")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-022_iDB")
	info("plc_variable", "Overrange")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("HIHI",                "Temperature HIHI",               PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-BA-022:HIHI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Temperature HIHI")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-022_iDB")
	info("plc_variable", "HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_minor_alarm("HI",                  "Temperature HI",                 PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-BA-022:HI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Temperature HI")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-022_iDB")
	info("plc_variable", "HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_minor_alarm("LO",                  "Temperature LO",                 PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-BA-022:LO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Temperature LO")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-022_iDB")
	info("plc_variable", "LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("LOLO",                "Temperature LOLO",               PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-BA-022:LOLO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Temperature LOLO")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-022_iDB")
	info("plc_variable", "LOLO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("IO_Error",            "IO_Error",                       PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-BA-022:IO_Error")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "IO_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-022_iDB")
	info("plc_variable", "IO_Error")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Module_Error",        "Module_Error",                   PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-BA-022:Module_Error")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Module_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-022_iDB")
	info("plc_variable", "Module_Error")
	info(autosaveFields_pass0, "VAL")
}


#Feedback
#<<<--- add_analog("FB_ForceValue",            "REAL",                           PV_DESC="Feedback Force Temperature", PV_EGU="m/s2")
record(ai, "Tgt-TWDS1000:Mech-BA-022:FB_ForceValue")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Feedback Force Temperature")
	field(EGU,  "m/s2")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-022_iDB")
	info("plc_variable", "FB_ForceValue")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_HIHI",            "REAL",                           PV_DESC="Feedback Limit HIHI",        PV_EGU="m/s2")
record(ai, "Tgt-TWDS1000:Mech-BA-022:FB_Limit_HIHI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Feedback Limit HIHI")
	field(EGU,  "m/s2")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-022_iDB")
	info("plc_variable", "FB_Limit_HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_HI",              "REAL",                           PV_DESC="Feedback Limit HI",          PV_EGU="m/s2")
record(ai, "Tgt-TWDS1000:Mech-BA-022:FB_Limit_HI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Feedback Limit HI")
	field(EGU,  "m/s2")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-022_iDB")
	info("plc_variable", "FB_Limit_HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_LO",              "REAL",                           PV_DESC="Feedback Limit LO",          PV_EGU="m/s2")
record(ai, "Tgt-TWDS1000:Mech-BA-022:FB_Limit_LO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Feedback Limit LO")
	field(EGU,  "m/s2")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-022_iDB")
	info("plc_variable", "FB_Limit_LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_LOLO",            "REAL",                           PV_DESC="Feedback Limit LOLO",        PV_EGU="m/s2")
record(ai, "Tgt-TWDS1000:Mech-BA-022:FB_Limit_LOLO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Feedback Limit LOLO")
	field(EGU,  "m/s2")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-022_iDB")
	info("plc_variable", "FB_Limit_LOLO")
	info(autosaveFields_pass0, "VAL")
}



############################
#COMMAND BLOCK
############################
#<<<--- define_command_block()

##########
########## Tgt-TWDS1000:Mech-BA-022 EPICS -> PLC commands   ##########
##########

#OPI buttons
#<<<--- add_digital("Cmd_FreeRun",             PV_DESC="CMD: FreeRun Mode")
record(bo, "Tgt-TWDS1000:Mech-BA-022:Cmd_FreeRun")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: FreeRun Mode")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-022_iDB")
	info("plc_variable", "Cmd_FreeRun")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_Force",               PV_DESC="CMD: Force Mode")
record(bo, "Tgt-TWDS1000:Mech-BA-022:Cmd_Force")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Force Mode")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-022_iDB")
	info("plc_variable", "Cmd_Force")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_ForceVal",            PV_DESC="CMD: Force Value")
record(bo, "Tgt-TWDS1000:Mech-BA-022:Cmd_ForceVal")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Force Value")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-022_iDB")
	info("plc_variable", "Cmd_ForceVal")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_AckAlarm",            PV_DESC="CMD: Acknowledge Alarm")
record(bo, "Tgt-TWDS1000:Mech-BA-022:Cmd_AckAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Acknowledge Alarm")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-022_iDB")
	info("plc_variable", "Cmd_AckAlarm")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_ForceUnlock",         PV_DESC="CMD: Force Unlock Device")
record(bo, "Tgt-TWDS1000:Mech-BA-022:Cmd_ForceUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Force Unlock Device")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-022_iDB")
	info("plc_variable", "Cmd_ForceUnlock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevLock",             PV_DESC="CMD: Lock Device")
record(bo, "Tgt-TWDS1000:Mech-BA-022:Cmd_DevLock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Lock Device")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-022_iDB")
	info("plc_variable", "Cmd_DevLock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevUnlock",           PV_DESC="CMD: Unlock Device")
record(bo, "Tgt-TWDS1000:Mech-BA-022:Cmd_DevUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Unlock Device")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-022_iDB")
	info("plc_variable", "Cmd_DevUnlock")
	info(autosaveFields_pass0, "VAL")
}


############################
#PARAMETER BLOCK
############################
#<<<--- define_parameter_block()

##########
########## Tgt-TWDS1000:Mech-BA-022 EPICS -> PLC parameters ##########
##########

#Limits
#<<<--- add_analog("P_Limit_HIHI",             "REAL",                           PV_DESC="Limit HIHI",                 PV_EGU="m/s2")
record(ao, "Tgt-TWDS1000:Mech-BA-022:P_Limit_HIHI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Limit HIHI")
	field(EGU,  "m/s2")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-022_iDB")
	info("plc_variable", "P_Limit_HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_HI",               "REAL",                           PV_DESC="Limit HI",                   PV_EGU="m/s2")
record(ao, "Tgt-TWDS1000:Mech-BA-022:P_Limit_HI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Limit HI")
	field(EGU,  "m/s2")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-022_iDB")
	info("plc_variable", "P_Limit_HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_LO",               "REAL",                           PV_DESC="Limit LO",                   PV_EGU="m/s2")
record(ao, "Tgt-TWDS1000:Mech-BA-022:P_Limit_LO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Limit LO")
	field(EGU,  "m/s2")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-022_iDB")
	info("plc_variable", "P_Limit_LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_LOLO",             "REAL",                           PV_DESC="Limit LOLO",                 PV_EGU="m/s2")
record(ao, "Tgt-TWDS1000:Mech-BA-022:P_Limit_LOLO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Limit LOLO")
	field(EGU,  "m/s2")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-022_iDB")
	info("plc_variable", "P_Limit_LOLO")
	info(autosaveFields_pass0, "VAL")
}


#Forcing
#<<<--- add_analog("P_ForceValue",             "REAL",                           PV_DESC="Force Temperature",          PV_EGU="m/s2")
record(ao, "Tgt-TWDS1000:Mech-BA-022:P_ForceValue")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Force Temperature")
	field(EGU,  "m/s2")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-022_iDB")
	info("plc_variable", "P_ForceValue")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_analog("P_Faceplate_LockID",       "DINT",                           PV_DESC="Device ID after Lock")
record(ao, "Tgt-TWDS1000:Mech-BA-022:P_Faceplate_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Device ID after Lock")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-022_iDB")
	info("plc_variable", "P_Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_BlockIcon_LockID",       "DINT",                           PV_DESC="Device ID after Blockicon Open")
record(ao, "Tgt-TWDS1000:Mech-BA-022:P_BlockIcon_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Device ID after Blockicon Open")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-022_iDB")
	info("plc_variable", "P_BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}

record(fanout, "Tgt-TWDS1000:Mech-BA-022:UploadParametersS") {
	field(LNK1, "Tgt-TWDS1000:Mech-BA-022:P_Limit_HIHI")
	field(LNK2, "Tgt-TWDS1000:Mech-BA-022:P_Limit_HI")
	field(LNK3, "Tgt-TWDS1000:Mech-BA-022:P_Limit_LO")
	field(LNK4, "Tgt-TWDS1000:Mech-BA-022:P_Limit_LOLO")
	field(LNK5, "Tgt-TWDS1000:Mech-BA-022:P_ForceValue")
	field(LNK6, "Tgt-TWDS1000:Mech-BA-022:_UploadParamS1-FO")
}
record(fanout, "Tgt-TWDS1000:Mech-BA-022:_UploadParamS1-FO") {
	field(LNK1, "Tgt-TWDS1000:Mech-BA-022:P_Faceplate_LockID")
	field(LNK2, "Tgt-TWDS1000:Mech-BA-022:P_BlockIcon_LockID")
}



##########
########## Tgt-TWDS1000:Mech-BA-023 ##########
##########
##########

###################################### ICS HWI ###############################################
#############################  ICS Instrument Library     ####################################
##  PLC Sample Code in VersionDog: ICS_LIBRARY_MASTER_PLC                                   ##
##  CCDB device types: ICS_xxxxx                                                            ##
##  EPICS HMI (Block Icons/Faceplates)@ GitLab. Projekt: Cryo / CryogenicsLibrary / CryoLib ##
##                                                                                          ##
##                         VME - Vibration accelerometer in m/s2                            ##
##                                                                                          ##
##                                                                                          ##
############################         Version: 1.3             ################################
#Author:  Miklos Boros
#Date:    27-05-2019
#Version: v1.3
#Changes:
#1. Variable Name Unification
############################         Version: 1.0, 1.1, 1.2             ######################
#Author:  Miklos Boros
#Date:    28-02-2019
#Version: v1.2
#Changes:
#1. Major review,
#2. Indent,  unit standardization



############################
#STATUS BLOCK
############################
#<<<--- define_status_block()

##########
########## Tgt-TWDS1000:Mech-BA-023 PLC   -> EPICS status   ##########
##########

#Operation modes
#<<<--- add_digital("OpMode_FreeRun",          PV_DESC="Operation Mode FreeRun", PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Mech-BA-023:OpMode_FreeRun")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Operation Mode FreeRun")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-023_iDB")
	info("plc_variable", "OpMode_FreeRun")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("OpMode_Forced",           PV_DESC="Operation Mode Forced",  PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Mech-BA-023:OpMode_Forced")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Operation Mode Forced")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-023_iDB")
	info("plc_variable", "OpMode_Forced")
	info(autosaveFields_pass0, "VAL")
}


#Inhibit signals (set by the PLC code, can't be changed by the OPI)
#<<<--- add_digital("Inhibit_Manual",          PV_DESC="Inhibit Manual Mode",    PV_ONAM="InhibitManual",              PV_ZNAM="AllowManual")
record(bi, "Tgt-TWDS1000:Mech-BA-023:Inhibit_Manual")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Inhibit Manual Mode")
	field(ONAM, "InhibitManual")
	field(ZNAM, "AllowManual")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-023_iDB")
	info("plc_variable", "Inhibit_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Force",           PV_DESC="Inhibit Force Mode",     PV_ONAM="InhibitForce",               PV_ZNAM="AllowForce")
record(bi, "Tgt-TWDS1000:Mech-BA-023:Inhibit_Force")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Inhibit Force Mode")
	field(ONAM, "InhibitForce")
	field(ZNAM, "AllowForce")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-023_iDB")
	info("plc_variable", "Inhibit_Force")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Lock",            PV_DESC="Inhibit Locking",        PV_ONAM="InhibitLocking",             PV_ZNAM="AllowLocking")
record(bi, "Tgt-TWDS1000:Mech-BA-023:Inhibit_Lock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Inhibit Locking")
	field(ONAM, "InhibitLocking")
	field(ZNAM, "AllowLocking")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-023_iDB")
	info("plc_variable", "Inhibit_Lock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("TransmitterColor",         "INT",                            PV_DESC="Transmitter color")
record(ai, "Tgt-TWDS1000:Mech-BA-023:TransmitterColor")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Transmitter color")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-023_iDB")
	info("plc_variable", "TransmitterColor")
	info(autosaveFields_pass0, "VAL")
}


#for OPI visualization
#<<<--- add_digital("EnableFreeRunBtn",        PV_DESC="Enable Free Run Button", PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Mech-BA-023:EnableFreeRunBtn")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Enable Free Run Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-023_iDB")
	info("plc_variable", "EnableFreeRunBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableForcedBtn",         PV_DESC="Enable Force Button",    PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Mech-BA-023:EnableForcedBtn")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Enable Force Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-023_iDB")
	info("plc_variable", "EnableForcedBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableManualBtn",         PV_DESC="Enable Manual Button",   PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Mech-BA-023:EnableManualBtn")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Enable Manual Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-023_iDB")
	info("plc_variable", "EnableManualBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("ScaleLOW",                 "REAL",                           PV_DESC="Scale LOW",                  PV_EGU="m/s2")
record(ai, "Tgt-TWDS1000:Mech-BA-023:ScaleLOW")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Scale LOW")
	field(EGU,  "m/s2")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-023_iDB")
	info("plc_variable", "ScaleLOW")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("ScaleHIGH",                "REAL",                           PV_DESC="Scale HIGH",                 PV_EGU="m/s2")
record(ai, "Tgt-TWDS1000:Mech-BA-023:ScaleHIGH")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Scale HIGH")
	field(EGU,  "m/s2")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-023_iDB")
	info("plc_variable", "ScaleHIGH")
	info(autosaveFields_pass0, "VAL")
}


#Transmitter value
#<<<--- add_analog("MeasValue",                "REAL",                           PV_DESC="Acceleration Value",         PV_EGU="m/s2")
record(ai, "Tgt-TWDS1000:Mech-BA-023:MeasValue")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Acceleration Value")
	field(EGU,  "m/s2")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-023_iDB")
	info("plc_variable", "MeasValue")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_digital("DevLocked",               PV_DESC="Device Locked",          PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Mech-BA-023:DevLocked")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Device Locked")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-023_iDB")
	info("plc_variable", "DevLocked")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("Faceplate_LockID",         "DINT",                           PV_DESC="Owner Lock ID")
record(ai, "Tgt-TWDS1000:Mech-BA-023:Faceplate_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Owner Lock ID")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-023_iDB")
	info("plc_variable", "Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("BlockIcon_LockID",         "DINT",                           PV_DESC="Guest Lock ID")
record(ai, "Tgt-TWDS1000:Mech-BA-023:BlockIcon_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Guest Lock ID")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-023_iDB")
	info("plc_variable", "BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}


#Alarm signals
#<<<--- add_major_alarm("LatchAlarm",          "Latching of alarms",             PV_ZNAM="True")
record(bi, "Tgt-TWDS1000:Mech-BA-023:LatchAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Latching of alarms")
	field(OSV,  "MAJOR")
	field(ZNAM, "True")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-023_iDB")
	info("plc_variable", "LatchAlarm")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("GroupAlarm",          "GroupAlarm",                     PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-BA-023:GroupAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "GroupAlarm")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-023_iDB")
	info("plc_variable", "GroupAlarm")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Underrange",          "Temperature Underrange",         PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-BA-023:Underrange")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Temperature Underrange")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-023_iDB")
	info("plc_variable", "Underrange")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Overrange",           "Temperature Overrange",          PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-BA-023:Overrange")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Temperature Overrange")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-023_iDB")
	info("plc_variable", "Overrange")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("HIHI",                "Temperature HIHI",               PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-BA-023:HIHI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Temperature HIHI")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-023_iDB")
	info("plc_variable", "HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_minor_alarm("HI",                  "Temperature HI",                 PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-BA-023:HI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Temperature HI")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-023_iDB")
	info("plc_variable", "HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_minor_alarm("LO",                  "Temperature LO",                 PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-BA-023:LO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Temperature LO")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-023_iDB")
	info("plc_variable", "LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("LOLO",                "Temperature LOLO",               PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-BA-023:LOLO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Temperature LOLO")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-023_iDB")
	info("plc_variable", "LOLO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("IO_Error",            "IO_Error",                       PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-BA-023:IO_Error")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "IO_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-023_iDB")
	info("plc_variable", "IO_Error")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Module_Error",        "Module_Error",                   PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-BA-023:Module_Error")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Module_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-023_iDB")
	info("plc_variable", "Module_Error")
	info(autosaveFields_pass0, "VAL")
}


#Feedback
#<<<--- add_analog("FB_ForceValue",            "REAL",                           PV_DESC="Feedback Force Temperature", PV_EGU="m/s2")
record(ai, "Tgt-TWDS1000:Mech-BA-023:FB_ForceValue")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Feedback Force Temperature")
	field(EGU,  "m/s2")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-023_iDB")
	info("plc_variable", "FB_ForceValue")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_HIHI",            "REAL",                           PV_DESC="Feedback Limit HIHI",        PV_EGU="m/s2")
record(ai, "Tgt-TWDS1000:Mech-BA-023:FB_Limit_HIHI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Feedback Limit HIHI")
	field(EGU,  "m/s2")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-023_iDB")
	info("plc_variable", "FB_Limit_HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_HI",              "REAL",                           PV_DESC="Feedback Limit HI",          PV_EGU="m/s2")
record(ai, "Tgt-TWDS1000:Mech-BA-023:FB_Limit_HI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Feedback Limit HI")
	field(EGU,  "m/s2")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-023_iDB")
	info("plc_variable", "FB_Limit_HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_LO",              "REAL",                           PV_DESC="Feedback Limit LO",          PV_EGU="m/s2")
record(ai, "Tgt-TWDS1000:Mech-BA-023:FB_Limit_LO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Feedback Limit LO")
	field(EGU,  "m/s2")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-023_iDB")
	info("plc_variable", "FB_Limit_LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_LOLO",            "REAL",                           PV_DESC="Feedback Limit LOLO",        PV_EGU="m/s2")
record(ai, "Tgt-TWDS1000:Mech-BA-023:FB_Limit_LOLO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Feedback Limit LOLO")
	field(EGU,  "m/s2")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-023_iDB")
	info("plc_variable", "FB_Limit_LOLO")
	info(autosaveFields_pass0, "VAL")
}



############################
#COMMAND BLOCK
############################
#<<<--- define_command_block()

##########
########## Tgt-TWDS1000:Mech-BA-023 EPICS -> PLC commands   ##########
##########

#OPI buttons
#<<<--- add_digital("Cmd_FreeRun",             PV_DESC="CMD: FreeRun Mode")
record(bo, "Tgt-TWDS1000:Mech-BA-023:Cmd_FreeRun")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: FreeRun Mode")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-023_iDB")
	info("plc_variable", "Cmd_FreeRun")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_Force",               PV_DESC="CMD: Force Mode")
record(bo, "Tgt-TWDS1000:Mech-BA-023:Cmd_Force")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Force Mode")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-023_iDB")
	info("plc_variable", "Cmd_Force")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_ForceVal",            PV_DESC="CMD: Force Value")
record(bo, "Tgt-TWDS1000:Mech-BA-023:Cmd_ForceVal")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Force Value")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-023_iDB")
	info("plc_variable", "Cmd_ForceVal")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_AckAlarm",            PV_DESC="CMD: Acknowledge Alarm")
record(bo, "Tgt-TWDS1000:Mech-BA-023:Cmd_AckAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Acknowledge Alarm")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-023_iDB")
	info("plc_variable", "Cmd_AckAlarm")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_ForceUnlock",         PV_DESC="CMD: Force Unlock Device")
record(bo, "Tgt-TWDS1000:Mech-BA-023:Cmd_ForceUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Force Unlock Device")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-023_iDB")
	info("plc_variable", "Cmd_ForceUnlock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevLock",             PV_DESC="CMD: Lock Device")
record(bo, "Tgt-TWDS1000:Mech-BA-023:Cmd_DevLock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Lock Device")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-023_iDB")
	info("plc_variable", "Cmd_DevLock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevUnlock",           PV_DESC="CMD: Unlock Device")
record(bo, "Tgt-TWDS1000:Mech-BA-023:Cmd_DevUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Unlock Device")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-023_iDB")
	info("plc_variable", "Cmd_DevUnlock")
	info(autosaveFields_pass0, "VAL")
}


############################
#PARAMETER BLOCK
############################
#<<<--- define_parameter_block()

##########
########## Tgt-TWDS1000:Mech-BA-023 EPICS -> PLC parameters ##########
##########

#Limits
#<<<--- add_analog("P_Limit_HIHI",             "REAL",                           PV_DESC="Limit HIHI",                 PV_EGU="m/s2")
record(ao, "Tgt-TWDS1000:Mech-BA-023:P_Limit_HIHI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Limit HIHI")
	field(EGU,  "m/s2")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-023_iDB")
	info("plc_variable", "P_Limit_HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_HI",               "REAL",                           PV_DESC="Limit HI",                   PV_EGU="m/s2")
record(ao, "Tgt-TWDS1000:Mech-BA-023:P_Limit_HI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Limit HI")
	field(EGU,  "m/s2")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-023_iDB")
	info("plc_variable", "P_Limit_HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_LO",               "REAL",                           PV_DESC="Limit LO",                   PV_EGU="m/s2")
record(ao, "Tgt-TWDS1000:Mech-BA-023:P_Limit_LO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Limit LO")
	field(EGU,  "m/s2")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-023_iDB")
	info("plc_variable", "P_Limit_LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_LOLO",             "REAL",                           PV_DESC="Limit LOLO",                 PV_EGU="m/s2")
record(ao, "Tgt-TWDS1000:Mech-BA-023:P_Limit_LOLO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Limit LOLO")
	field(EGU,  "m/s2")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-023_iDB")
	info("plc_variable", "P_Limit_LOLO")
	info(autosaveFields_pass0, "VAL")
}


#Forcing
#<<<--- add_analog("P_ForceValue",             "REAL",                           PV_DESC="Force Temperature",          PV_EGU="m/s2")
record(ao, "Tgt-TWDS1000:Mech-BA-023:P_ForceValue")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Force Temperature")
	field(EGU,  "m/s2")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-023_iDB")
	info("plc_variable", "P_ForceValue")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_analog("P_Faceplate_LockID",       "DINT",                           PV_DESC="Device ID after Lock")
record(ao, "Tgt-TWDS1000:Mech-BA-023:P_Faceplate_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Device ID after Lock")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-023_iDB")
	info("plc_variable", "P_Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_BlockIcon_LockID",       "DINT",                           PV_DESC="Device ID after Blockicon Open")
record(ao, "Tgt-TWDS1000:Mech-BA-023:P_BlockIcon_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Device ID after Blockicon Open")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-023_iDB")
	info("plc_variable", "P_BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}

record(fanout, "Tgt-TWDS1000:Mech-BA-023:UploadParametersS") {
	field(LNK1, "Tgt-TWDS1000:Mech-BA-023:P_Limit_HIHI")
	field(LNK2, "Tgt-TWDS1000:Mech-BA-023:P_Limit_HI")
	field(LNK3, "Tgt-TWDS1000:Mech-BA-023:P_Limit_LO")
	field(LNK4, "Tgt-TWDS1000:Mech-BA-023:P_Limit_LOLO")
	field(LNK5, "Tgt-TWDS1000:Mech-BA-023:P_ForceValue")
	field(LNK6, "Tgt-TWDS1000:Mech-BA-023:_UploadParamS1-FO")
}
record(fanout, "Tgt-TWDS1000:Mech-BA-023:_UploadParamS1-FO") {
	field(LNK1, "Tgt-TWDS1000:Mech-BA-023:P_Faceplate_LockID")
	field(LNK2, "Tgt-TWDS1000:Mech-BA-023:P_BlockIcon_LockID")
}



##########
########## Tgt-TWDS1000:Mech-BA-024 ##########
##########
##########

###################################### ICS HWI ###############################################
#############################  ICS Instrument Library     ####################################
##  PLC Sample Code in VersionDog: ICS_LIBRARY_MASTER_PLC                                   ##
##  CCDB device types: ICS_xxxxx                                                            ##
##  EPICS HMI (Block Icons/Faceplates)@ GitLab. Projekt: Cryo / CryogenicsLibrary / CryoLib ##
##                                                                                          ##
##                         VME - Vibration accelerometer in m/s2                            ##
##                                                                                          ##
##                                                                                          ##
############################         Version: 1.3             ################################
#Author:  Miklos Boros
#Date:    27-05-2019
#Version: v1.3
#Changes:
#1. Variable Name Unification
############################         Version: 1.0, 1.1, 1.2             ######################
#Author:  Miklos Boros
#Date:    28-02-2019
#Version: v1.2
#Changes:
#1. Major review,
#2. Indent,  unit standardization



############################
#STATUS BLOCK
############################
#<<<--- define_status_block()

##########
########## Tgt-TWDS1000:Mech-BA-024 PLC   -> EPICS status   ##########
##########

#Operation modes
#<<<--- add_digital("OpMode_FreeRun",          PV_DESC="Operation Mode FreeRun", PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Mech-BA-024:OpMode_FreeRun")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Operation Mode FreeRun")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-024_iDB")
	info("plc_variable", "OpMode_FreeRun")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("OpMode_Forced",           PV_DESC="Operation Mode Forced",  PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Mech-BA-024:OpMode_Forced")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Operation Mode Forced")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-024_iDB")
	info("plc_variable", "OpMode_Forced")
	info(autosaveFields_pass0, "VAL")
}


#Inhibit signals (set by the PLC code, can't be changed by the OPI)
#<<<--- add_digital("Inhibit_Manual",          PV_DESC="Inhibit Manual Mode",    PV_ONAM="InhibitManual",              PV_ZNAM="AllowManual")
record(bi, "Tgt-TWDS1000:Mech-BA-024:Inhibit_Manual")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Inhibit Manual Mode")
	field(ONAM, "InhibitManual")
	field(ZNAM, "AllowManual")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-024_iDB")
	info("plc_variable", "Inhibit_Manual")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Force",           PV_DESC="Inhibit Force Mode",     PV_ONAM="InhibitForce",               PV_ZNAM="AllowForce")
record(bi, "Tgt-TWDS1000:Mech-BA-024:Inhibit_Force")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Inhibit Force Mode")
	field(ONAM, "InhibitForce")
	field(ZNAM, "AllowForce")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-024_iDB")
	info("plc_variable", "Inhibit_Force")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Inhibit_Lock",            PV_DESC="Inhibit Locking",        PV_ONAM="InhibitLocking",             PV_ZNAM="AllowLocking")
record(bi, "Tgt-TWDS1000:Mech-BA-024:Inhibit_Lock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Inhibit Locking")
	field(ONAM, "InhibitLocking")
	field(ZNAM, "AllowLocking")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-024_iDB")
	info("plc_variable", "Inhibit_Lock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("TransmitterColor",         "INT",                            PV_DESC="Transmitter color")
record(ai, "Tgt-TWDS1000:Mech-BA-024:TransmitterColor")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Transmitter color")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-024_iDB")
	info("plc_variable", "TransmitterColor")
	info(autosaveFields_pass0, "VAL")
}


#for OPI visualization
#<<<--- add_digital("EnableFreeRunBtn",        PV_DESC="Enable Free Run Button", PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Mech-BA-024:EnableFreeRunBtn")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Enable Free Run Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-024_iDB")
	info("plc_variable", "EnableFreeRunBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableForcedBtn",         PV_DESC="Enable Force Button",    PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Mech-BA-024:EnableForcedBtn")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Enable Force Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-024_iDB")
	info("plc_variable", "EnableForcedBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("EnableManualBtn",         PV_DESC="Enable Manual Button",   PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Mech-BA-024:EnableManualBtn")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Enable Manual Button")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-024_iDB")
	info("plc_variable", "EnableManualBtn")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("ScaleLOW",                 "REAL",                           PV_DESC="Scale LOW",                  PV_EGU="m/s2")
record(ai, "Tgt-TWDS1000:Mech-BA-024:ScaleLOW")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Scale LOW")
	field(EGU,  "m/s2")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-024_iDB")
	info("plc_variable", "ScaleLOW")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("ScaleHIGH",                "REAL",                           PV_DESC="Scale HIGH",                 PV_EGU="m/s2")
record(ai, "Tgt-TWDS1000:Mech-BA-024:ScaleHIGH")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Scale HIGH")
	field(EGU,  "m/s2")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-024_iDB")
	info("plc_variable", "ScaleHIGH")
	info(autosaveFields_pass0, "VAL")
}


#Transmitter value
#<<<--- add_analog("MeasValue",                "REAL",                           PV_DESC="Acceleration Value",         PV_EGU="m/s2")
record(ai, "Tgt-TWDS1000:Mech-BA-024:MeasValue")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Acceleration Value")
	field(EGU,  "m/s2")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-024_iDB")
	info("plc_variable", "MeasValue")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_digital("DevLocked",               PV_DESC="Device Locked",          PV_ONAM="True",                       PV_ZNAM="False")
record(bi, "Tgt-TWDS1000:Mech-BA-024:DevLocked")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Device Locked")
	field(ONAM, "True")
	field(ZNAM, "False")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-024_iDB")
	info("plc_variable", "DevLocked")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("Faceplate_LockID",         "DINT",                           PV_DESC="Owner Lock ID")
record(ai, "Tgt-TWDS1000:Mech-BA-024:Faceplate_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Owner Lock ID")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-024_iDB")
	info("plc_variable", "Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("BlockIcon_LockID",         "DINT",                           PV_DESC="Guest Lock ID")
record(ai, "Tgt-TWDS1000:Mech-BA-024:BlockIcon_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Guest Lock ID")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-024_iDB")
	info("plc_variable", "BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}


#Alarm signals
#<<<--- add_major_alarm("LatchAlarm",          "Latching of alarms",             PV_ZNAM="True")
record(bi, "Tgt-TWDS1000:Mech-BA-024:LatchAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Latching of alarms")
	field(OSV,  "MAJOR")
	field(ZNAM, "True")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-024_iDB")
	info("plc_variable", "LatchAlarm")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("GroupAlarm",          "GroupAlarm",                     PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-BA-024:GroupAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "GroupAlarm")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-024_iDB")
	info("plc_variable", "GroupAlarm")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Underrange",          "Temperature Underrange",         PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-BA-024:Underrange")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Temperature Underrange")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-024_iDB")
	info("plc_variable", "Underrange")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Overrange",           "Temperature Overrange",          PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-BA-024:Overrange")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Temperature Overrange")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-024_iDB")
	info("plc_variable", "Overrange")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("HIHI",                "Temperature HIHI",               PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-BA-024:HIHI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Temperature HIHI")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-024_iDB")
	info("plc_variable", "HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_minor_alarm("HI",                  "Temperature HI",                 PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-BA-024:HI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Temperature HI")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-024_iDB")
	info("plc_variable", "HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_minor_alarm("LO",                  "Temperature LO",                 PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-BA-024:LO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Temperature LO")
	field(OSV,  "MINOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-024_iDB")
	info("plc_variable", "LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("LOLO",                "Temperature LOLO",               PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-BA-024:LOLO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Temperature LOLO")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-024_iDB")
	info("plc_variable", "LOLO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("IO_Error",            "IO_Error",                       PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-BA-024:IO_Error")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "IO_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-024_iDB")
	info("plc_variable", "IO_Error")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_major_alarm("Module_Error",        "Module_Error",                   PV_ZNAM="NominalState")
record(bi, "Tgt-TWDS1000:Mech-BA-024:Module_Error")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(ONAM, "Module_Error")
	field(OSV,  "MAJOR")
	field(ZNAM, "NominalState")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-024_iDB")
	info("plc_variable", "Module_Error")
	info(autosaveFields_pass0, "VAL")
}


#Feedback
#<<<--- add_analog("FB_ForceValue",            "REAL",                           PV_DESC="Feedback Force Temperature", PV_EGU="m/s2")
record(ai, "Tgt-TWDS1000:Mech-BA-024:FB_ForceValue")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Feedback Force Temperature")
	field(EGU,  "m/s2")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-024_iDB")
	info("plc_variable", "FB_ForceValue")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_HIHI",            "REAL",                           PV_DESC="Feedback Limit HIHI",        PV_EGU="m/s2")
record(ai, "Tgt-TWDS1000:Mech-BA-024:FB_Limit_HIHI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Feedback Limit HIHI")
	field(EGU,  "m/s2")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-024_iDB")
	info("plc_variable", "FB_Limit_HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_HI",              "REAL",                           PV_DESC="Feedback Limit HI",          PV_EGU="m/s2")
record(ai, "Tgt-TWDS1000:Mech-BA-024:FB_Limit_HI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Feedback Limit HI")
	field(EGU,  "m/s2")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-024_iDB")
	info("plc_variable", "FB_Limit_HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_LO",              "REAL",                           PV_DESC="Feedback Limit LO",          PV_EGU="m/s2")
record(ai, "Tgt-TWDS1000:Mech-BA-024:FB_Limit_LO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Feedback Limit LO")
	field(EGU,  "m/s2")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-024_iDB")
	info("plc_variable", "FB_Limit_LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("FB_Limit_LOLO",            "REAL",                           PV_DESC="Feedback Limit LOLO",        PV_EGU="m/s2")
record(ai, "Tgt-TWDS1000:Mech-BA-024:FB_Limit_LOLO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Feedback Limit LOLO")
	field(EGU,  "m/s2")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-024_iDB")
	info("plc_variable", "FB_Limit_LOLO")
	info(autosaveFields_pass0, "VAL")
}



############################
#COMMAND BLOCK
############################
#<<<--- define_command_block()

##########
########## Tgt-TWDS1000:Mech-BA-024 EPICS -> PLC commands   ##########
##########

#OPI buttons
#<<<--- add_digital("Cmd_FreeRun",             PV_DESC="CMD: FreeRun Mode")
record(bo, "Tgt-TWDS1000:Mech-BA-024:Cmd_FreeRun")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: FreeRun Mode")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-024_iDB")
	info("plc_variable", "Cmd_FreeRun")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_Force",               PV_DESC="CMD: Force Mode")
record(bo, "Tgt-TWDS1000:Mech-BA-024:Cmd_Force")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Force Mode")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-024_iDB")
	info("plc_variable", "Cmd_Force")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_ForceVal",            PV_DESC="CMD: Force Value")
record(bo, "Tgt-TWDS1000:Mech-BA-024:Cmd_ForceVal")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Force Value")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-024_iDB")
	info("plc_variable", "Cmd_ForceVal")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_AckAlarm",            PV_DESC="CMD: Acknowledge Alarm")
record(bo, "Tgt-TWDS1000:Mech-BA-024:Cmd_AckAlarm")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Acknowledge Alarm")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-024_iDB")
	info("plc_variable", "Cmd_AckAlarm")
	info(autosaveFields_pass0, "VAL")
}


#<<<--- add_digital("Cmd_ForceUnlock",         PV_DESC="CMD: Force Unlock Device")
record(bo, "Tgt-TWDS1000:Mech-BA-024:Cmd_ForceUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Force Unlock Device")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-024_iDB")
	info("plc_variable", "Cmd_ForceUnlock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevLock",             PV_DESC="CMD: Lock Device")
record(bo, "Tgt-TWDS1000:Mech-BA-024:Cmd_DevLock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Lock Device")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-024_iDB")
	info("plc_variable", "Cmd_DevLock")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_digital("Cmd_DevUnlock",           PV_DESC="CMD: Unlock Device")
record(bo, "Tgt-TWDS1000:Mech-BA-024:Cmd_DevUnlock")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "CMD: Unlock Device")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-024_iDB")
	info("plc_variable", "Cmd_DevUnlock")
	info(autosaveFields_pass0, "VAL")
}


############################
#PARAMETER BLOCK
############################
#<<<--- define_parameter_block()

##########
########## Tgt-TWDS1000:Mech-BA-024 EPICS -> PLC parameters ##########
##########

#Limits
#<<<--- add_analog("P_Limit_HIHI",             "REAL",                           PV_DESC="Limit HIHI",                 PV_EGU="m/s2")
record(ao, "Tgt-TWDS1000:Mech-BA-024:P_Limit_HIHI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Limit HIHI")
	field(EGU,  "m/s2")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-024_iDB")
	info("plc_variable", "P_Limit_HIHI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_HI",               "REAL",                           PV_DESC="Limit HI",                   PV_EGU="m/s2")
record(ao, "Tgt-TWDS1000:Mech-BA-024:P_Limit_HI")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Limit HI")
	field(EGU,  "m/s2")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-024_iDB")
	info("plc_variable", "P_Limit_HI")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_LO",               "REAL",                           PV_DESC="Limit LO",                   PV_EGU="m/s2")
record(ao, "Tgt-TWDS1000:Mech-BA-024:P_Limit_LO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Limit LO")
	field(EGU,  "m/s2")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-024_iDB")
	info("plc_variable", "P_Limit_LO")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_Limit_LOLO",             "REAL",                           PV_DESC="Limit LOLO",                 PV_EGU="m/s2")
record(ao, "Tgt-TWDS1000:Mech-BA-024:P_Limit_LOLO")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Limit LOLO")
	field(EGU,  "m/s2")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-024_iDB")
	info("plc_variable", "P_Limit_LOLO")
	info(autosaveFields_pass0, "VAL")
}


#Forcing
#<<<--- add_analog("P_ForceValue",             "REAL",                           PV_DESC="Force Temperature",          PV_EGU="m/s2")
record(ao, "Tgt-TWDS1000:Mech-BA-024:P_ForceValue")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Force Temperature")
	field(EGU,  "m/s2")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-024_iDB")
	info("plc_variable", "P_ForceValue")
	info(autosaveFields_pass0, "VAL")
}


#Locking mechanism
#<<<--- add_analog("P_Faceplate_LockID",       "DINT",                           PV_DESC="Device ID after Lock")
record(ao, "Tgt-TWDS1000:Mech-BA-024:P_Faceplate_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Device ID after Lock")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-024_iDB")
	info("plc_variable", "P_Faceplate_LockID")
	info(autosaveFields_pass0, "VAL")
}

#<<<--- add_analog("P_BlockIcon_LockID",       "DINT",                           PV_DESC="Device ID after Blockicon Open")
record(ao, "Tgt-TWDS1000:Mech-BA-024:P_BlockIcon_LockID")
{
	field(DISS, "INVALID")
	field(DISV, "0")
	field(SDIS, "Tgt-TWDS1000:Ctrl-PLC-01:PLCHashCorrectR CP")
	field(DESC, "Device ID after Blockicon Open")
	field(DRVH, "2147483647")
	field(DRVL, "-2147483648")
	info("plc_datablock", "DEV_Tgt-TWDS1000:Mech-BA-024_iDB")
	info("plc_variable", "P_BlockIcon_LockID")
	info(autosaveFields_pass0, "VAL")
}

record(fanout, "Tgt-TWDS1000:Mech-BA-024:UploadParametersS") {
	field(LNK1, "Tgt-TWDS1000:Mech-BA-024:P_Limit_HIHI")
	field(LNK2, "Tgt-TWDS1000:Mech-BA-024:P_Limit_HI")
	field(LNK3, "Tgt-TWDS1000:Mech-BA-024:P_Limit_LO")
	field(LNK4, "Tgt-TWDS1000:Mech-BA-024:P_Limit_LOLO")
	field(LNK5, "Tgt-TWDS1000:Mech-BA-024:P_ForceValue")
	field(LNK6, "Tgt-TWDS1000:Mech-BA-024:_UploadParamS1-FO")
}
record(fanout, "Tgt-TWDS1000:Mech-BA-024:_UploadParamS1-FO") {
	field(LNK1, "Tgt-TWDS1000:Mech-BA-024:P_Faceplate_LockID")
	field(LNK2, "Tgt-TWDS1000:Mech-BA-024:P_BlockIcon_LockID")
}


